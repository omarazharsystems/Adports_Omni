import _slicedToArray from "@babel/runtime-corejs3/helpers/slicedToArray";
import classNames from 'classnames';
import PropTypes from 'prop-types';
import React, { useCallback, useRef } from 'react';
import useDir from './hooks/useDir';
import useScrollBarPercentage from './hooks/useScrollBarPercentage';
import useScrollOneLeft from './hooks/useScrollOneLeft';
import useScrollOneRight from './hooks/useScrollOneRight';
var Flipper = function Flipper(_ref) {
  var ariaLabel = _ref['aria-label'],
    blurFocusOnClick = _ref.blurFocusOnClick,
    children = _ref.children,
    mode = _ref.mode;
  var _useDir = useDir(),
    _useDir2 = _slicedToArray(_useDir, 1),
    dir = _useDir2[0];
  var _useScrollBarPercenta = useScrollBarPercentage(),
    _useScrollBarPercenta2 = _slicedToArray(_useScrollBarPercenta, 1),
    scrollBarPercentage = _useScrollBarPercenta2[0];
  var buttonRef = useRef();
  var left = mode === 'left';
  var scrollOneLeft = useScrollOneLeft();
  var scrollOneRight = useScrollOneRight();
  var handleClick = useCallback(function () {
    left ? scrollOneLeft() : scrollOneRight();
    blurFocusOnClick && buttonRef.current && buttonRef.current.blur();
  }, [blurFocusOnClick, buttonRef, left, scrollOneLeft, scrollOneRight]);
  var handleKeyDown = useCallback(function (event) {
    var key = event.key;
    if (key === 'Enter' || key === ' ') {
      event.preventDefault();
      left ? scrollOneLeft() : scrollOneRight();
    }
  }, [left, scrollOneLeft, scrollOneRight]);
  var hide;
  if (dir === 'rtl') {
    if (left) {
      hide = scrollBarPercentage === '100%' || scrollBarPercentage === '-100%';
    } else {
      hide = scrollBarPercentage === '0%';
    }
  } else {
    if (left) {
      hide = scrollBarPercentage === '0%';
    } else {
      hide = scrollBarPercentage === '100%';
    }
  }
  return /*#__PURE__*/React.createElement("button", {
    "aria-label": ariaLabel || (left ? 'left' : 'right'),
    className: classNames('react-film__flipper', 'react-film__main__overlay', {
      'react-film__flipper--left': left,
      'react-film__flipper--right': !left
    }),
    onClick: handleClick,
    onKeyDown: handleKeyDown,
    ref: buttonRef,
    type: "button"
  }, /*#__PURE__*/React.createElement("div", {
    className: classNames('react-film__flipper__slider', 'react-film__main__slider', {
      'react-film__main__slider--hide': hide,
      'react-film__main__slider--left': left,
      'react-film__main__slider--right': !left
    })
  }, /*#__PURE__*/React.createElement("div", {
    className: "react-film__flipper__body"
  }, children)));
};
Flipper.defaultProps = {
  'aria-label': undefined,
  blurFocusOnClick: false,
  children: undefined,
  mode: 'left'
};
Flipper.propTypes = {
  'aria-label': PropTypes.string,
  blurFocusOnClick: PropTypes.bool,
  children: PropTypes.any,
  mode: PropTypes.oneOf(['left', 'right'])
};
export default Flipper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjbGFzc05hbWVzIiwiUHJvcFR5cGVzIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZURpciIsInVzZVNjcm9sbEJhclBlcmNlbnRhZ2UiLCJ1c2VTY3JvbGxPbmVMZWZ0IiwidXNlU2Nyb2xsT25lUmlnaHQiLCJGbGlwcGVyIiwiYXJpYUxhYmVsIiwiYmx1ckZvY3VzT25DbGljayIsImNoaWxkcmVuIiwibW9kZSIsImRpciIsInNjcm9sbEJhclBlcmNlbnRhZ2UiLCJidXR0b25SZWYiLCJsZWZ0Iiwic2Nyb2xsT25lTGVmdCIsInNjcm9sbE9uZVJpZ2h0IiwiaGFuZGxlQ2xpY2siLCJjdXJyZW50IiwiYmx1ciIsImhhbmRsZUtleURvd24iLCJldmVudCIsImtleSIsInByZXZlbnREZWZhdWx0IiwiaGlkZSIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsInByb3BUeXBlcyIsInN0cmluZyIsImJvb2wiLCJhbnkiLCJvbmVPZiJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GbGlwcGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdXNlRGlyIGZyb20gJy4vaG9va3MvdXNlRGlyJztcbmltcG9ydCB1c2VTY3JvbGxCYXJQZXJjZW50YWdlIGZyb20gJy4vaG9va3MvdXNlU2Nyb2xsQmFyUGVyY2VudGFnZSc7XG5pbXBvcnQgdXNlU2Nyb2xsT25lTGVmdCBmcm9tICcuL2hvb2tzL3VzZVNjcm9sbE9uZUxlZnQnO1xuaW1wb3J0IHVzZVNjcm9sbE9uZVJpZ2h0IGZyb20gJy4vaG9va3MvdXNlU2Nyb2xsT25lUmlnaHQnO1xuXG5jb25zdCBGbGlwcGVyID0gKHsgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsIGJsdXJGb2N1c09uQ2xpY2ssIGNoaWxkcmVuLCBtb2RlIH0pID0+IHtcbiAgY29uc3QgW2Rpcl0gPSB1c2VEaXIoKTtcbiAgY29uc3QgW3Njcm9sbEJhclBlcmNlbnRhZ2VdID0gdXNlU2Nyb2xsQmFyUGVyY2VudGFnZSgpO1xuICBjb25zdCBidXR0b25SZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgbGVmdCA9IG1vZGUgPT09ICdsZWZ0JztcbiAgY29uc3Qgc2Nyb2xsT25lTGVmdCA9IHVzZVNjcm9sbE9uZUxlZnQoKTtcbiAgY29uc3Qgc2Nyb2xsT25lUmlnaHQgPSB1c2VTY3JvbGxPbmVSaWdodCgpO1xuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGxlZnQgPyBzY3JvbGxPbmVMZWZ0KCkgOiBzY3JvbGxPbmVSaWdodCgpO1xuICAgIGJsdXJGb2N1c09uQ2xpY2sgJiYgYnV0dG9uUmVmLmN1cnJlbnQgJiYgYnV0dG9uUmVmLmN1cnJlbnQuYmx1cigpO1xuICB9LCBbYmx1ckZvY3VzT25DbGljaywgYnV0dG9uUmVmLCBsZWZ0LCBzY3JvbGxPbmVMZWZ0LCBzY3JvbGxPbmVSaWdodF0pO1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhcbiAgICBldmVudCA9PiB7XG4gICAgICBjb25zdCB7IGtleSB9ID0gZXZlbnQ7XG5cbiAgICAgIGlmIChrZXkgPT09ICdFbnRlcicgfHwga2V5ID09PSAnICcpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGVmdCA/IHNjcm9sbE9uZUxlZnQoKSA6IHNjcm9sbE9uZVJpZ2h0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbbGVmdCwgc2Nyb2xsT25lTGVmdCwgc2Nyb2xsT25lUmlnaHRdXG4gICk7XG5cbiAgbGV0IGhpZGU7XG5cbiAgaWYgKGRpciA9PT0gJ3J0bCcpIHtcbiAgICBpZiAobGVmdCkge1xuICAgICAgaGlkZSA9IHNjcm9sbEJhclBlcmNlbnRhZ2UgPT09ICcxMDAlJyB8fCBzY3JvbGxCYXJQZXJjZW50YWdlID09PSAnLTEwMCUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlID0gc2Nyb2xsQmFyUGVyY2VudGFnZSA9PT0gJzAlJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxlZnQpIHtcbiAgICAgIGhpZGUgPSBzY3JvbGxCYXJQZXJjZW50YWdlID09PSAnMCUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlID0gc2Nyb2xsQmFyUGVyY2VudGFnZSA9PT0gJzEwMCUnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgYXJpYS1sYWJlbD17YXJpYUxhYmVsIHx8IChsZWZ0ID8gJ2xlZnQnIDogJ3JpZ2h0Jyl9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3JlYWN0LWZpbG1fX2ZsaXBwZXInLCAncmVhY3QtZmlsbV9fbWFpbl9fb3ZlcmxheScsIHtcbiAgICAgICAgJ3JlYWN0LWZpbG1fX2ZsaXBwZXItLWxlZnQnOiBsZWZ0LFxuICAgICAgICAncmVhY3QtZmlsbV9fZmxpcHBlci0tcmlnaHQnOiAhbGVmdFxuICAgICAgfSl9XG4gICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgIHJlZj17YnV0dG9uUmVmfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3JlYWN0LWZpbG1fX2ZsaXBwZXJfX3NsaWRlcicsICdyZWFjdC1maWxtX19tYWluX19zbGlkZXInLCB7XG4gICAgICAgICAgJ3JlYWN0LWZpbG1fX21haW5fX3NsaWRlci0taGlkZSc6IGhpZGUsXG4gICAgICAgICAgJ3JlYWN0LWZpbG1fX21haW5fX3NsaWRlci0tbGVmdCc6IGxlZnQsXG4gICAgICAgICAgJ3JlYWN0LWZpbG1fX21haW5fX3NsaWRlci0tcmlnaHQnOiAhbGVmdFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWFjdC1maWxtX19mbGlwcGVyX19ib2R5XCI+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG5GbGlwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgJ2FyaWEtbGFiZWwnOiB1bmRlZmluZWQsXG4gIGJsdXJGb2N1c09uQ2xpY2s6IGZhbHNlLFxuICBjaGlsZHJlbjogdW5kZWZpbmVkLFxuICBtb2RlOiAnbGVmdCdcbn07XG5cbkZsaXBwZXIucHJvcFR5cGVzID0ge1xuICAnYXJpYS1sYWJlbCc6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGJsdXJGb2N1c09uQ2xpY2s6IFByb3BUeXBlcy5ib29sLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgbW9kZTogUHJvcFR5cGVzLm9uZU9mKFsnbGVmdCcsICdyaWdodCddKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRmxpcHBlcjtcbiJdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU9BLFVBQVUsTUFBTSxZQUFZO0FBQ25DLE9BQU9DLFNBQVMsTUFBTSxZQUFZO0FBQ2xDLE9BQU9DLEtBQUssSUFBSUMsV0FBVyxFQUFFQyxNQUFNLFFBQVEsT0FBTztBQUVsRCxPQUFPQyxNQUFNLE1BQU0sZ0JBQWdCO0FBQ25DLE9BQU9DLHNCQUFzQixNQUFNLGdDQUFnQztBQUNuRSxPQUFPQyxnQkFBZ0IsTUFBTSwwQkFBMEI7QUFDdkQsT0FBT0MsaUJBQWlCLE1BQU0sMkJBQTJCO0FBRXpELElBQU1DLE9BQU8sR0FBRyxTQUFWQSxPQUFPLE9BQXNFO0VBQUEsSUFBbERDLFNBQVMsUUFBdkIsWUFBWTtJQUFhQyxnQkFBZ0IsUUFBaEJBLGdCQUFnQjtJQUFFQyxRQUFRLFFBQVJBLFFBQVE7SUFBRUMsSUFBSSxRQUFKQSxJQUFJO0VBQzFFLGNBQWNSLE1BQU0sRUFBRTtJQUFBO0lBQWZTLEdBQUc7RUFDViw0QkFBOEJSLHNCQUFzQixFQUFF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