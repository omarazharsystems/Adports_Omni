"use strict";

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");
var _interopRequireWildcard = require("@babel/runtime-corejs3/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault").default;
_Object$defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/slicedToArray"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _react = _interopRequireWildcard(require("react"));
var _useIndex3 = _interopRequireDefault(require("./hooks/useIndex"));
var _useScrollTo = _interopRequireDefault(require("./hooks/useScrollTo"));
var Dot = function Dot(_ref) {
  var ariaLabel = _ref['aria-label'],
    itemIndex = _ref.itemIndex;
  var _useIndex = (0, _useIndex3.default)(),
    _useIndex2 = (0, _slicedToArray2.default)(_useIndex, 1),
    index = _useIndex2[0];
  var scrollTo = (0, _useScrollTo.default)();
  var checked = index === itemIndex;
  var handleChange = (0, _react.useCallback)(function () {
    return scrollTo(function () {
      return itemIndex;
    });
  }, [itemIndex, scrollTo]);
  var handleKeyPress = (0, _react.useCallback)(function (event) {
    var keyCode = event.keyCode;

    // 13 is ENTER, 32 is SPACEBAR.
    // eslint-disable-next-line no-magic-numbers
    if (keyCode === 13 || keyCode === 32) {
      event.preventDefault();
      event.stopPropagation();
      handleChange();
    }
  }, [handleChange]);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "react-film__dot"
  }, /*#__PURE__*/_react.default.createElement("input", {
    "aria-label": ariaLabel,
    "aria-pressed": checked,
    checked: checked,
    className: "react-film__dot__input",
    onChange: handleChange,
    onKeyPress: handleKeyPress,
    role: "button",
    type: "checkbox"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "react-film__dot__handle"
  }));
};
Dot.defaultProps = {
  'aria-label': undefined
};
Dot.propTypes = {
  'aria-label': _propTypes.default.string,
  itemIndex: _propTypes.default.number.isRequired
};
var _default = Dot;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEb3QiLCJhcmlhTGFiZWwiLCJpdGVtSW5kZXgiLCJ1c2VJbmRleCIsImluZGV4Iiwic2Nyb2xsVG8iLCJ1c2VTY3JvbGxUbyIsImNoZWNrZWQiLCJoYW5kbGVDaGFuZ2UiLCJ1c2VDYWxsYmFjayIsImhhbmRsZUtleVByZXNzIiwiZXZlbnQiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWZhdWx0UHJvcHMiLCJ1bmRlZmluZWQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJudW1iZXIiLCJpc1JlcXVpcmVkIl0sInNvdXJjZXMiOlsiLi4vc3JjL0RvdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdXNlSW5kZXggZnJvbSAnLi9ob29rcy91c2VJbmRleCc7XG5pbXBvcnQgdXNlU2Nyb2xsVG8gZnJvbSAnLi9ob29rcy91c2VTY3JvbGxUbyc7XG5cbmNvbnN0IERvdCA9ICh7ICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsLCBpdGVtSW5kZXggfSkgPT4ge1xuICBjb25zdCBbaW5kZXhdID0gdXNlSW5kZXgoKTtcbiAgY29uc3Qgc2Nyb2xsVG8gPSB1c2VTY3JvbGxUbygpO1xuXG4gIGNvbnN0IGNoZWNrZWQgPSBpbmRleCA9PT0gaXRlbUluZGV4O1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSB1c2VDYWxsYmFjaygoKSA9PiBzY3JvbGxUbygoKSA9PiBpdGVtSW5kZXgpLCBbaXRlbUluZGV4LCBzY3JvbGxUb10pO1xuXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gdXNlQ2FsbGJhY2soXG4gICAgZXZlbnQgPT4ge1xuICAgICAgY29uc3QgeyBrZXlDb2RlIH0gPSBldmVudDtcblxuICAgICAgLy8gMTMgaXMgRU5URVIsIDMyIGlzIFNQQUNFQkFSLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1hZ2ljLW51bWJlcnNcbiAgICAgIGlmIChrZXlDb2RlID09PSAxMyB8fCBrZXlDb2RlID09PSAzMikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaGFuZGxlQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbaGFuZGxlQ2hhbmdlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInJlYWN0LWZpbG1fX2RvdFwiPlxuICAgICAgPGlucHV0XG4gICAgICAgIGFyaWEtbGFiZWw9e2FyaWFMYWJlbH1cbiAgICAgICAgYXJpYS1wcmVzc2VkPXtjaGVja2VkfVxuICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICBjbGFzc05hbWU9XCJyZWFjdC1maWxtX19kb3RfX2lucHV0XCJcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgb25LZXlQcmVzcz17aGFuZGxlS2V5UHJlc3N9XG4gICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVhY3QtZmlsbV9fZG90X19oYW5kbGVcIiAvPlxuICAgIDwvbGk+XG4gICk7XG59O1xuXG5Eb3QuZGVmYXVsdFByb3BzID0ge1xuICAnYXJpYS1sYWJlbCc6IHVuZGVmaW5lZFxufTtcblxuRG90LnByb3BUeXBlcyA9IHtcbiAgJ2FyaWEtbGFiZWwnOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpdGVtSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRG90O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQSxJQUFNQSxHQUFHLEdBQUcsU0FBTkEsR0FBRyxPQUErQztFQUFBLElBQTNCQyxTQUFTLFFBQXZCLFlBQVk7SUFBYUMsU0FBUyxRQUFUQSxTQUFTO0VBQy9DLGdCQUFnQixJQUFBQyxrQkFBUSxHQUFFO0lBQUE7SUFBbkJDLEtBQUs7RUFDWixJQUFNQyxRQUFRLEdBQUcsSUFBQUMsb0JBQVcsR0FBRTtFQUU5QixJQUFNQyxPQUFPLEdBQUdILEtBQUssS0FBS0YsU0FBUztFQUNuQyxJQUFNTSxZQUFZLEdBQUcsSUFBQUMsa0JBQVcsRUFBQztJQUFBLE9BQU1KLFFBQVEsQ0FBQztNQUFBLE9BQU1ILFNBQVM7SUFBQSxFQUFDO0VBQUEsR0FBRSxDQUFDQSxTQUFTLEVBQUVHLFFBQVEsQ0FBQyxDQUFDO0VBRXhGLElBQU1LLGNBQWMsR0FBRyxJQUFBRCxrQkFBVyxFQUNoQyxVQUFBRSxLQUFLLEVBQUk7SUFDUCxJQUFRQyxPQUFPLEdBQUtELEtBQUssQ0FBakJDLE9BQU87O0lBRWY7SUFDQTtJQUNBLElBQUlBLE9BQU8sS0FBSyxFQUFFLElBQUlBLE9BQU8sS0FBSyxFQUFFLEVBQUU7TUFDcENELEtBQUssQ0FBQ0UsY0FBYyxFQUFFO01BQ3RCRixLQUFLLENBQUNHLGVBQWUsRUFBRTtNQUN2Qk4sWUFBWSxFQUFFO0lBQ2hCO0VBQ0YsQ0FBQyxFQUNELENBQUNBLFlBQVksQ0FBQyxDQUNmO0VBRUQsb0JBQ0U7SUFBSSxTQUFTLEVBQUM7RUFBaUIsZ0JBQzdCO0lBQ0UsY0FBWVAsU0FBVTtJQUN0QixnQkFBY00sT0FBUTtJQUN0QixPQUFPLEVBQUVBLE9BQVE7SUFDakIsU0FBUyxFQUFDLHdCQUF3QjtJQUNsQyxRQUFRLEVBQUVDLFlBQWE7SUFDdkIsVUFBVSxFQUFFRSxjQUFlO0lBQzNCLElBQUksRUFBQyxRQUFRO0lBQ2IsSUFBSSxFQUFDO0VBQVUsRUFDZixlQUNGO0lBQUssU0FBUyxFQUFDO0VBQXlCLEVBQUcsQ0FDeEM7QUFFVCxDQUFDO0FBRURWLEdBQUcsQ0FBQ2UsWUFBWSxHQUFHO0VBQ2pCLFlBQVksRUFBRUM7QUFDaEIsQ0FBQztBQUVEaEIsR0FBRyxDQUFDaUIsU0FBUyxHQUFHO0VBQ2QsWUFBWSxFQUFFQyxrQkFBUyxDQUFDQyxNQUFNO0VBQzlCakIsU0FBUyxFQUFFZ0Isa0JBQVMsQ0FBQ0UsTUFBTSxDQUFDQztBQUM5QixDQUFDO0FBQUMsZUFFYXJCLEdBQUc7QUFBQSJ9