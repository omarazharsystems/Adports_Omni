"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _Constants = _interopRequireDefault(require("../Common/Constants"));

/* eslint-disable @typescript-eslint/no-explicit-any */
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
var sessionInitRetryHandler = function sessionInitRetryHandler(response, axiosRetryOptions) {
  if (response !== null && response !== void 0 && response.status) {
    switch (response.status) {
      case _Constants["default"].tooManyRequestsStatusCode:
        if (axiosRetryOptions && axiosRetryOptions.retryOn429 === false) {
          return false;
        }

        break;

      case _Constants["default"].badRequestStatusCode:
        if (parseInt(response.headers.errorcode) === _Constants["default"].outOfOfficeErrorCode) {
          return false;
        }

        break;

      default:
        return true;
    }
  }

  return true;
};

var _default = sessionInitRetryHandler;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9VdGlscy9TZXNzaW9uSW5pdFJldHJ5SGFuZGxlci50cyJdLCJuYW1lcyI6WyJzZXNzaW9uSW5pdFJldHJ5SGFuZGxlciIsInJlc3BvbnNlIiwiYXhpb3NSZXRyeU9wdGlvbnMiLCJzdGF0dXMiLCJDb25zdGFudHMiLCJ0b29NYW55UmVxdWVzdHNTdGF0dXNDb2RlIiwicmV0cnlPbjQyOSIsImJhZFJlcXVlc3RTdGF0dXNDb2RlIiwicGFyc2VJbnQiLCJoZWFkZXJzIiwiZXJyb3Jjb2RlIiwib3V0T2ZPZmZpY2VFcnJvckNvZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVBOztBQUZBO0FBS0E7QUFDQSxJQUFNQSx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLENBQUNDLFFBQUQsRUFBMkNDLGlCQUEzQyxFQUFxRjtBQUNqSCxNQUFJRCxRQUFKLGFBQUlBLFFBQUosZUFBSUEsUUFBUSxDQUFFRSxNQUFkLEVBQXNCO0FBQ2xCLFlBQVFGLFFBQVEsQ0FBQ0UsTUFBakI7QUFDSSxXQUFLQyxzQkFBVUMseUJBQWY7QUFDSSxZQUFJSCxpQkFBaUIsSUFBSUEsaUJBQWlCLENBQUNJLFVBQWxCLEtBQWlDLEtBQTFELEVBQWlFO0FBQzdELGlCQUFPLEtBQVA7QUFDSDs7QUFDRDs7QUFDSixXQUFLRixzQkFBVUcsb0JBQWY7QUFDSSxZQUFJQyxRQUFRLENBQUNQLFFBQVEsQ0FBQ1EsT0FBVCxDQUFpQkMsU0FBbEIsQ0FBUixLQUF5Q04sc0JBQVVPLG9CQUF2RCxFQUE2RTtBQUN6RSxpQkFBTyxLQUFQO0FBQ0g7O0FBQ0Q7O0FBQ0o7QUFBUyxlQUFPLElBQVA7QUFYYjtBQWFIOztBQUNELFNBQU8sSUFBUDtBQUNILENBakJEOztlQWtCZVgsdUIiLCJzb3VyY2VSb290Ijoib2NzZGs6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IHsgQXhpb3NSZXNwb25zZSB9IGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tIFwiLi4vQ29tbW9uL0NvbnN0YW50c1wiO1xuaW1wb3J0IElBeGlvc1JldHJ5T3B0aW9ucyBmcm9tIFwiLi4vSW50ZXJmYWNlcy9JQXhpb3NSZXRyeU9wdGlvbnNcIjtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmNvbnN0IHNlc3Npb25Jbml0UmV0cnlIYW5kbGVyID0gKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gfCB1bmRlZmluZWQsIGF4aW9zUmV0cnlPcHRpb25zOiBJQXhpb3NSZXRyeU9wdGlvbnMpID0+IHtcbiAgICBpZiAocmVzcG9uc2U/LnN0YXR1cykge1xuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMudG9vTWFueVJlcXVlc3RzU3RhdHVzQ29kZTpcbiAgICAgICAgICAgICAgICBpZiAoYXhpb3NSZXRyeU9wdGlvbnMgJiYgYXhpb3NSZXRyeU9wdGlvbnMucmV0cnlPbjQyOSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLmJhZFJlcXVlc3RTdGF0dXNDb2RlOlxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmVycm9yY29kZSkgPT09IENvbnN0YW50cy5vdXRPZk9mZmljZUVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZGVmYXVsdCBzZXNzaW9uSW5pdFJldHJ5SGFuZGxlcjsiXX0=