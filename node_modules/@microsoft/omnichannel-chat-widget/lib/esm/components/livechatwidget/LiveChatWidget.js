import React, { useReducer, useState } from "react";
import { ChatAdapterStore } from "../../contexts/ChatAdapterStore";
import { ChatContextStore } from "../../contexts/ChatContextStore";
import { ChatSDKStore } from "../../contexts/ChatSDKStore";
import LiveChatWidgetStateful from "./livechatwidgetstateful/LiveChatWidgetStateful";
import { createReducer } from "../../contexts/createReducer";
import { getLiveChatWidgetContextInitialState } from "../../contexts/common/LiveChatWidgetContextInitialState";
export const LiveChatWidget = props => {
  const reducer = createReducer();
  const [state, dispatch] = useReducer(reducer, getLiveChatWidgetContextInitialState(props));
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const [adapter, setAdapter] = useState(undefined);
  return /*#__PURE__*/React.createElement(ChatSDKStore.Provider, {
    value: props.chatSDK
  }, /*#__PURE__*/React.createElement(ChatAdapterStore.Provider, {
    value: [adapter, setAdapter]
  }, /*#__PURE__*/React.createElement(ChatContextStore.Provider, {
    value: [state, dispatch]
  }, /*#__PURE__*/React.createElement(LiveChatWidgetStateful, props))));
};
export default LiveChatWidget;