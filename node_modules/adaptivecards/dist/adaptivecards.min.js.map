{"version":3,"file":"adaptivecards.min.js","mappings":"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","sources":["webpack://AdaptiveCards/webpack/universalModuleDefinition","webpack://AdaptiveCards/./src/activity-request.ts","webpack://AdaptiveCards/./src/adaptive-applet.ts","webpack://AdaptiveCards/./src/adaptivecards.ts","webpack://AdaptiveCards/./src/card-elements.ts","webpack://AdaptiveCards/./src/card-object.ts","webpack://AdaptiveCards/./src/carousel.ts","webpack://AdaptiveCards/./src/channel-adapter.ts","webpack://AdaptiveCards/./src/controls/collection.ts","webpack://AdaptiveCards/./src/controls/constants.ts","webpack://AdaptiveCards/./src/controls/index.ts","webpack://AdaptiveCards/./src/controls/menu-item.ts","webpack://AdaptiveCards/./src/controls/popup-control.ts","webpack://AdaptiveCards/./src/controls/popup-menu.ts","webpack://AdaptiveCards/./src/enums.ts","webpack://AdaptiveCards/./src/host-capabilities.ts","webpack://AdaptiveCards/./src/host-config.ts","webpack://AdaptiveCards/./src/registry.ts","webpack://AdaptiveCards/./src/serialization.ts","webpack://AdaptiveCards/./src/shared.ts","webpack://AdaptiveCards/./src/strings.ts","webpack://AdaptiveCards/./src/table.ts","webpack://AdaptiveCards/./src/text-formatters.ts","webpack://AdaptiveCards/./src/utils.ts","webpack://AdaptiveCards/./node_modules/ssr-window/ssr-window.esm.js","webpack://AdaptiveCards/./node_modules/dom7/dom7.esm.js","webpack://AdaptiveCards/./node_modules/swiper/shared/dom.js","webpack://AdaptiveCards/./node_modules/swiper/shared/utils.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-support.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-device.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-browser.js","webpack://AdaptiveCards/./node_modules/swiper/core/events-emitter.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSize.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlides.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEmit.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToLoop.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideNext.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slidePrev.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideReset.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClosest.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopCreate.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopFix.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopDestroy.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchMove.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onResize.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onClick.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onScroll.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/addClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/removeClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/defaults.js","webpack://AdaptiveCards/./node_modules/swiper/core/moduleExtendParams.js","webpack://AdaptiveCards/./node_modules/swiper/core/core.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/getTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/setTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/minTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/maxTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/translateTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/setTransition.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/check-overflow/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/loadImage.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/preloadImages.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/resize/resize.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/observer/observer.js","webpack://AdaptiveCards/./node_modules/swiper/modules/virtual/virtual.js","webpack://AdaptiveCards/./node_modules/swiper/modules/keyboard/keyboard.js","webpack://AdaptiveCards/./node_modules/swiper/modules/mousewheel/mousewheel.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://AdaptiveCards/./node_modules/swiper/modules/navigation/navigation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/classes-to-selector.js","webpack://AdaptiveCards/./node_modules/swiper/modules/pagination/pagination.js","webpack://AdaptiveCards/./node_modules/swiper/modules/scrollbar/scrollbar.js","webpack://AdaptiveCards/./node_modules/swiper/modules/parallax/parallax.js","webpack://AdaptiveCards/./node_modules/swiper/modules/zoom/zoom.js","webpack://AdaptiveCards/./node_modules/swiper/modules/lazy/lazy.js","webpack://AdaptiveCards/./node_modules/swiper/modules/controller/controller.js","webpack://AdaptiveCards/./node_modules/swiper/modules/a11y/a11y.js","webpack://AdaptiveCards/./node_modules/swiper/modules/history/history.js","webpack://AdaptiveCards/./node_modules/swiper/modules/hash-navigation/hash-navigation.js","webpack://AdaptiveCards/./node_modules/swiper/modules/autoplay/autoplay.js","webpack://AdaptiveCards/./node_modules/swiper/modules/thumbs/thumbs.js","webpack://AdaptiveCards/./node_modules/swiper/modules/free-mode/free-mode.js","webpack://AdaptiveCards/./node_modules/swiper/modules/grid/grid.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/appendSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/prependSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/addSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/manipulation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-init.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-target.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-virtual-transition-end.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-fade/effect-fade.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cube/effect-cube.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-shadow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-flip/effect-flip.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-creative/effect-creative.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cards/effect-cards.js","webpack://AdaptiveCards/webpack/bootstrap","webpack://AdaptiveCards/webpack/runtime/define property getters","webpack://AdaptiveCards/webpack/runtime/hasOwnProperty shorthand","webpack://AdaptiveCards/webpack/runtime/make namespace object","webpack://AdaptiveCards/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AdaptiveCards\"] = factory();\n\telse\n\t\troot[\"AdaptiveCards\"] = factory();\n})(this, function() {\nreturn ","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    Authentication,\n    AuthCardButton,\n    UniversalAction,\n    TokenExchangeResource\n} from \"./card-elements\";\n\nexport enum ActivityRequestTrigger {\n    Automatic = \"automatic\",\n    Manual = \"manual\"\n}\n\nexport interface IActivityRequest {\n    readonly action: UniversalAction;\n    readonly trigger: ActivityRequestTrigger;\n    readonly attemptNumber: number;\n    readonly consecutiveActions: number;\n\n    authCode?: string;\n    authToken?: string;\n\n    retryAsync(): void;\n}\n\nexport class ActivityRequestError {\n    constructor(readonly code?: string, readonly message?: string) {}\n}\n\nexport abstract class ActivityResponse {\n    constructor(readonly request: IActivityRequest) {}\n}\n\nexport class SuccessResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly rawContent?: string) {\n        super(request);\n    }\n}\n\nexport class ErrorResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly error: ActivityRequestError) {\n        super(request);\n    }\n}\n\nexport class LoginRequestResponse extends ActivityResponse {\n    private _auth: Authentication;\n    readonly signinButton?: AuthCardButton;\n\n    constructor(readonly request: IActivityRequest, auth: Authentication) {\n        super(request);\n        this._auth = auth;\n\n        for (const button of this._auth.buttons) {\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n\n                    this.signinButton = button;\n\n                    break;\n                } catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n    }\n\n    get tokenExchangeResource(): TokenExchangeResource | undefined {\n        return this._auth.tokenExchangeResource;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\nimport { ChannelAdapter } from \"./channel-adapter\";\nimport {\n    ActivityResponse,\n    IActivityRequest,\n    ActivityRequestTrigger,\n    SuccessResponse,\n    ErrorResponse,\n    LoginRequestResponse\n} from \"./activity-request\";\nimport { Strings } from \"./strings\";\nimport {\n    SubmitAction,\n    ExecuteAction,\n    SerializationContext,\n    AdaptiveCard,\n    Action,\n    Input,\n    TokenExchangeResource,\n    AuthCardButton,\n    UniversalAction,\n    ChoiceSetInput,\n    DataQuery\n} from \"./card-elements\";\nimport { Versions } from \"./serialization\";\nimport { HostConfig } from \"./host-config\";\n\nfunction logEvent(level: Enums.LogLevel, message?: any, ...optionalParams: any[]) {\n    if (GlobalSettings.applets.logEnabled) {\n        if (GlobalSettings.applets.onLogEvent) {\n            GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        } else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\n\nclass ActivityRequest implements IActivityRequest {\n    constructor(\n        readonly action: UniversalAction,\n        readonly trigger: ActivityRequestTrigger,\n        readonly consecutiveActions: number\n    ) {}\n\n    authCode?: string;\n    authToken?: string;\n    attemptNumber: number = 0;\n\n    onSend: (sender: ActivityRequest) => void;\n\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async retryAsync(): Promise<void> {\n        if (this.onSend) {\n            this.onSend(this);\n        }\n    }\n}\n\nexport class AdaptiveApplet {\n    private static readonly _submitMagicCodeActionId = \"submitMagicCode\";\n    private static readonly _cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n\n    private _card?: AdaptiveCard;\n    private _cardPayload: any;\n    private _choiceSet?: ChoiceSetInput;\n    private _allowAutomaticCardUpdate: boolean = false;\n    private _refreshButtonHostElement: HTMLElement;\n    private _cardHostElement: HTMLElement;\n    private _progressOverlay?: HTMLElement;\n\n    private displayCard(card: AdaptiveCard) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            this._cardHostElement.appendChild(card.renderedElement);\n        } else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    }\n\n    private showManualRefreshButton(refreshAction: ExecuteAction) {\n        const displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            let renderedRefreshButton: HTMLElement | undefined = undefined;\n\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            } else {\n                let message = Strings.runtime.refreshThisCard();\n\n                if (GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    let autoRefreshPausedMessage = Strings.runtime.automaticRefreshPaused();\n\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n\n                    message = Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n\n                const cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n\n                const card = new AdaptiveCard();\n                card.parse(cardPayload, new SerializationContext(Versions.v1_2));\n                card.onExecuteAction = (action: Action) => {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                        this.internalExecuteAction(\n                            refreshAction,\n                            ActivityRequestTrigger.Automatic,\n                            0\n                        );\n                    }\n                };\n\n                renderedRefreshButton = card.render();\n            }\n\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    }\n\n    private createActivityRequest(\n        action: UniversalAction,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ): ActivityRequest | undefined {\n        if (this.card) {\n            const request = new ActivityRequest(action, trigger, consecutiveActions);\n            request.onSend = (sender: ActivityRequest) => {\n                sender.attemptNumber++;\n\n                void this.internalSendActivityRequestAsync(request);\n            };\n\n            const cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request, action)\n                : false;\n\n            return cancel ? undefined : request;\n        } else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    }\n\n    private createMagicCodeInputCard(attemptNumber: number): AdaptiveCard {\n        const payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n\n        const card = new AdaptiveCard();\n        card.parse(payload);\n\n        return card;\n    }\n\n    private cancelAutomaticRefresh() {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(\n                Enums.LogLevel.Warning,\n                \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\"\n            );\n        }\n\n        this._allowAutomaticCardUpdate = false;\n    }\n\n    private createSerializationContext(): SerializationContext {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new SerializationContext();\n    }\n\n    private internalSetCard(payload: any, consecutiveActions: number) {\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n\n        if (this._cardPayload) {\n            try {\n                const card = new AdaptiveCard();\n\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n\n                const serializationContext = this.createSerializationContext();\n\n                card.parse(this._cardPayload, serializationContext);\n\n                const doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n\n                if (doChangeCard) {\n                    this._card = card;\n\n                    if (\n                        this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken\n                    ) {\n                        this.onPrefetchSSOToken(\n                            this,\n                            this._card.authentication.tokenExchangeResource\n                        );\n                    }\n\n                    this._card.onExecuteAction = (action: Action) => {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n\n                        this.internalExecuteAction(action, ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = (input: Input) => {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n                        if (input instanceof ChoiceSetInput && input.isDynamicTypeahead()) {\n                            const filter = input.getFilterForDynamicSearch();\n                            if (filter) {\n                                const dataQueryAction = new DataQuery();\n                                dataQueryAction.filter = filter;\n                                dataQueryAction.dataset = input.choicesData?.dataset || \"\";\n                                dataQueryAction.count = input.choicesData?.count;\n                                dataQueryAction.skip = input.choicesData?.skip;\n\n                                this._choiceSet = input;\n                                this.internalExecuteAction(\n                                    dataQueryAction,\n                                    ActivityRequestTrigger.Manual,\n                                    0 // consecutiveActions\n                                );\n                            }\n                        }\n                    };\n\n                    this._card.render();\n\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n\n                        if (this._card.refresh) {\n                            if (\n                                GlobalSettings.applets.refresh.mode ===\n                                    Enums.RefreshMode.Automatic &&\n                                consecutiveActions <\n                                    GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes\n                            ) {\n                                if (\n                                    GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0\n                                ) {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Triggering automatic card refresh number \" +\n                                            (consecutiveActions + 1)\n                                    );\n\n                                    this.internalExecuteAction(\n                                        this._card.refresh.action,\n                                        ActivityRequestTrigger.Automatic,\n                                        consecutiveActions + 1\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Scheduling automatic card refresh number \" +\n                                            (consecutiveActions + 1) +\n                                            \" in \" +\n                                            GlobalSettings.applets.refresh\n                                                .timeBetweenAutomaticRefreshes +\n                                            \"ms\"\n                                    );\n\n                                    const action = this._card.refresh.action;\n\n                                    this._allowAutomaticCardUpdate = true;\n\n                                    window.setTimeout(() => {\n                                        if (this._allowAutomaticCardUpdate) {\n                                            this.internalExecuteAction(\n                                                action,\n                                                ActivityRequestTrigger.Automatic,\n                                                consecutiveActions + 1\n                                            );\n                                        }\n                                    }, GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            } else if (\n                                GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled\n                            ) {\n                                if (consecutiveActions > 0) {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"Stopping automatic refreshes after \" +\n                                            consecutiveActions +\n                                            \" consecutive refreshes.\"\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"The card has a refresh section, but automatic refreshes are disabled.\"\n                                    );\n                                }\n\n                                if (\n                                    GlobalSettings.applets.refresh\n                                        .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual\n                                ) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    }\n\n    private internalExecuteAction(\n        action: Action,\n        trigger: ActivityRequestTrigger,\n        consecutiveActions: number\n    ) {\n        if (action instanceof UniversalAction) {\n            if (this.channelAdapter) {\n                const request = this.createActivityRequest(action, trigger, consecutiveActions);\n\n                if (request) {\n                    void request.retryAsync();\n                }\n            } else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    }\n\n    private createProgressOverlay(request: ActivityRequest): HTMLElement | undefined {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            } else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n\n                const spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n\n        return this._progressOverlay;\n    }\n\n    private removeProgressOverlay(request: IActivityRequest) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n\n            this._progressOverlay = undefined;\n        }\n    }\n\n    private activityRequestSucceeded(\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    }\n\n    private activityRequestFailed(response: ErrorResponse): number {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    }\n\n    private showAuthCodeInputDialog(request: ActivityRequest) {\n        const showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n\n        if (showBuiltInAuthCodeInputCard) {\n            const authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = (submitMagicCodeAction: Action) => {\n                if (this.card && submitMagicCodeAction instanceof SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            let authCode: string | undefined = undefined;\n\n                            if (\n                                submitMagicCodeAction.data &&\n                                typeof (<any>submitMagicCodeAction.data)[\"magicCode\"] === \"string\"\n                            ) {\n                                authCode = (<any>submitMagicCodeAction.data)[\"magicCode\"];\n                            }\n\n                            if (authCode) {\n                                this.displayCard(this.card);\n\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            } else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n\n                            this.displayCard(this.card);\n\n                            break;\n                        default:\n                            logEvent(\n                                Enums.LogLevel.Error,\n                                \"Unexpected action taken from magic code input card (id = \" +\n                                    submitMagicCodeAction.id +\n                                    \")\"\n                            );\n\n                            alert(Strings.magicCodeInputCard.somethingWentWrong());\n\n                            break;\n                    }\n                }\n            };\n\n            this.displayCard(authCodeInputCard);\n        }\n    }\n\n    private async internalSendActivityRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n        }\n        const { action } = request;\n        if (action instanceof ExecuteAction) {\n            await this.internalSendExecuteRequestAsync(request);\n        } else if (action instanceof DataQuery) {\n            await this.internalSendDataQueryRequestAsync(request);\n        } else {\n            throw new Error(\"internalSendActivityRequestAsync: Unhandled Action Type\");\n        }\n    }\n\n    private async internalSendExecuteRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendExecuteRequestAsync: channelAdapter is not set.\");\n        }\n\n        const overlay = this.createProgressOverlay(request);\n\n        if (overlay !== undefined) {\n            this.renderedElement.appendChild(overlay);\n        }\n\n        let done = false;\n\n        while (!done) {\n            let response: ActivityResponse | undefined = undefined;\n\n            if (request.attemptNumber === 1) {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            } else {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            }\n\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n\n                this.removeProgressOverlay(request);\n\n                done = true;\n            }\n\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    this.removeProgressOverlay(request);\n\n                    if (response.rawContent === undefined) {\n                        throw new Error(\n                            \"internalSendActivityRequestAsync: Action.Execute result is undefined\"\n                        );\n                    }\n\n                    let parsedContent = response.rawContent;\n\n                    try {\n                        parsedContent = JSON.parse(response.rawContent);\n                    } catch {\n                        // Leave parseContent as is\n                    }\n\n                    if (typeof parsedContent === \"string\") {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned a string after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.activityRequestSucceeded(response, parsedContent);\n                    } else if (\n                        typeof parsedContent === \"object\" &&\n                        parsedContent[\"type\"] === \"AdaptiveCard\"\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned an Adaptive Card after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.internalSetCard(parsedContent, request.consecutiveActions);\n                        this.activityRequestSucceeded(response, this.card);\n                    } else {\n                        throw new Error(\n                            \"internalSendActivityRequestAsync: Action.Execute result is of unsupported type (\" +\n                                typeof response.rawContent +\n                                \")\"\n                        );\n                    }\n\n                    done = true;\n                } else if (response instanceof ErrorResponse) {\n                    const retryIn: number = this.activityRequestFailed(response);\n\n                    if (\n                        retryIn >= 0 &&\n                        request.attemptNumber < GlobalSettings.applets.maximumRetryAttempts\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Warning,\n                            `Activity request failed: ${response.error.message}. Retrying in ${retryIn}ms`\n                        );\n\n                        request.attemptNumber++;\n\n                        await new Promise<void>((resolve, _reject) => {\n                            window.setTimeout(() => {\n                                resolve();\n                            }, retryIn);\n                        });\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            `Activity request failed: ${response.error.message}. Giving up after ${request.attemptNumber} attempt(s)`\n                        );\n\n                        this.removeProgressOverlay(request);\n\n                        done = true;\n                    }\n                } else if (response instanceof LoginRequestResponse) {\n                    logEvent(\n                        Enums.LogLevel.Info,\n                        \"The activity request returned a LoginRequestResponse after \" +\n                            request.attemptNumber +\n                            \" attempt(s).\"\n                    );\n\n                    if (request.attemptNumber <= GlobalSettings.applets.maximumRetryAttempts) {\n                        let attemptOAuth = true;\n\n                        if (response.tokenExchangeResource && this.onSSOTokenNeeded) {\n                            // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                            // we bypass OAuth\n                            attemptOAuth = !this.onSSOTokenNeeded(\n                                this,\n                                request,\n                                response.tokenExchangeResource\n                            );\n                        }\n\n                        if (attemptOAuth) {\n                            // Attempt to use OAuth\n                            this.removeProgressOverlay(request);\n\n                            if (response.signinButton === undefined) {\n                                throw new Error(\n                                    \"internalSendActivityRequestAsync: the login request doesn't contain a valid signin URL.\"\n                                );\n                            }\n\n                            logEvent(\n                                Enums.LogLevel.Info,\n                                \"Login required at \" + response.signinButton.value\n                            );\n\n                            if (this.onShowSigninPrompt) {\n                                // Bypass the built-in auth prompt if the host app handles it\n                                this.onShowSigninPrompt(this, request, response.signinButton);\n                            } else {\n                                this.showAuthCodeInputDialog(request);\n\n                                const left =\n                                    window.screenX +\n                                    (window.outerWidth - GlobalSettings.applets.authPromptWidth) /\n                                        2;\n                                const top =\n                                    window.screenY +\n                                    (window.outerHeight - GlobalSettings.applets.authPromptHeight) /\n                                        2;\n\n                                window.open(\n                                    response.signinButton.value,\n                                    response.signinButton.title\n                                        ? response.signinButton.title\n                                        : \"Sign in\",\n                                    `width=${GlobalSettings.applets.authPromptWidth},height=${GlobalSettings.applets.authPromptHeight},left=${left},top=${top}`\n                                );\n                            }\n                        }\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            \"Authentication failed. Giving up after \" +\n                                request.attemptNumber +\n                                \" attempt(s)\"\n                        );\n\n                        alert(Strings.magicCodeInputCard.authenticationFailed());\n                    }\n\n                    // Exit the loop. After a LoginRequestResponse, the host app is responsible for retrying the request\n                    break;\n                } else {\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            }\n        }\n    }\n\n    private async internalSendDataQueryRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendDataQueryRequestAsync: channel adapter not set\");\n        }\n        if (this._choiceSet) {\n            this._choiceSet.showLoadingIndicator();\n            let response: ActivityResponse | undefined = undefined;\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n                this._choiceSet.showErrorIndicator(\"Unable to load\");\n            }\n            this._choiceSet.removeLoadingIndicator();\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    const rawResponse = response.rawContent;\n                    if (rawResponse) {\n                        let parsedResponse = rawResponse;\n                        try {\n                            parsedResponse = JSON.parse(parsedResponse);\n                        } catch (error) {\n                            throw new Error(\"Cannot parse response object: \" + rawResponse);\n                        }\n                        if (typeof parsedResponse === \"object\") {\n                            this._choiceSet.renderChoices(parsedResponse);\n                            this.activityRequestSucceeded(response, parsedResponse);\n                        } else {\n                            throw new Error(\n                                \"internalSendDataQueryRequestAsync: Data.Query result is of unsupported type (\" +\n                                    typeof rawResponse +\n                                    \")\"\n                            );\n                        }\n                    }\n                } else if (response instanceof ErrorResponse) {\n                    this._choiceSet.showErrorIndicator(\"Error loading results.\");\n                    logEvent(\n                        Enums.LogLevel.Error,\n                        `Activity request failed: ${response.error.message}.`\n                    );\n                    this.activityRequestFailed(response);\n                } else {\n                    this._choiceSet.showErrorIndicator(\"Unable to load\");\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            }\n        }\n    }\n\n    readonly renderedElement: HTMLElement;\n\n    hostConfig?: HostConfig;\n    channelAdapter?: ChannelAdapter;\n\n    onCardChanging?: (sender: AdaptiveApplet, card: any) => boolean;\n    onCardChanged?: (sender: AdaptiveApplet) => void;\n    onPrefetchSSOToken?: (\n        sender: AdaptiveApplet,\n        tokenExchangeResource: TokenExchangeResource\n    ) => void;\n    onSSOTokenNeeded?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        tokenExchangeResource: TokenExchangeResource\n    ) => boolean;\n    onPrepareActivityRequest?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        action: UniversalAction\n    ) => boolean;\n    onActivityRequestSucceeded?: (\n        sender: AdaptiveApplet,\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) => void;\n    onActivityRequestFailed?: (sender: AdaptiveApplet, response: ErrorResponse) => number;\n    onCreateSerializationContext?: (sender: AdaptiveApplet) => SerializationContext;\n    onCreateProgressOverlay?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest\n    ) => HTMLElement | undefined;\n    onRemoveProgressOverlay?: (sender: AdaptiveApplet, request: IActivityRequest) => void;\n    onRenderManualRefreshButton?: (sender: AdaptiveApplet) => HTMLElement | undefined;\n    onAction?: (sender: AdaptiveApplet, action: Action) => void;\n    onShowManualRefreshButton?: (sender: AdaptiveApplet) => boolean;\n    onShowAuthCodeInputDialog?: (sender: AdaptiveApplet, request: IActivityRequest) => boolean;\n    onShowSigninPrompt?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        signinButton: AuthCardButton\n    ) => void;\n\n    constructor() {\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n\n        this._cardHostElement = document.createElement(\"div\");\n\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n\n    refreshCard() {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, ActivityRequestTrigger.Manual, 0);\n        }\n    }\n\n    setCard(payload: any) {\n        this.internalSetCard(payload, 0);\n    }\n\n    get card(): AdaptiveCard | undefined {\n        return this._card;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./strings\";\nexport * from \"./enums\";\nexport * from \"./shared\";\nexport * from \"./utils\";\nexport * from \"./serialization\";\nexport * from \"./host-capabilities\";\nexport * from \"./host-config\";\nexport * from \"./registry\";\nexport * from \"./card-object\";\nexport * from \"./card-elements\";\nexport * from \"./carousel\";\nexport * from \"./table\";\nexport * from \"./channel-adapter\";\nexport * from \"./activity-request\";\nexport * from \"./adaptive-applet\";\n\nexport { IAdaptiveCard, ICardElement } from \"./schema\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { CarouselEvent } from \"./carousel\";\nimport {\n    PaddingDefinition,\n    GlobalSettings,\n    SizeAndUnit,\n    SpacingDefinition,\n    ISeparationDefinition,\n    Dictionary,\n    StringWithSubstitutions,\n    ContentTypes,\n    IInput,\n    IResourceInformation\n} from \"./shared\";\nimport * as Utils from \"./utils\";\nimport {\n    HostConfig,\n    defaultHostConfig,\n    BaseTextDefinition,\n    FontTypeDefinition,\n    ColorSetDefinition,\n    TextColorDefinition,\n    ContainerStyleDefinition,\n    TextStyleDefinition\n} from \"./host-config\";\nimport * as TextFormatters from \"./text-formatters\";\nimport { CardObject, ValidationResults } from \"./card-object\";\nimport {\n    Versions,\n    Version,\n    property,\n    BaseSerializationContext,\n    SerializableObject,\n    SerializableObjectSchema,\n    StringProperty,\n    BoolProperty,\n    ValueSetProperty,\n    EnumProperty,\n    SerializableObjectCollectionProperty,\n    SerializableObjectProperty,\n    PixelSizeProperty,\n    NumProperty,\n    PropertyBag,\n    CustomProperty,\n    PropertyDefinition,\n    StringArrayProperty\n} from \"./serialization\";\nimport { CardObjectRegistry, GlobalRegistry } from \"./registry\";\nimport { Strings } from \"./strings\";\nimport { MenuItem, PopupMenu } from \"./controls\";\n\n\nfunction clearElement(element: HTMLElement) : void {\n    const trustedHtml = (typeof window === 'undefined') ? \"\" : (window.trustedTypes?.emptyHTML ?? \"\");\n    element.innerHTML = trustedHtml as string;\n}\n\nexport function renderSeparation(\n    hostConfig: HostConfig,\n    separationDefinition: ISeparationDefinition,\n    orientation: Enums.Orientation\n): HTMLElement | undefined {\n    if (\n        separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)\n    ) {\n        const separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\n            \"ac-\" +\n                (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n                \"-separator\"\n        );\n        separator.setAttribute(\"aria-hidden\", \"true\");\n\n        const color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        } else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n\n        return separator;\n    } else {\n        return undefined;\n    }\n}\n\nexport type CardElementHeight = \"auto\" | \"stretch\";\n\nexport abstract class CardElement extends CardObject {\n    //#region Schema\n\n    static readonly langProperty = new StringProperty(\n        Versions.v1_1,\n        \"lang\",\n        true,\n        /^[a-z]{2,3}$/gi\n    );\n    static readonly isVisibleProperty = new BoolProperty(Versions.v1_2, \"isVisible\", true);\n    static readonly separatorProperty = new BoolProperty(Versions.v1_0, \"separator\", false);\n    static readonly heightProperty = new ValueSetProperty(\n        Versions.v1_1,\n        \"height\",\n        [{ value: \"auto\" }, { value: \"stretch\" }],\n        \"auto\"\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_0,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment\n    );\n    static readonly spacingProperty = new EnumProperty(\n        Versions.v1_0,\n        \"spacing\",\n        Enums.Spacing,\n        Enums.Spacing.Default\n    );\n\n    @property(CardElement.horizontalAlignmentProperty)\n    horizontalAlignment?: Enums.HorizontalAlignment;\n\n    @property(CardElement.spacingProperty)\n    spacing: Enums.Spacing;\n\n    @property(CardElement.separatorProperty)\n    separator: boolean;\n\n    @property(CardElement.heightProperty)\n    height: CardElementHeight;\n\n    @property(CardElement.langProperty)\n    get lang(): string | undefined {\n        const lang = this.getValue(CardElement.langProperty);\n\n        if (lang) {\n            return lang;\n        } else {\n            if (this.parent) {\n                return this.parent.lang;\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    set lang(value: string | undefined) {\n        this.setValue(CardElement.langProperty, value);\n    }\n\n    @property(CardElement.isVisibleProperty)\n    get isVisible(): boolean {\n        return this.getValue(CardElement.isVisibleProperty);\n    }\n\n    set isVisible(value: boolean) {\n        // If the element is going to be hidden, reset any changes that were due\n        // to overflow truncation (this ensures that if the element is later\n        // un-hidden it has the right content)\n        if (GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n            this.undoOverflowTruncation();\n        }\n\n        if (this.isVisible !== value) {\n            this.setValue(CardElement.isVisibleProperty, value);\n\n            this.updateRenderedElementVisibility();\n\n            if (this._renderedElement) {\n                raiseElementVisibilityChangedEvent(this);\n            }\n        }\n\n        if (this._renderedElement) {\n            this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n        }\n    }\n\n    //#endregion\n\n    private _hostConfig?: HostConfig;\n    private _separatorElement?: HTMLElement;\n    private _truncatedDueToOverflow: boolean = false;\n    private _defaultRenderedElementDisplayMode?: string;\n    private _padding?: PaddingDefinition;\n\n    private internalRenderSeparator(): HTMLElement | undefined {\n        const renderedSeparator = renderSeparation(\n            this.hostConfig,\n            {\n                spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n                lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n                lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n            },\n            this.separatorOrientation\n        );\n\n        if (\n            GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal\n        ) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                const parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                    parentContainer.getEffectivePadding()\n                );\n\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n\n        return renderedSeparator;\n    }\n\n    private updateRenderedElementVisibility() {\n        const displayMode =\n            this.isDesignMode() || this.isVisible\n                ? this._defaultRenderedElementDisplayMode\n                : \"none\";\n\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            } else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            } else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                } else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    }\n\n    private hideElementDueToOverflow() {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    private showElementHiddenDueToOverflow() {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    // Marked private to emulate internal access\n    private handleOverflow(maxHeight: number) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            const handled = this.truncateOverflow(maxHeight);\n\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            } else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    }\n\n    // Marked private to emulate internal access\n    private resetOverflow(): boolean {\n        let sizeChanged = false;\n\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n\n        return sizeChanged;\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected createPlaceholderElement(): HTMLElement {\n        const styleDefinition = this.getEffectiveStyleDefinition();\n        const foregroundCssColor = Utils.stringToCssColor(\n            styleDefinition.foregroundColors.default.subtle\n        );\n\n        const element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n\n        element.innerText = Strings.defaults.emptyElementText(this.getJsonTypeName());\n\n        return element;\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        } else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    }\n\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    protected updateInputsVisualState(hover: boolean) {\n        const allInputs: Input[] = this.getAllInputs();\n        const inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach((input) => input.updateVisualState(inputEventType));\n    }\n\n    protected isDisplayed(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0\n        );\n    }\n\n    protected abstract internalRender(): HTMLElement | undefined;\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        return this.internalRender();\n    }\n\n    protected applyPadding() {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                const padding = new PaddingDefinition();\n\n                this.getImmediateSurroundingPadding(padding);\n\n                const physicalPadding =\n                    this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            } else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    protected truncateOverflow(_maxHeight: number): boolean {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    }\n\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    protected undoOverflowTruncation() {\n        return;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition();\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return false;\n    }\n\n    protected getHasBorder(): boolean {\n        return false;\n    }\n\n    protected getPadding(): PaddingDefinition | undefined {\n        return this._padding;\n    }\n\n    protected setPadding(value: PaddingDefinition | undefined) {\n        this._padding = value;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected get useDefaultSizing(): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Horizontal;\n    }\n\n    protected get defaultStyle(): string {\n        return Enums.ContainerStyle.Default;\n    }\n\n    customCssSelector?: string;\n\n    parse(source: any, context?: SerializationContext) {\n        super.parse(source, context ? context : new SerializationContext());\n    }\n\n    asString(): string | undefined {\n        return \"\";\n    }\n\n    isBleeding(): boolean {\n        return false;\n    }\n\n    getEffectiveStyle(): string {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n\n        return this.defaultStyle;\n    }\n\n    getEffectiveStyleDefinition(): ContainerStyleDefinition {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n\n        return this.hostConfig.textStyles.default;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [];\n    }\n\n    getImmediateSurroundingPadding(\n        result: PaddingDefinition,\n        processTop: boolean = true,\n        processRight: boolean = true,\n        processBottom: boolean = true,\n        processLeft: boolean = true\n    ) {\n        if (this.parent) {\n            let doProcessTop = processTop && this.parent.isTopElement(this);\n            let doProcessRight = processRight && this.parent.isRightMostElement(this);\n            let doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            let doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n\n            const effectivePadding = this.parent.getEffectivePadding();\n\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n\n                    doProcessTop = false;\n                }\n\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n\n                    doProcessRight = false;\n                }\n\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n\n                    doProcessBottom = false;\n                }\n\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n\n                    doProcessLeft = false;\n                }\n            }\n\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(\n                    result,\n                    doProcessTop,\n                    doProcessRight,\n                    doProcessBottom,\n                    doProcessLeft\n                );\n            }\n        }\n    }\n\n    getActionCount(): number {\n        return 0;\n    }\n\n    getActionAt(index: number): Action | undefined {\n        throw new Error(Strings.errors.indexOutOfRange(index));\n    }\n\n    indexOfAction(action: Action): number {\n        for (let i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    remove(): boolean {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n\n        return false;\n    }\n\n    render(): HTMLElement | undefined {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        } else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n\n        return this._renderedElement;\n    }\n\n    updateLayout(_processChildren: boolean = true) {\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    }\n\n    updateActionsEnabledState() {\n        const allActions = this.getRootElement().getAllActions();\n\n        for (let action of allActions) {\n            action.updateEnabledState();\n        }\n    }\n\n    indexOf(_cardElement: CardElement): number {\n        return -1;\n    }\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootElement();\n\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    }\n\n    isFirstElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isLastElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isAtTheVeryLeft(): boolean {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    }\n\n    isAtTheVeryRight(): boolean {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    }\n\n    isAtTheVeryTop(): boolean {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    }\n\n    isAtTheVeryBottom(): boolean {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    }\n\n    isBleedingAtTop(): boolean {\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        return false;\n    }\n\n    isLeftMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isRightMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this.isFirstElement(element);\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this.isLastElement(element);\n    }\n\n    isHiddenDueToOverflow(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\"\n        );\n    }\n\n    getRootElement(): CardElement {\n        return this.getRootObject() as CardElement;\n    }\n\n    getParentContainer(): Container | undefined {\n        let currentElement = this.parent;\n\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        const result: Action[] = [];\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return [];\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getActionById(_id: string): Action | undefined {\n        return undefined;\n    }\n    \n    getElementByIdFromAction(id: string): CardElement | undefined {\n        let result = undefined;\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        const padding = this.getPadding();\n\n        return padding ? padding : this.getDefaultPadding();\n    }\n\n    getEffectiveHorizontalAlignment(): Enums.HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n\n        return Enums.HorizontalAlignment.Left;\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get index(): number {\n        if (this.parent) {\n            return this.parent.indexOf(this);\n        } else {\n            return 0;\n        }\n    }\n\n    get isInteractive(): boolean {\n        return false;\n    }\n\n    get isStandalone(): boolean {\n        return true;\n    }\n\n    get isInline(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.separatorElement) {\n            return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n        } else {\n            return false;\n        }\n    }\n\n    get separatorElement(): HTMLElement | undefined {\n        return this._separatorElement;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n}\n\nexport class ActionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: SerializationContext\n    ): Action | undefined {\n        const parent = <CardElement>sender;\n\n        return context.parseAction(\n            parent,\n            source[this.name],\n            this.forbiddenActionTypes,\n            parent.isDesignMode()\n        );\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: Action | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly forbiddenActionTypes: string[] = []\n    ) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport abstract class BaseTextBlock extends CardElement {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_0, \"text\", true);\n    static readonly sizeProperty = new EnumProperty(Versions.v1_0, \"size\", Enums.TextSize);\n    static readonly weightProperty = new EnumProperty(Versions.v1_0, \"weight\", Enums.TextWeight);\n    static readonly colorProperty = new EnumProperty(Versions.v1_0, \"color\", Enums.TextColor);\n    static readonly isSubtleProperty = new BoolProperty(Versions.v1_0, \"isSubtle\");\n    static readonly fontTypeProperty = new EnumProperty(Versions.v1_2, \"fontType\", Enums.FontType);\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(BaseTextBlock.sizeProperty)\n    size?: Enums.TextSize;\n\n    @property(BaseTextBlock.weightProperty)\n    weight?: Enums.TextWeight;\n\n    @property(BaseTextBlock.colorProperty)\n    color?: Enums.TextColor;\n\n    @property(BaseTextBlock.fontTypeProperty)\n    fontType?: Enums.FontType;\n\n    @property(BaseTextBlock.isSubtleProperty)\n    isSubtle?: boolean;\n\n    @property(BaseTextBlock.textProperty)\n    get text(): string | undefined {\n        return this.getValue(BaseTextBlock.textProperty);\n    }\n\n    set text(value: string | undefined) {\n        this.setText(value);\n    }\n\n    @property(BaseTextBlock.selectActionProperty)\n    selectAction?: Action;\n\n    //#endregion\n\n    protected getFontSize(fontType: FontTypeDefinition): number {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    }\n\n    protected getColorDefinition(\n        colorSet: ColorSetDefinition,\n        color: Enums.TextColor\n    ): TextColorDefinition {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    }\n\n    protected setText(value: string | undefined) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    }\n\n    ariaHidden: boolean = false;\n\n    constructor(text?: string) {\n        super();\n\n        if (text) {\n            this.text = text;\n        }\n    }\n\n    init(textDefinition: BaseTextDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    }\n\n    asString(): string | undefined {\n        return this.text;\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        const fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n\n        let fontSize: number;\n\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n\n        targetElement.style.fontSize = fontSize + \"px\";\n\n        const colorDefinition = this.getColorDefinition(\n            this.getEffectiveStyleDefinition().foregroundColors,\n            this.effectiveColor\n        );\n\n        const targetColor = Utils.stringToCssColor(\n            this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default\n        );\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n\n        let fontWeight: number;\n\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n\n        targetElement.style.fontWeight = fontWeight.toString();\n\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    get effectiveColor(): Enums.TextColor {\n        return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n    }\n\n    get effectiveFontType(): Enums.FontType {\n        return this.fontType !== undefined\n            ? this.fontType\n            : this.getEffectiveTextStyleDefinition().fontType;\n    }\n\n    get effectiveIsSubtle(): boolean {\n        return this.isSubtle !== undefined\n            ? this.isSubtle\n            : this.getEffectiveTextStyleDefinition().isSubtle;\n    }\n\n    get effectiveSize(): Enums.TextSize {\n        return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n    }\n\n    get effectiveWeight(): Enums.TextWeight {\n        return this.weight !== undefined\n            ? this.weight\n            : this.getEffectiveTextStyleDefinition().weight;\n    }\n}\n\nexport type TextBlockStyle = \"default\" | \"heading\" | \"columnHeader\";\n\nexport class TextBlock extends BaseTextBlock {\n    //#region Schema\n\n    static readonly wrapProperty = new BoolProperty(Versions.v1_0, \"wrap\", false);\n    static readonly maxLinesProperty = new NumProperty(Versions.v1_0, \"maxLines\");\n    static readonly styleProperty = new ValueSetProperty(Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n\n    @property(TextBlock.wrapProperty)\n    wrap: boolean = false;\n\n    @property(TextBlock.maxLinesProperty)\n    maxLines?: number;\n\n    @property(TextBlock.styleProperty)\n    style?: TextBlockStyle;\n\n    //#endregion\n\n    private _computedLineHeight: number;\n    private _originalInnerHtml: string;\n    private _processedText?: string;\n    private _treatAsPlainText: boolean = true;\n\n    private restoreOriginalContent() {\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n\n            const originalHtml = TextBlock._ttRoundtripPolicy?.createHTML(this._originalInnerHtml) ?? this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml as string;\n        }\n    }\n\n    private truncateIfSupported(maxHeight: number): boolean {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            const children = this.renderedElement.children;\n            const isTextOnly = !children.length;\n            const truncationSupported =\n                isTextOnly ||\n                (children.length === 1 && (<HTMLElement>children[0]).tagName.toLowerCase() === \"p\" && !(<HTMLElement>children[0]).children.length);\n\n            if (truncationSupported) {\n                const element = isTextOnly ? this.renderedElement : <HTMLElement>children[0];\n\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    private static readonly _ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#markdownPassthroughPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    private static readonly _ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#restoreContentsPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    protected setText(value: string) {\n        super.setText(value);\n\n        this._processedText = undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._processedText = undefined;\n\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n\n            this.applyStylesTo(element);\n\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n\n                const headingLevel = this.hostConfig.textBlock.headingLevel;\n\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(element);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n\n                let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n                if (this.useMarkdown && formattedText) {\n                    if (GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n\n                    const markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n\n                    if (\n                        markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml\n                    ) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            let markStyle: string = \"\";\n                            const effectiveStyle = this.getEffectiveStyleDefinition();\n\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                    effectiveStyle.highlightBackgroundColor +\n                                    \";\";\n                            }\n\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    } else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                } else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            } else {\n                const processedHtml =\n                    TextBlock._ttMarkdownPolicy?.createHTML(this._processedText) ??\n                    this._processedText;\n                element.innerHTML = processedHtml as string;\n            }\n\n            if (element.firstElementChild instanceof HTMLElement) {\n                const firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n\n            const anchors = element.getElementsByTagName(\"a\");\n\n            for (const anchor of Array.from(anchors)) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        return false;\n                    }\n\n                    return true;\n                };\n            }\n\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n\n                    if (Utils.isInternetExplorer() || !GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    } else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            } else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n\n            if (\n                GlobalSettings.useAdvancedTextBlockTruncation ||\n                GlobalSettings.useAdvancedCardBottomTruncation\n            ) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        this.restoreOriginalContent();\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            const maxHeight = this._computedLineHeight * this.maxLines;\n\n            this.truncateIfSupported(maxHeight);\n        }\n    }\n\n    useMarkdown: boolean = true;\n    forElementId?: string;\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n\n        const lineHeights = this.hostConfig.lineHeights;\n\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        } else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                1.33;\n        }\n\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    }\n\n    getJsonTypeName(): string {\n        return \"TextBlock\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    updateLayout(processChildren: boolean = false) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    }\n}\n\nexport class TextRun extends BaseTextBlock {\n    //#region Schema\n\n    static readonly italicProperty = new BoolProperty(Versions.v1_2, \"italic\", false);\n    static readonly strikethroughProperty = new BoolProperty(Versions.v1_2, \"strikethrough\", false);\n    static readonly highlightProperty = new BoolProperty(Versions.v1_2, \"highlight\", false);\n    static readonly underlineProperty = new BoolProperty(Versions.v1_3, \"underline\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.add(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(TextRun.italicProperty)\n    italic: boolean = false;\n\n    @property(TextRun.strikethroughProperty)\n    strikethrough: boolean = false;\n\n    @property(TextRun.highlightProperty)\n    highlight: boolean = false;\n\n    @property(TextRun.underlineProperty)\n    underline: boolean = false;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n\n            const element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n\n            this.applyStylesTo(element);\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                const anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n\n                const href = this.selectAction.getHref();\n\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(anchor);\n\n                anchor.innerText = formattedText;\n\n                element.appendChild(anchor);\n            } else {\n                element.innerText = formattedText;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n\n        if (this.highlight) {\n            const colorDefinition = this.getColorDefinition(\n                this.getEffectiveStyleDefinition().foregroundColors,\n                this.effectiveColor\n            );\n\n            const backgroundColor = Utils.stringToCssColor(\n                this.effectiveIsSubtle\n                    ? colorDefinition.highlightColors.subtle\n                    : colorDefinition.highlightColors.default\n            );\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TextRun\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get isInline(): boolean {\n        return true;\n    }\n}\n\nexport class RichTextBlock extends CardElement {\n    private _inlines: CardElement[] = [];\n\n    private internalAddInline(inline: CardElement, forceAdd: boolean = false) {\n        if (!inline.isInline) {\n            throw new Error(Strings.errors.elementCannotBeUsedAsInline());\n        }\n\n        const doAdd: boolean = inline.parent === undefined || forceAdd;\n\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(Strings.errors.inlineAlreadyParented());\n        } else {\n            inline.setParent(this);\n\n            this._inlines.push(inline);\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._inlines = [];\n\n        if (Array.isArray(source[\"inlines\"])) {\n            for (const jsonInline of source[\"inlines\"]) {\n                let inline: CardElement | undefined;\n\n                if (typeof jsonInline === \"string\") {\n                    const textRun = new TextRun();\n                    textRun.text = jsonInline;\n\n                    inline = textRun;\n                } else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this._inlines.length > 0) {\n            const jsonInlines: any[] = [];\n\n            for (const inline of this._inlines) {\n                jsonInlines.push(inline.toJSON(context));\n            }\n\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this._inlines.length > 0) {\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n\n            let renderedInlines: number = 0;\n\n            for (const inline of this._inlines) {\n                const renderedInline = inline.render();\n\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n\n                    renderedInlines++;\n                }\n            }\n\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n\n        return undefined;\n    }\n\n    forElementId?: string;\n\n    asString(): string | undefined {\n        let result = \"\";\n\n        for (const inline of this._inlines) {\n            result += inline.asString();\n        }\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return \"RichTextBlock\";\n    }\n\n    getInlineCount(): number {\n        return this._inlines.length;\n    }\n\n    getInlineAt(index: number): CardElement {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        } else {\n            throw new Error(Strings.errors.indexOutOfRange(index));\n        }\n    }\n\n    addInline(inline: CardElement | string) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        } else {\n            this.internalAddInline(inline);\n        }\n    }\n\n    removeInline(inline: CardElement): boolean {\n        const index = this._inlines.indexOf(inline);\n\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nexport class Fact extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    // For historic reasons, the \"title\" schema property is exposed as \"name\" in the OM.\n    @property(Fact.titleProperty)\n    name?: string;\n\n    @property(Fact.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Fact\";\n    }\n\n    constructor(name?: string, value?: string) {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n}\n\nexport class FactSet extends CardElement {\n    //#region Schema\n\n    static readonly factsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"facts\",\n        Fact\n    );\n\n    @property(FactSet.factsProperty)\n    facts: Fact[];\n\n    //#endregion\n\n    protected get useDefaultSizing(): boolean {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n        const hostConfig = this.hostConfig;\n\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n\n            for (let i = 0; i < this.facts.length; i++) {\n                const trElement = document.createElement(\"tr\");\n\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n\n                // Title column\n                let tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n\n                tdElement.style.verticalAlign = \"top\";\n\n                let textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n\n                Utils.appendChild(trElement, tdElement);\n\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n\n        return element;\n    }\n\n    getJsonTypeName(): string {\n        return \"FactSet\";\n    }\n}\n\nclass ImageDimensionProperty extends PropertyDefinition {\n    getInternalName(): string {\n        return this.internalName;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        let isValid = false;\n\n        if (typeof sourceValue === \"string\") {\n            try {\n                const size = SizeAndUnit.parse(sourceValue, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Swallow the exception\n            }\n\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n\n        if (!isValid) {\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidPropertyValue(sourceValue, this.name)\n            );\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly internalName: string,\n        readonly fallbackProperty?: ValueSetProperty\n    ) {\n        super(targetVersion, name);\n    }\n}\n\nexport class Image extends CardElement {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_0, \"altText\");\n    static readonly backgroundColorProperty = new StringProperty(Versions.v1_1, \"backgroundColor\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.ImageStyle,\n        Enums.ImageStyle.Default\n    );\n    static readonly sizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"size\",\n        Enums.Size,\n        Enums.Size.Auto\n    );\n    static readonly pixelWidthProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"width\",\n        \"pixelWidth\"\n    );\n    static readonly pixelHeightProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"height\",\n        \"pixelHeight\",\n        CardElement.heightProperty\n    );\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly shouldForceLoadProperty = new BoolProperty(Versions.v1_6, \"forceLoad\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(CardElement.heightProperty);\n    }\n\n    public renderedImageElement?: HTMLElement;\n\n    @property(Image.urlProperty)\n    url?: string;\n\n    @property(Image.altTextProperty)\n    altText?: string;\n\n    @property(Image.backgroundColorProperty)\n    backgroundColor?: string;\n\n    @property(Image.sizeProperty)\n    size: Enums.Size = Enums.Size.Auto;\n\n    @property(Image.styleProperty)\n    style: Enums.ImageStyle = Enums.ImageStyle.Default;\n\n    @property(Image.pixelWidthProperty)\n    pixelWidth?: number;\n\n    @property(Image.pixelHeightProperty)\n    pixelHeight?: number;\n\n    @property(Image.selectActionProperty)\n    selectAction?: Action;\n\n    @property(Image.shouldForceLoadProperty)\n    forceLoad: boolean;\n\n    //#endregion\n\n    private applySize(element: HTMLElement) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        } else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                switch (this.size) {\n                    case Enums.Size.Small:\n                        element.style.height = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.height = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    default:\n                        element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = this.maxHeight + \"px\";\n            } else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    case Enums.Size.Small:\n                        element.style.width = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.width = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    case Enums.Size.Medium:\n                        element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    }\n\n    protected get useDefaultSizing() {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            const hostConfig = this.hostConfig;\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            const imageElement = document.createElement(\"img\");\n\n            this.renderedImageElement = imageElement;\n\n            imageElement.onload = (_e: Event) => {\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.onerror = (_e: Event) => {\n                if (this.renderedElement) {\n                    const card = this.getRootElement() as AdaptiveCard;\n\n                    clearElement(this.renderedElement);\n\n                    if (card && card.designMode) {\n                        const errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n\n                        this.applySize(errorElement);\n\n                        this.renderedElement.appendChild(errorElement);\n                    }\n                }\n\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = (e) => {\n                    if (\n                        this.selectAction &&\n                        this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                imageElement.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(imageElement);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            this.applySize(imageElement);\n\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n\n            const backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n\n            this.setImageSource(imageElement);    \n\n            const altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = <string>altTextProperty;\n            }\n\n            element.appendChild(imageElement);\n        }\n\n        return element;\n    }\n\n    maxHeight?: number;\n\n    getJsonTypeName(): string {\n        return \"Image\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    }\n\n    private setImageSource(imageElement: HTMLImageElement): void {\n        const imageForceLoader: ImageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = <string>this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    } \n}\n\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nclass ImageForceLoader{\n    private uniqueHash : string;\n    public readonly urlWithForceLoadOption : string;\n    constructor(\n        readonly doForceLoad: boolean,\n        readonly url : string | undefined,\n    )\n    {\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n\n    public configureImage(image: Image): void {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    }\n\n    public resetImage(image: Image): void {\n        image.url = this.url;\n    }\n}\n\nexport abstract class CardElementContainer extends CardElement {\n    //#region Schema\n\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    }\n\n    @property(CardElementContainer.selectActionProperty)\n    protected _selectAction?: Action;\n\n    //#endregion\n\n    protected isElementAllowed(element: CardElement) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    }\n\n    protected get isSelectable(): boolean {\n        return false;\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [];\n    }\n\n    abstract getItemCount(): number;\n    abstract getItemAt(index: number): CardElement;\n    abstract getFirstVisibleRenderedItem(): CardElement | undefined;\n    abstract getLastVisibleRenderedItem(): CardElement | undefined;\n    abstract removeItem(item: CardElement): boolean;\n\n    allowVerticalOverflow: boolean = false;\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            const item = this.getItemAt(i);\n\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.interactivityNotAllowed()\n                );\n            }\n\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const element = super.render();\n\n        if (element) {\n            const hostConfig = this.hostConfig;\n\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n\n            if (\n                element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity\n            ) {\n                element.onclick = (e) => {\n                    if (this._selectAction && this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                element.onkeypress = (e) => {\n                    if (\n                        this._selectAction &&\n                        this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                this._selectAction.setupElementForAccessibility(element);\n\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n\n        return element;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (processChildren) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllActions());\n        }\n\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getResourceInformation());\n        }\n\n        return result;\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // If not found in children, check the actions\n        for (let i = 0; i < this.getActionCount(); i++) {\n            target = this.getActionAt(i)?.findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // if not found in children or actions, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n}\n\nexport class ImageSet extends CardElementContainer {\n    //#region Schema\n\n    static readonly imagesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"images\",\n        Image,\n        (sender: SerializableObject, item: Image) => {\n            item.setParent(<CardElement>sender);\n        }\n    );\n\n    static readonly imageSizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"imageSize\",\n        Enums.ImageSize,\n        Enums.ImageSize.Medium\n    );\n\n    static readonly imagePresentationStyle = new EnumProperty(\n        Versions.v1_6,\n        \"style\",\n        Enums.ImageSetPresentationStyle,\n        Enums.ImageSetPresentationStyle.Default\n    );\n\n    static readonly pixelOffset = new NumProperty(\n        Versions.v1_6,\n        \"offset\",\n        0,\n        undefined\n    );\n\n    @property(ImageSet.imagesProperty)\n    private _images: Image[] = [];\n\n    @property(ImageSet.imageSizeProperty)\n    imageSize: Enums.ImageSize = Enums.ImageSize.Medium;\n\n    @property(ImageSet.imagePresentationStyle)\n    presentationStyle: Enums.ImageSetPresentationStyle = Enums.ImageSetPresentationStyle.Default;\n\n    @property(ImageSet.pixelOffset)\n    pixelOffset: number = 0;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this._images.length > 0) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n\n            for (const image of this._images) {\n                switch (this.imageSize) {\n                    case Enums.ImageSize.Small:\n                        image.size = Enums.Size.Small;\n                        break;\n                    case Enums.ImageSize.Large:\n                        image.size = Enums.Size.Large;\n                        break;\n                    default:\n                        image.size = Enums.Size.Medium;\n                        break;\n                }\n\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n\n                const renderedImage = image.render();\n\n                if (renderedImage) {\n                    renderedImage.style.display = \"inline-flex\";\n                    renderedImage.style.margin = \"0px\";\n                    if (this.presentationStyle == Enums.ImageSetPresentationStyle.Default) {\n                        renderedImage.style.marginRight = \"10px\";\n                    }\n\n                    Utils.appendChild(element, renderedImage);\n                }\n            }\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        \n\n        return element;\n    }\n\n    applyStackedPresentationStyle() {\n        if (this._images[0].renderedImageElement) {\n            let dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            let bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                let stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, \n                    dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    }\n\n    getEffectiveBackgroundColor() : string | undefined {\n        let parentContainer = this.getParentContainer();\n        let style = parentContainer?.getEffectiveStyle();\n\n        const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n            style,\n            this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n        );\n\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    }\n\n    getItemCount(): number {\n        return this._images.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._images[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Image) {\n            const itemIndex = this._images.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getJsonTypeName(): string {\n        return \"ImageSet\";\n    }\n\n    addImage(image: Image) {\n        if (!image.parent) {\n            this._images.push(image);\n\n            image.setParent(this);\n        } else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    }\n}\n\nclass StackedImageConfigurator {\n    private sign45 = 0.7071;\n    private maxImageCounts: number = 2;\n    private offset: number = 0;\n    private normalizationConstant: number = 0;\n    private border: number = 5;\n    private dimension: number = 0;\n    private style: string;\n\n    constructor(offset: number, dimension: number, style: string | undefined) {\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n\n    private moveImageRight(element: HTMLElement) {\n        element.style.marginLeft = this.offset + \"px\";\n    }\n\n    private moveImageUp(element: HTMLElement) {\n        element.style.marginBottom = this.offset + this.dimension+ \"px\";\n    }\n\n    private moveImageDown(element: HTMLElement) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    }\n\n    private makeImageRound(element: HTMLElement) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    }\n\n    private applyBorder(element: HTMLElement) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    }\n\n    private configureImageForBottomLeft(element: HTMLElement) {\n        this.moveImageDown(element);\n        this.makeImageRound(element); \n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    }\n\n    private configureImageForTopRight(element: HTMLElement) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element); \n        element.style.zIndex = \"1\";\n    }\n\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    public configureImagesArrayAsStackedLayout(elements: Array<Image>) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement); \n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    }\n\n    public static parseNumericPixelDimension(dimension: string): number | undefined  {\n        if (dimension?.substring(dimension.length - 2) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    }\n}\n\nexport abstract class ContentSource extends SerializableObject {\n    //#region Schema\n\n    static readonly mimeTypeProperty = new StringProperty(Versions.v1_1, \"mimeType\");\n    static readonly urlProperty = new StringProperty(Versions.v1_1, \"url\");\n\n    @property(ContentSource.mimeTypeProperty)\n    mimeType?: string;\n\n    @property(ContentSource.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string) {\n        super();\n\n        this.url = url;\n        this.mimeType = mimeType;\n    }\n\n    isValid(): boolean {\n        return this.mimeType && this.url ? true : false;\n    }\n}\n\nexport class CaptionSource extends ContentSource {\n    //#region Schema\n\n    static readonly labelProperty = new StringProperty(Versions.v1_6, \"label\");\n\n    @property(CaptionSource.labelProperty)\n    label?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string, label?: string) {\n        super(url, mimeType);\n\n        this.label = label;\n    }\n\n    protected getSchemaKey(): string {\n        return \"CaptionSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLTrackElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url!;\n            result.kind = \"captions\";\n            result.label = this.label!;\n        }\n\n        return result;\n    }\n}\n\nexport class MediaSource extends ContentSource {\n    protected getSchemaKey(): string {\n        return \"MediaSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLSourceElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url!;\n            result.type = this.mimeType!;\n        }\n\n        return result;\n    }\n}\n\nexport abstract class MediaPlayer {\n    private _posterUrl?: string;\n\n    abstract canPlay(): boolean;\n    abstract render(): HTMLElement;\n    abstract fetchVideoDetails(): Promise<void>;\n\n    play() {\n        // Do nothing in base implementation\n    }\n\n    get posterUrl(): string | undefined {\n        return this._posterUrl;\n    }\n\n    protected set posterUrl(value: string | undefined) {\n        this._posterUrl = value;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return undefined;\n    }\n}\n\nexport class HTML5MediaPlayer extends MediaPlayer {\n    private _selectedMediaType?: string;\n    private _selectedSources: MediaSource[] = [];\n    private _captionSources: CaptionSource[] = [];\n    private _mediaElement?: HTMLMediaElement;\n\n    private processSources() {\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n\n        for (const source of this.owner.sources) {\n            const mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    const index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n\n        this._captionSources.push(...this.owner.captionSources);\n    }\n\n    static readonly supportedMediaTypes = [\"audio\", \"video\"];\n\n    constructor(readonly owner: Media) {\n        super();\n\n        this.processSources();\n    }\n\n    canPlay(): boolean {\n        return this._selectedSources.length > 0;\n    }\n\n    async fetchVideoDetails() {\n        // Nothing to fetch for the HTML5 media player\n    }\n\n    render(): HTMLElement {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        } else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n\n        this._mediaElement.setAttribute(\n            \"aria-label\",\n            this.owner.altText ? this.owner.altText : Strings.defaults.mediaPlayerAriaLabel()\n        );\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n\n        for (const source of this.owner.sources) {\n            const renderedSource = source.render();\n\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n\n        for (const captionSource of this.owner.captionSources) {\n            if (captionSource.mimeType == \"vtt\") {\n                const renderedCaptionSource = captionSource.render();\n\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n\n        return this._mediaElement;\n    }\n\n    play() {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._selectedMediaType;\n    }\n}\n\nexport abstract class CustomMediaPlayer extends MediaPlayer {\n    constructor(matches: RegExpExecArray) {\n        super();\n    }\n}\n\nexport abstract class IFrameMediaMediaPlayer extends CustomMediaPlayer {\n    private _videoId?: string;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches);\n\n        if (matches.length >= 2) {\n            this._videoId = matches[1];\n        }\n    }\n\n    abstract getEmbedVideoUrl(): string;\n\n    canPlay(): boolean {\n        return this._videoId !== undefined;\n    }\n\n    render(): HTMLElement {\n        let container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n\n        let iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n\n        container.appendChild(iFrame);\n\n        return container;\n    }\n\n    get videoId(): string | undefined {\n        return this._videoId;\n    }\n}\n\nexport class VimeoPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const oEmbedUrl = `https://vimeo.com/api/oembed.json?url=${this.getEmbedVideoUrl()}`;\n\n        let response = await fetch(oEmbedUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://player.vimeo.com/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class DailymotionPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const apiUrl = `https://api.dailymotion.com/video/${this.videoId}?fields=thumbnail_720_url`;\n\n        let response = await fetch(apiUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_720_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://www.dailymotion.com/embed/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class YouTubePlayer extends IFrameMediaMediaPlayer {\n    private _startTimeIndex?: number;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches, iFrameTitle);\n\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            this._startTimeIndex = parseInt(matches[2]);\n        }\n    }\n\n    async fetchVideoDetails(): Promise<void> {\n        this.posterUrl = this.videoId\n            ? `https://img.youtube.com/vi/${this.videoId}/maxresdefault.jpg`\n            : undefined;\n    }\n\n    getEmbedVideoUrl(): string {\n        let url = `https://www.youtube.com/embed/${this.videoId}?autoplay=1`;\n\n        if (this._startTimeIndex !== undefined) {\n            url += `&start=${this._startTimeIndex}`;\n        }\n\n        return url;\n    }\n}\n\nexport interface ICustomMediaPlayer {\n    urlPatterns: RegExp[];\n    createMediaPlayer: (matches: RegExpExecArray) => CustomMediaPlayer;\n}\n\nexport class Media extends CardElement {\n    static customMediaPlayers: ICustomMediaPlayer[] = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: (matches) =>\n                new YouTubePlayer(matches, Strings.defaults.youTubeVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new VimeoPlayer(matches, Strings.defaults.vimeoVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new DailymotionPlayer(matches, Strings.defaults.dailymotionVideoPlayer())\n        }\n    ];\n\n    //#region Schema\n\n    static readonly sourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_1,\n        \"sources\",\n        MediaSource\n    );\n    static readonly captionSourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_6,\n        \"captionSources\",\n        CaptionSource\n    );\n    static readonly posterProperty = new StringProperty(Versions.v1_1, \"poster\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_1, \"altText\");\n\n    @property(Media.sourcesProperty)\n    sources: MediaSource[] = [];\n\n    @property(Media.captionSourcesProperty)\n    captionSources: CaptionSource[] = [];\n\n    @property(Media.posterProperty)\n    poster?: string;\n\n    @property(Media.altTextProperty)\n    altText?: string;\n\n    //#endregion\n\n    private _mediaPlayer: MediaPlayer;\n\n    private createMediaPlayer(): MediaPlayer {\n        for (let provider of Media.customMediaPlayers) {\n            for (let source of this.sources) {\n                if (source.url) {\n                    for (let pattern of provider.urlPatterns) {\n                        let matches = pattern.exec(source.url);\n\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n\n        return new HTML5MediaPlayer(this);\n    }\n\n    private handlePlayButtonInvoke(event: UIEvent): void {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n\n            if (this.renderedElement) {\n                const mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n\n                this._mediaPlayer.play();\n\n                mediaPlayerElement.focus();\n            }\n        } else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n\n                Media.onPlay(this);\n            }\n        }\n    }\n\n    private async displayPoster() {\n        if (this.renderedElement) {\n            const playButtonArrowWidth = 12;\n            const playButtonArrowHeight = 15;\n\n            const posterRootElement = document.createElement(\"div\");\n            posterRootElement.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n            posterRootElement.setAttribute(\"role\", \"contentinfo\");\n            posterRootElement.setAttribute(\n                \"aria-label\",\n                this.altText ? this.altText : Strings.defaults.mediaPlayerAriaLabel()\n            );\n            posterRootElement.style.position = \"relative\";\n            posterRootElement.style.display = \"flex\";\n\n            let posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n\n            if (!posterUrl) {\n                posterUrl = this.hostConfig.media.defaultPoster;\n            }\n\n            if (posterUrl) {\n                const posterImageElement = document.createElement(\"img\");\n                posterImageElement.style.width = \"100%\";\n                posterImageElement.style.height = \"100%\";\n                posterImageElement.setAttribute(\"role\", \"presentation\");\n\n                posterImageElement.onerror = (_e: Event) => {\n                    if (posterImageElement.parentNode) {\n                        posterImageElement.parentNode.removeChild(posterImageElement);\n                    }\n\n                    posterRootElement.classList.add(\"empty\");\n                    posterRootElement.style.minHeight = \"150px\";\n                };\n\n                posterImageElement.src = posterUrl;\n\n                posterRootElement.appendChild(posterImageElement);\n            } else {\n                posterRootElement.classList.add(\"empty\");\n                posterRootElement.style.minHeight = \"150px\";\n            }\n\n            if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                const playButtonOuterElement = document.createElement(\"div\");\n                playButtonOuterElement.tabIndex = 0;\n                playButtonOuterElement.setAttribute(\"role\", \"button\");\n                playButtonOuterElement.setAttribute(\n                    \"aria-label\",\n                    Strings.defaults.mediaPlayerPlayMedia()\n                );\n                playButtonOuterElement.className =\n                    this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                playButtonOuterElement.style.display = \"flex\";\n                playButtonOuterElement.style.alignItems = \"center\";\n                playButtonOuterElement.style.justifyContent = \"center\";\n                playButtonOuterElement.onclick = (e) => {\n                    this.handlePlayButtonInvoke(e);\n                };\n\n                playButtonOuterElement.onkeypress = (e: KeyboardEvent) => {\n                    if (e.code === \"Enter\" || e.code === \"Space\") {\n                        // space or enter\n                        this.handlePlayButtonInvoke(e);\n                    }\n                };\n\n                const playButtonInnerElement = document.createElement(\"div\");\n                playButtonInnerElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-media-playButton-arrow\"\n                );\n                playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.borderRightWidth = \"0\";\n                playButtonInnerElement.style.borderStyle = \"solid\";\n                playButtonInnerElement.style.borderTopColor = \"transparent\";\n                playButtonInnerElement.style.borderRightColor = \"transparent\";\n                playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                playButtonInnerElement.style.transform =\n                    \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n\n                playButtonOuterElement.appendChild(playButtonInnerElement);\n\n                const playButtonContainer = document.createElement(\"div\");\n                playButtonContainer.style.position = \"absolute\";\n                playButtonContainer.style.left = \"0\";\n                playButtonContainer.style.top = \"0\";\n                playButtonContainer.style.width = \"100%\";\n                playButtonContainer.style.height = \"100%\";\n                playButtonContainer.style.display = \"flex\";\n                playButtonContainer.style.justifyContent = \"center\";\n                playButtonContainer.style.alignItems = \"center\";\n\n                playButtonContainer.appendChild(playButtonOuterElement);\n                posterRootElement.appendChild(playButtonContainer);\n            }\n\n            clearElement(this.renderedElement);\n            this.renderedElement.appendChild(posterRootElement);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = <HTMLElement>document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n\n        return element;\n    }\n\n    static onPlay?: (sender: Media) => void;\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n\n            this._mediaPlayer.fetchVideoDetails().then(() => this.displayPoster());\n        }\n\n        return result;\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.displayPoster();\n    }\n\n    getJsonTypeName(): string {\n        return \"Media\";\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result: IResourceInformation[] = [];\n\n        if (this._mediaPlayer) {\n            const posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n\n        for (const mediaSource of this.sources) {\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url!,\n                    mimeType: mediaSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        for (const captionSource of this.captionSources) {\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url!,\n                    mimeType: captionSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        return result;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._mediaPlayer.selectedMediaType;\n    }\n}\n\nenum InputEventType {\n    InitialRender,\n    MouseEnterOnCard,\n    MouseLeaveOnCard,\n    FocusLeave\n}\n\nexport abstract class Input extends CardElement implements IInput {\n    \n    //#region Schema\n    static readonly labelProperty = new StringProperty(Versions.v1_3, \"label\", true);\n    static readonly isRequiredProperty = new BoolProperty(Versions.v1_3, \"isRequired\", false);\n    static readonly errorMessageProperty = new StringProperty(Versions.v1_3, \"errorMessage\", true);\n    static readonly inputStyleProperty = new EnumProperty(\n        Versions.v1_6,\n        \"inputStyle\",\n        Enums.InputStyle,\n        Enums.InputStyle.Default,\n        [\n            { value: Enums.InputStyle.RevealOnHover },\n            { value: Enums.InputStyle.Default }\n        ]\n    );\n    static readonly labelWidthProperty = new CustomProperty<SizeAndUnit | undefined>(\n        Versions.v1_6,\n        \"labelWidth\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit | undefined = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidLabelWidth = false;\n            \n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n                if (result.physicalSize < 0 || result.physicalSize > 100) {\n                    invalidLabelWidth = true;\n                }\n            }\n            else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidLabelWidth = true;\n                }\n            } else {\n                invalidLabelWidth = true;\n            }\n\n            if (invalidLabelWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidInputLabelWidth()\n                );\n                result = undefined;\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n                }\n            }\n        },\n        undefined\n    );\n\n    static readonly labelPositionProperty = new EnumProperty(\n        Versions.v1_6,\n        \"labelPosition\",\n        Enums.InputLabelPosition,\n        Enums.InputLabelPosition.Above,\n        [\n            { value: Enums.InputLabelPosition.Inline },\n            { value: Enums.InputLabelPosition.Above }\n        ]\n    );\n\n    @property(Input.labelProperty)\n    label?: string;\n\n    @property(Input.isRequiredProperty)\n    isRequired: boolean;\n\n    @property(Input.errorMessageProperty)\n    errorMessage?: string;\n\n    @property(Input.inputStyleProperty)\n    inputStyle: Enums.InputStyle = Enums.InputStyle.Default;\n    \n    @property(Input.labelWidthProperty)\n    labelWidth?: SizeAndUnit;\n\n    @property(Input.labelPositionProperty)\n    labelPosition?: Enums.InputLabelPosition;\n\n    //#endregion\n\n    private _outerContainerElement: HTMLElement;\n    private _inputControlContainerElement: HTMLElement;\n    private _renderedErrorMessageElement?: HTMLElement;\n    private _renderedLabelElement?: HTMLElement;\n    private _renderedInputControlElement?: HTMLElement;\n    private _oldValue: any;\n\n    protected getAllLabelIds(): string[] {\n        const labelIds: string[] = [];\n\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n\n        return labelIds;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._renderedInputControlElement) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\n                    \"aria-labelledby\",\n                    labelIds.join(\" \")\n                );\n            } else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected get isNullable(): boolean {\n        return true;\n    }\n\n    protected get renderedInputControlElement(): HTMLElement | undefined {\n        return this._renderedInputControlElement;\n    }\n\n    protected get inputControlContainerElement(): HTMLElement {\n        return this._inputControlContainerElement;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const hostConfig = this.hostConfig;\n\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        } else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n\n        const renderedInputControlId = Utils.generateUniqueId();\n\n        if (this.label) {\n            const labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n\n            const labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n\n                const isRequiredCueInline = new TextRun(\n                    hostConfig.inputs.label.requiredInputs.suffix\n                );\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            } else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n\n            this._renderedLabelElement = labelRichTextBlock.render();\n\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                } else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n\n        this._renderedInputControlElement = this.internalRender();\n\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n                this._renderedInputControlElement.classList.add(\n                    hostConfig.makeCssClassName(\"ac-input-required\")\n                );\n            }\n\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    const defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    const labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._inputControlContainerElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    const labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = (ev: MouseEvent) => {\n                    this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n\n            return this._outerContainerElement;\n        }\n\n        this.resetDirtyState();\n\n        return undefined;\n    }\n\n    protected valueChanged() {\n        this.getRootElement().updateActionsEnabledState();\n\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n\n        raiseInputValueChangedEvent(this);\n    }\n\n    protected resetValidationFailureCue() {\n        if (this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.remove(\n                this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n            );\n\n            this.updateInputControlAriaLabelledBy();\n\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    }\n\n    protected showValidationErrorMessage() {\n        if (\n            this.renderedElement &&\n            this.errorMessage &&\n            GlobalSettings.displayInputValidationErrors\n        ) {\n            const errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    }\n\n    protected get allowRevealOnHoverStyle() {\n        return this.hostConfig.inputs && this.hostConfig.inputs.allowRevealOnHoverStyle;\n    }\n\n    protected shouldHideInputAdornersForRevealOnHover(input: HTMLElement, eventType: InputEventType) {\n        // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n        // 1. intial render of card: hide input adorners\n        // 2. mouse hover on the card: show input adorners\n        // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n        // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n    \n        // check if input still has the focus\n        const isInputInFocus = input === document.activeElement;\n    \n        // check if mouse is still on the card\n        const inputHoverClassName = this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\");\n        const isMouseOverCard = input.classList.contains(inputHoverClassName);\n    \n        const hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n                                  (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n                                  (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n        return hideInputAdorners;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle || \n            !this._renderedInputControlElement || \n            this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        } else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    }\n\n    onValueChanged: (sender: Input) => void;\n\n    labelledBy?: string;\n\n    abstract isSet(): boolean;\n\n    focus() {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    }\n\n    isValid(): boolean {\n        return true;\n    }\n\n    isDirty(): boolean {\n        return this.value !== this._oldValue;\n    }\n\n    resetDirtyState() {\n        this._oldValue = this.value;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.id) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.inputsMustHaveUniqueId()\n            );\n        }\n\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveLabel,\n                    \"Required inputs should have a label\"\n                );\n            }\n\n            if (!this.errorMessage) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage,\n                    \"Required inputs should have an error message\"\n                );\n            }\n        }\n    }\n\n    validateValue(): boolean {\n        this.resetValidationFailureCue();\n\n        const result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n\n        if (!result && this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.add(\n                this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n            );\n\n            this.showValidationErrorMessage();\n        }\n\n        return result;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [this];\n    }\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        this.resetDirtyState();\n\n        return result;\n    }\n\n    abstract get value(): any;\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class TextInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly maxLengthProperty = new NumProperty(Versions.v1_0, \"maxLength\");\n    static readonly isMultilineProperty = new BoolProperty(Versions.v1_0, \"isMultiline\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.InputTextStyle,\n        Enums.InputTextStyle.Text,\n        [\n            { value: Enums.InputTextStyle.Text },\n            { value: Enums.InputTextStyle.Tel },\n            { value: Enums.InputTextStyle.Url },\n            { value: Enums.InputTextStyle.Email },\n            { value: Enums.InputTextStyle.Password, targetVersion: Versions.v1_5 }\n        ]\n    );\n    static readonly inlineActionProperty = new ActionProperty(Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly regexProperty = new StringProperty(Versions.v1_3, \"regex\", true);\n\n    @property(TextInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TextInput.maxLengthProperty)\n    maxLength?: number;\n\n    @property(TextInput.isMultilineProperty)\n    isMultiline: boolean = false;\n\n    @property(TextInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(TextInput.styleProperty)\n    style: Enums.InputTextStyle = Enums.InputTextStyle.Text;\n\n    @property(TextInput.inlineActionProperty)\n    inlineAction?: Action;\n\n    @property(TextInput.regexProperty)\n    regex?: string;\n\n    //#endregion\n\n    private setupInput(input: HTMLInputElement | HTMLTextAreaElement) {\n        input.style.flex = \"1 1 auto\";\n\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n\n        input.oninput = () => {\n            this.valueChanged();\n        };\n        input.onkeypress = (e: KeyboardEvent) => {\n            // Ctrl+Enter pressed\n            if (\n                e.ctrlKey &&\n                e.code === \"Enter\" &&\n                this.inlineAction &&\n                this.inlineAction.isEffectivelyEnabled()\n            ) {\n                this.inlineAction.execute();\n            }\n        };\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let result: HTMLInputElement | HTMLTextAreaElement;\n\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\n                \"ac-input\",\n                \"ac-textInput\",\n                \"ac-multiline\"\n            );\n\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        } else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n\n        this.setupInput(result);\n\n        return result;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const renderedInputControl = super.overrideInternalRender();\n\n        if (this.inlineAction) {\n            const button = document.createElement(\"button\");\n            button.className = this.hostConfig.makeCssClassName(\n                this.inlineAction.isEffectivelyEnabled()\n                    ? \"ac-inlineActionButton\"\n                    : \"ac-inlineActionButton-disabled\"\n            );\n\n            button.onclick = (e) => {\n                if (this.inlineAction && this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n\n                    this.inlineAction.execute();\n                }\n            };\n\n            if (this.inlineAction.iconUrl) {\n                button.classList.add(\"iconOnly\");\n\n                const icon = document.createElement(\"img\");\n                icon.style.height = \"100%\";\n                icon.setAttribute(\"role\", \"presentation\");\n\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon.style.display = \"none\";\n                icon.onload = () => {\n                    icon.style.removeProperty(\"display\");\n                };\n                icon.onerror = () => {\n                    button.removeChild(icon);\n                    button.classList.remove(\"iconOnly\");\n                    button.classList.add(\"textOnly\");\n                    button.textContent =\n                        this.inlineAction && this.inlineAction.title\n                            ? this.inlineAction.title\n                            : Strings.defaults.inlineActionTitle();\n                };\n\n                icon.src = this.inlineAction.iconUrl;\n\n                button.appendChild(icon);\n                button.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            } else {\n                button.classList.add(\"textOnly\");\n                button.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            }\n\n            this.inlineAction.setupElementForAccessibility(button, true);\n\n            button.style.marginLeft = \"8px\";\n\n            this.inputControlContainerElement.appendChild(button);\n        }\n\n        return renderedInputControl;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!(this.inlineAction || this.isMultiline)) {\n            super.updateVisualState(eventType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Text\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return true;\n        }\n\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n\n        return true;\n    }\n\n    get value(): string | undefined {\n        if (this.renderedInputControlElement) {\n            if (this.isMultiline) {\n                return (<HTMLTextAreaElement>this.renderedInputControlElement).value;\n            } else {\n                return (<HTMLInputElement>this.renderedInputControlElement).value;\n            }\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class ToggleInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueOnProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOn\",\n        true,\n        undefined,\n        \"true\",\n        (sender: SerializableObject) => {\n            return \"true\";\n        }\n    );\n    static readonly valueOffProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOff\",\n        true,\n        undefined,\n        \"false\",\n        (sender: SerializableObject) => {\n            return \"false\";\n        }\n    );\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ToggleInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ToggleInput.titleProperty)\n    title?: string;\n\n    @property(ToggleInput.valueOnProperty)\n    valueOn: string = \"true\";\n\n    @property(ToggleInput.valueOffProperty)\n    valueOff: string = \"false\";\n\n    @property(ToggleInput.wrapProperty)\n    wrap: boolean = false;\n\n    //#endregion\n\n    private _checkboxInputElement: HTMLInputElement;\n    private _checkboxInputLabelElement: HTMLElement | undefined;\n    private _oldCheckboxValue: boolean;\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._checkboxInputElement) {\n            let joinedLabelIds = this.getAllLabelIds().join(\" \");\n\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            } else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n\n        this._checkboxInputElement.onchange = () => {\n            this.valueChanged();\n        };\n\n        Utils.appendChild(element, this._checkboxInputElement);\n\n        if (this.title || this.isDesignMode()) {\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            this._checkboxInputLabelElement = label.render();\n\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected get isNullable(): boolean {\n        return false;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Toggle\";\n    }\n\n    focus() {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    }\n\n    isSet(): boolean {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n\n        return this.value ? true : false;\n    }\n\n    isDirty(): boolean {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    }\n\n    get value(): string | undefined {\n        if (this._checkboxInputElement) {\n            return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class Choice extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    @property(Choice.titleProperty)\n    title?: string;\n\n    @property(Choice.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Choice\";\n    }\n\n    constructor(title?: string, value?: string) {\n        super();\n\n        this.title = title;\n        this.value = value;\n    }\n}\n\n/**\n * DataQuery class is declared later in the file and derives from subsequent base classes\n * Hence, it cannot be used in ChoiceSetInput.\n * Refactor is needed to separate elements and actions in separate files.\n */\nexport class ChoiceSetInputDataQuery extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(\n        Versions.v1_6,\n        \"type\",\n        true,\n        new RegExp(\"^Data.Query$\")\n    );\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(ChoiceSetInputDataQuery.typeProperty)\n    type: string;\n\n    @property(ChoiceSetInputDataQuery.datasetProperty)\n    dataset: string;\n\n    @property(ChoiceSetInputDataQuery.countProperty)\n    count?: number;\n\n    @property(ChoiceSetInputDataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"choices.data\";\n    }\n}\n\nexport type FetchedChoice = {\n    title: string;\n    value: string;\n};\n\nexport class ChoiceSetInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly choicesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"choices\",\n        Choice\n    );\n    static readonly choicesDataProperty = new SerializableObjectProperty(\n        Versions.v1_6,\n        \"choices.data\",\n        ChoiceSetInputDataQuery\n    );\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_0,\n        \"style\",\n        [\n            { value: \"compact\" },\n            { value: \"expanded\" },\n            { value: \"filtered\", targetVersion: Versions.v1_5 }\n        ],\n        \"compact\"\n    );\n    static readonly isMultiSelectProperty = new BoolProperty(Versions.v1_0, \"isMultiSelect\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ChoiceSetInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ChoiceSetInput.styleProperty)\n    style?: \"compact\" | \"expanded\" | \"filtered\";\n\n    get isCompact(): boolean {\n        return !this.style || this.style === \"compact\";\n    }\n\n    set isCompact(value: boolean) {\n        this.style = value ? undefined : \"expanded\";\n    }\n\n    @property(ChoiceSetInput.isMultiSelectProperty)\n    isMultiSelect: boolean = false;\n\n    @property(ChoiceSetInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(ChoiceSetInput.wrapProperty)\n    wrap: boolean = false;\n\n    @property(ChoiceSetInput.choicesProperty)\n    choices: Choice[] = [];\n\n    @property(ChoiceSetInput.choicesDataProperty)\n    choicesData?: ChoiceSetInputDataQuery;\n\n    //#endregion\n\n    private static _uniqueCategoryCounter = 0;\n\n    private static getUniqueCategoryName(): string {\n        const uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n\n        ChoiceSetInput._uniqueCategoryCounter++;\n\n        return uniqueCategoryName;\n    }\n\n    private _uniqueCategoryName: string;\n    private _selectElement: HTMLSelectElement | undefined;\n    private _textInput: HTMLInputElement | undefined;\n    private _toggleInputs: HTMLInputElement[] | undefined;\n    private _labels: Array<HTMLElement | undefined>;\n    private _filteredChoiceSet?: FilteredChoiceSet;\n\n    isDynamicTypeahead(): boolean {\n        return (\n            !!this.choicesData &&\n            !!this.choicesData.dataset &&\n            this.choicesData.type === \"Data.Query\"\n        );\n    }\n\n    getFilterForDynamicSearch(): string | undefined {\n        return this._filteredChoiceSet?.textInput?.value;\n    }\n\n    renderChoices(fetchedChoices: FetchedChoice[]) {\n        this._filteredChoiceSet?.processResponse(fetchedChoices);\n    }\n\n    showLoadingIndicator() {\n        this._filteredChoiceSet?.showLoadingIndicator();\n    }\n\n    removeLoadingIndicator() {\n        this._filteredChoiceSet?.removeLoadingIndicator();\n    }\n\n    showErrorIndicator(error: string) {\n        this._filteredChoiceSet?.showErrorIndicator(error);\n    }\n\n    private createPlaceholderOptionWhenValueDoesNotExist(): HTMLElement | undefined {\n        if (!this.value) {\n            const placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    }\n\n    // Make sure `aria-current` is applied to the currently-selected item\n    private internalApplyAriaCurrent(): void {\n        if (this._selectElement) {\n            const options = this._selectElement.options;\n\n            if (options) {\n                for (const option of Array.from(options)) {\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    } else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    }\n\n    private renderCompoundInput(\n        cssClassName: string,\n        type: \"checkbox\" | \"radio\",\n        defaultValues: string[] | undefined\n    ): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n\n        element.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._toggleInputs = [];\n        this._labels = [];\n\n        for (const choice of this.choices) {\n            const input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n            if (choice.value) {\n                input.value = choice.value;\n            }\n\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n\n            input.onchange = () => {\n                this.valueChanged();\n            };\n\n            this._toggleInputs.push(input);\n\n            const compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n\n            Utils.appendChild(compoundInput, input);\n\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            const labelElement = label.render();\n\n            this._labels.push(labelElement);\n\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n\n            Utils.appendChild(element, compoundInput);\n        }\n\n        return element;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (\n            (this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels\n        ) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            for (let i = 0; i < this._toggleInputs.length; i++) {\n                let joinedLabelIds = labelIds.join(\" \");\n                const label = this._labels[i];\n\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n\n                if (joinedLabelIds) {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                } else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        } else {\n            super.updateInputControlAriaLabelledBy();\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n        if (this.isDynamicTypeahead()) {\n            const filteredChoiceSet = new FilteredChoiceSet(\n                ChoiceSetInput._uniqueCategoryCounter,\n                this.choices,\n                this.hostConfig\n            );\n            filteredChoiceSet.render();\n\n            if (filteredChoiceSet.textInput) {\n                this._textInput = filteredChoiceSet.textInput;\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n                const onInputChangeEventHandler = Utils.debounce(() => {\n                    filteredChoiceSet.processStaticChoices();\n                    this.valueChanged();\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                }, this.hostConfig.inputs.debounceTimeInMilliSeconds);\n                this._textInput.onclick = onInputChangeEventHandler;\n                this._textInput.oninput = onInputChangeEventHandler;\n            }\n            filteredChoiceSet.parent = this;\n            this._filteredChoiceSet = filteredChoiceSet;\n            return filteredChoiceSet.renderedElement;\n        } else if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\n                \"ac-choiceSetInput-multiSelect\",\n                \"checkbox\",\n                this.defaultValue\n                    ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                    : undefined\n            );\n        } else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\n                    \"ac-choiceSetInput-expanded\",\n                    \"radio\",\n                    this.defaultValue ? [this.defaultValue] : undefined\n                );\n            } else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                const inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-filtered\"\n                );\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = () => {\n                    this.valueChanged();\n\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                };\n\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    dataList.appendChild(option);\n                }\n\n                this._textInput.setAttribute(\"list\", dataList.id);\n\n                inputContainer.append(this._textInput, dataList);\n\n                return inputContainer;\n            } else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-compact\"\n                );\n                this._selectElement.style.width = \"100%\";\n\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n\n                Utils.appendChild(this._selectElement, placeholderOption);\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    option.value = choice.value!;\n\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n\n                    Utils.appendChild(this._selectElement, option);\n                }\n\n                this._selectElement.onchange = () => {\n                    this.internalApplyAriaCurrent();\n                    this.valueChanged();\n                };\n\n                this.internalApplyAriaCurrent();\n\n                return this._selectElement;\n            }\n        }\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        if (!this.isMultiSelect && this.isCompact) {\n            super.updateVisualState(eventType);\n\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                const hideDropDownPicker = this.shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                \n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                } else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\t\t\t\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.ChoiceSet\";\n    }\n\n    focus() {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        } else if (this._textInput) {\n            this._textInput.focus();\n        } else {\n            super.focus();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.choices.length === 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.CollectionCantBeEmpty,\n                Strings.errors.choiceSetMustHaveAtLeastOneChoice()\n            );\n        }\n\n        for (const choice of this.choices) {\n            if (!choice.title || !choice.value) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.PropertyCantBeNull,\n                    Strings.errors.choiceSetChoicesMustHaveTitleAndValue()\n                );\n            }\n        }\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (const choice of this.choices) {\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n            if (this.dynamicChoices) {\n                for (const choice of this.dynamicChoices) {\n                    if (this.value === choice) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        return super.isValid();\n    }\n\n    get value(): string | undefined {\n        if (!this.isMultiSelect) {\n            if (this._selectElement) {\n                return this._selectElement.selectedIndex > 0\n                    ? this._selectElement.value\n                    : undefined;\n            } else if (this._textInput) {\n                for (const choice of this.choices) {\n                    if (choice.title && this._textInput.value === choice.title) {\n                        return choice.value;\n                    }\n                }\n                return this._textInput.value;\n            } else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                for (const toggleInput of this._toggleInputs) {\n                    if (toggleInput.checked) {\n                        return toggleInput.value;\n                    }\n                }\n            }\n\n            return undefined;\n        } else {\n            if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                return undefined;\n            }\n\n            let result: string = \"\";\n\n            for (const toggleInput of this._toggleInputs) {\n                if (toggleInput.checked) {\n                    if (result !== \"\") {\n                        result += this.hostConfig.choiceSetInputValueSeparator;\n                    }\n\n                    result += toggleInput.value;\n                }\n            }\n\n            return result ? result : undefined;\n        }\n    }\n\n    get dynamicChoices() {\n        return this._filteredChoiceSet?.dynamicChoices;\n    }\n}\n\nexport class FilteredChoiceSet {\n    private _parent?: CardObject;\n    private _choiceSetId: number;\n    private _choices: Choice[];\n    private _dynamicChoices: FetchedChoice[];\n    private _visibleChoiceCount: number;\n    private _textInput?: HTMLInputElement;\n    private _dropdown?: HTMLDivElement;\n    private _loadingIndicator?: HTMLDivElement;\n    private _errorIndicator?: HTMLDivElement;\n    private _renderedElement?: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    constructor(choiceSetId: number, choices: Choice[], hostConfig?: HostConfig) {\n        this._choiceSetId = choiceSetId;\n        this._choices = choices;\n        this._dynamicChoices = [];\n        this._visibleChoiceCount = 0;\n        this._hostConfig = hostConfig;\n    }\n\n    render() {\n        const choiceSetContainer = document.createElement(\"div\");\n        choiceSetContainer.style.position = \"relative\";\n        choiceSetContainer.style.width = \"100%\";\n\n        this._textInput = document.createElement(\"input\");\n        this._textInput.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-multichoiceInput\",\n            \"ac-choiceSetInput-filtered\"\n        );\n        this._textInput.type = \"text\";\n        this._textInput.style.width = \"100%\";\n\n        this._textInput.onkeydown = (event) => {\n            if (event.key === \"ArrowDown\") {\n                this.focusChoice(0);\n            }\n        };\n\n        this._dropdown = document.createElement(\"div\");\n        this._dropdown.style.display = \"none\";\n        this._dropdown.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-multichoiceInput\",\n            \"ac-choiceSetInput-filtered-dropdown\"\n        );\n\n        choiceSetContainer.append(this._textInput, this._dropdown);\n\n        document.onclick = (event) => {\n            if (this._dropdown) {\n                let child = this._dropdown.firstChild;\n                while (child && event.target !== child) {\n                    child = child.nextSibling;\n                }\n                // Dropdown closes if user clicks outside the choiceset.\n                if (child || !(event.target === this._textInput)) {\n                    this._dropdown.style.display = \"none\";\n                }\n            }\n        };\n        this._renderedElement = choiceSetContainer;\n    }\n\n    private createChoice(value: string, filter: string, id: number): HTMLSpanElement {\n        const choice = document.createElement(\"span\");\n        choice.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-choiceSetInput-choice\");\n        choice.id = `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`;\n        choice.innerHTML = value.replace(filter, `<b>${filter}</b>`);\n        choice.tabIndex = -1;\n\n        choice.addEventListener(\"focusin\", () => {\n            choice.classList.add(\"focused\");\n        });\n\n        choice.addEventListener(\"focusout\", () => {\n            choice.classList.remove(\"focused\");\n        });\n\n        choice.onclick = () => {\n            if (this._textInput) {\n                this._textInput.value = choice.innerText;\n            }\n            if (this._dropdown) {\n                this._dropdown.style.display = \"none\";\n            }\n        };\n\n        choice.onkeydown = (event) => {\n            if (event.key === \"ArrowDown\") {\n                this.focusChoice(id + 1);\n            } else if (event.key === \"ArrowUp\") {\n                this.focusChoice(id - 1);\n            } else if (event.key === \"Enter\") {\n                choice.click();\n            }\n        };\n\n        choice.onmouseover = () => {\n            this.focusChoice(id);\n        };\n\n        return choice;\n    }\n\n    private focusChoice(id: number) {\n        const choice = document.getElementById(\n            `ac-choiceSetInput-${this._choiceSetId}-choice-${id}`\n        );\n        if (choice) {\n            choice.focus();\n        } else if (this._textInput) {\n            this._textInput.focus();\n            const textLength = this._textInput.value.length;\n            this._textInput.setSelectionRange(textLength, textLength);\n        }\n    }\n\n    private filterChoices(isDynamic?: boolean) {\n        const filter = this._textInput?.value.toLowerCase();\n        if (filter) {\n            const choices = isDynamic ? this._dynamicChoices : this._choices;\n            for (const choice of choices) {\n                if (choice.title) {\n                    const matchIndex = choice.title.toLowerCase().indexOf(filter);\n                    if (matchIndex !== -1) {\n                        const matchedText = choice.title.substring(\n                            matchIndex,\n                            matchIndex + filter.length\n                        );\n                        const choiceContainer = this.createChoice(\n                            choice.title,\n                            matchedText,\n                            this._visibleChoiceCount++\n                        );\n                        this._dropdown?.appendChild(choiceContainer);\n                    }\n                }\n            }\n        }\n    }\n\n    private getStatusIndicator(error?: string): HTMLDivElement {\n        if (error) {\n            if (!this._errorIndicator) {\n                const errorIndicator = document.createElement(\"div\");\n                errorIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\",\n                    \"ac-choiceSetInput-errorIndicator\"\n                );\n                this._errorIndicator = errorIndicator;\n            }\n            this._errorIndicator.innerText = error;\n            return this._errorIndicator;\n        } else {\n            if (!this._loadingIndicator) {\n                const loadingIndicator = document.createElement(\"div\");\n                loadingIndicator.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-choiceSetInput-statusIndicator\"\n                );\n                this._loadingIndicator = loadingIndicator;\n            }\n            this._loadingIndicator.innerText =\n                this._visibleChoiceCount === 0 ? \"Loading...\" : \"Loading more...\";\n            return this._loadingIndicator;\n        }\n    }\n\n    private resetDropdown() {\n        this._dynamicChoices = [];\n        if (this._dropdown) {\n            Utils.clearElementChildren(this._dropdown);\n            this._visibleChoiceCount = 0;\n        }\n    }\n\n    private showDropdown() {\n        if (this._dropdown?.hasChildNodes) {\n            this._dropdown.style.display = \"block\";\n        }\n    }\n\n    processStaticChoices() {\n        this.resetDropdown();\n        this.filterChoices();\n        this.showDropdown();\n    }\n\n    processResponse(fetchedChoices: FetchedChoice[]) {\n        this._dynamicChoices = fetchedChoices;\n        this.filterChoices(true);\n        if (this._visibleChoiceCount === 0) {\n            this.showErrorIndicator(\"No results found.\");\n        }\n    }\n\n    showLoadingIndicator() {\n        const loadingIndicator = this.getStatusIndicator();\n        this._dropdown?.appendChild(loadingIndicator);\n        this.showDropdown();\n    }\n\n    removeLoadingIndicator() {\n        if (this._loadingIndicator && this._dropdown?.contains(this._loadingIndicator)) {\n            this._dropdown?.removeChild(this._loadingIndicator);\n        }\n    }\n\n    showErrorIndicator(error: string) {\n        this.removeLoadingIndicator();\n        const errorIndicator = this.getStatusIndicator(error);\n        this._dropdown?.appendChild(errorIndicator);\n    }\n\n    get dynamicChoices() {\n        return this._dynamicChoices?.map((choice) => choice.title);\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set parent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    get parent() {\n        return this._parent;\n    }\n\n    get renderedElement() {\n        return this._renderedElement;\n    }\n\n    get textInput() {\n        return this._textInput;\n    }\n}\n\nexport class NumberInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new NumProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new NumProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new NumProperty(Versions.v1_0, \"max\");\n\n    @property(NumberInput.valueProperty)\n    defaultValue?: number;\n\n    @property(NumberInput.minProperty)\n    min?: number;\n\n    @property(NumberInput.maxProperty)\n    max?: number;\n\n    @property(NumberInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _numberInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-numberInput\"\n        );\n        this._numberInputElement.style.width = \"100%\";\n\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._numberInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        return this._numberInputElement;\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Number\";\n    }\n\n    isSet(): boolean {\n        return this.value !== undefined && !isNaN(this.value);\n    }\n\n    isValid(): boolean {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n\n        let result = true;\n\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n\n        return result;\n    }\n\n    get value(): number | undefined {\n        return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n    }\n\n    set value(value: number | undefined) {\n        if (value && this._numberInputElement) {\n            this._numberInputElement.value = value.toString();\n        }\n    }\n}\n\nexport class DateInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new StringProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new StringProperty(Versions.v1_0, \"max\");\n\n    @property(DateInput.valueProperty)\n    defaultValue?: string;\n\n    @property(DateInput.minProperty)\n    min?: string;\n\n    @property(DateInput.maxProperty)\n    max?: string;\n\n    @property(DateInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _dateInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-dateInput\"\n        );\n        this._dateInputElement.style.width = \"100%\";\n\n        this._dateInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n\n        return this._dateInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n\n        super.updateVisualState(eventType);\n\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideDatePicker = this.shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n\n            if (hideDatePicker) {\n                this._dateInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._dateInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker  /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Date\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = new Date(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = new Date(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = new Date(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._dateInputElement ? this._dateInputElement.value : undefined;\n    }\n}\n\nexport class TimeProperty extends CustomProperty<string | undefined> {\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(\n            targetVersion,\n            name,\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                source: PropertyBag,\n                context: BaseSerializationContext\n            ) => {\n                const value = source[prop.name];\n\n                if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                    return value;\n                }\n\n                return undefined;\n            },\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                target: PropertyBag,\n                value: string | undefined,\n                context: BaseSerializationContext\n            ) => {\n                context.serializeValue(target, prop.name, value);\n            }\n        );\n    }\n}\n\nexport class TimeInput extends Input {\n    private static convertTimeStringToDate(timeString: string): Date {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    }\n\n    //#region Schema\n\n    static readonly valueProperty = new TimeProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new TimeProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new TimeProperty(Versions.v1_0, \"max\");\n\n    @property(TimeInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TimeInput.minProperty)\n    min?: string;\n\n    @property(TimeInput.maxProperty)\n    max?: string;\n\n    @property(TimeInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _timeInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-timeInput\"\n        );\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n\n        return this._timeInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.allowRevealOnHoverStyle) {\n            return;\n        }\n        \n        super.updateVisualState(eventType);\n\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideTimePicker = this.shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n\n            if (hideTimePicker) {\n                this._timeInputElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            } else {\n                this._timeInputElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n            }\n\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Time\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = TimeInput.convertTimeStringToDate(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = TimeInput.convertTimeStringToDate(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._timeInputElement ? this._timeInputElement.value : undefined;\n    }\n}\n\nexport const enum ActionButtonState {\n    Normal,\n    Expanded,\n    Subdued\n}\n\nexport type ActionType = { new (): Action };\n\nexport abstract class Action extends CardObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly iconUrlProperty = new StringProperty(Versions.v1_1, \"iconUrl\");\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_2,\n        \"style\",\n        [\n            { value: Enums.ActionStyle.Default },\n            { value: Enums.ActionStyle.Positive },\n            { value: Enums.ActionStyle.Destructive }\n        ],\n        Enums.ActionStyle.Default\n    );\n    static readonly modeProperty = new ValueSetProperty(\n        Versions.v1_5,\n        \"mode\",\n        [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }],\n        Enums.ActionMode.Primary\n    );\n    static readonly tooltipProperty = new StringProperty(Versions.v1_5, \"tooltip\");\n    static readonly isEnabledProperty = new BoolProperty(Versions.v1_5, \"isEnabled\", true);\n    static readonly roleProperty = new EnumProperty(Versions.v1_6, \"role\", Enums.ActionRole);\n\n    @property(Action.titleProperty)\n    title?: string;\n\n    @property(Action.iconUrlProperty)\n    iconUrl?: string;\n\n    @property(Action.styleProperty)\n    style: string = Enums.ActionStyle.Default;\n\n    @property(Action.modeProperty)\n    mode: string = Enums.ActionMode.Primary;\n\n    @property(Action.tooltipProperty)\n    tooltip?: string;\n\n    @property(Action.isEnabledProperty)\n    isEnabled: boolean;\n    \n    @property(Action.roleProperty)\n    role?: Enums.ActionRole;\n\n    //#endregion\n\n    private renderButtonContent() {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            const hostConfig = this.hostConfig;\n\n            const titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n\n            if (\n                !(\n                    hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                    hostConfig.actions.allowTitleToWrap\n                )\n            ) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            } else {\n                const iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                } else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n\n                    iconElement.style.maxHeight = \"100%\";\n\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    }\n\n    private getParentContainer(): Container | undefined {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    }\n\n    private _state: ActionButtonState = ActionButtonState.Normal;\n    private _actionCollection?: ActionCollection; // hold the reference to its action collection\n    private _isFocusable: boolean = true;\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootObject();\n\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    }\n\n    protected updateCssClasses() {\n        if (this.parent && this.renderedElement) {\n            const hostConfig = this.parent.hostConfig;\n\n            this.renderedElement.className = hostConfig.makeCssClassName(\n                this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\"\n            );\n\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer) {\n                const parentContainerStyle = parentContainer.getEffectiveStyle();\n\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n\n            switch (this._state) {\n                case ActionButtonState.Normal:\n                    // No additional classes needed\n                    break;\n\n                case ActionButtonState.Expanded:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case ActionButtonState.Subdued:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"primary\", \"style-positive\")\n                    );\n                } else {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase())\n                    );\n                }\n            }\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        return {};\n    }\n\n    protected internalPrepareForExecution(_inputs: Dictionary<Input> | undefined) {\n        // Do nothing in base implementation\n    }\n\n    protected internalValidateInputs(referencedInputs: Dictionary<Input> | undefined): Input[] {\n        const result: Input[] = [];\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n\n        raiseExecuteActionEvent(this);\n    }\n\n    protected internalAfterExecute() {\n        let rootObject = this.getRootObject();\n\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    }\n\n    onExecute: (sender: Action) => void;\n\n    getHref(): string | undefined {\n        return \"\";\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"button\";\n    }\n    \n    getAriaRoleFromEnum(): string | undefined {\n        switch (this.role) {\n            case Enums.ActionRole.Button:\n                return \"button\";\n            case Enums.ActionRole.Link:\n                return \"link\";\n            case Enums.ActionRole.Menu:\n                return \"menu\";\n            case Enums.ActionRole.MenuItem:\n                return \"menuitem\";\n            case Enums.ActionRole.Tab:\n                return \"tab\";\n            default:\n                return undefined;\n        }\n    }\n\n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n\n        element.setAttribute(\"role\", this.getAriaRole());\n\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        } else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        } else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n\n        if (this.tooltip) {\t\t\t\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    }\n\n    parse(source: any, context?: SerializationContext) {\n        return super.parse(source, context ? context : new SerializationContext());\n    }\n\n    render() {\n        const buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = (e) => {\n            if (this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n\n                this.execute();\n            }\n        };\n\n        this._renderedElement = buttonElement;\n\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    }\n\n    execute() {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    }\n\n    prepareForExecution(): boolean {\n        const referencedInputs = this.getReferencedInputs();\n        const invalidInputs = this.internalValidateInputs(referencedInputs);\n\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n\n            return false;\n        }\n\n        this.internalPrepareForExecution(referencedInputs);\n\n        return true;\n    }\n\n    remove(): boolean {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n\n        return false;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        return [this];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    }\n\n    getActionById(id: string): Action | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getReferencedInputs(): Dictionary<Input> | undefined {\n        return this.internalGetReferencedInputs();\n    }\n\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    validateInputs(): Input[] {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    }\n\n    updateEnabledState() {\n        // Do nothing in base implementation\n    }\n\n    isEffectivelyEnabled(): boolean {\n        return this.isEnabled;\n    }\n\n    get isPrimary(): boolean {\n        return this.style === Enums.ActionStyle.Positive;\n    }\n\n    set isPrimary(value: boolean) {\n        if (value) {\n            this.style = Enums.ActionStyle.Positive;\n        } else {\n            if (this.style === Enums.ActionStyle.Positive) {\n                this.style = Enums.ActionStyle.Default;\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this.parent ? this.parent.hostConfig : defaultHostConfig;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n\n    get state(): ActionButtonState {\n        return this._state;\n    }\n\n    set state(value: ActionButtonState) {\n        if (this._state !== value) {\n            this._state = value;\n\n            this.updateCssClasses();\n        }\n    }\n\n    get isFocusable(): boolean {\n        return this._isFocusable;\n    }\n\n    set isFocusable(value: boolean) {\n        if (this._isFocusable !== value) {\n            this._isFocusable = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n\nexport abstract class SubmitActionBase extends Action {\n    //#region Schema\n\n    static readonly dataProperty = new PropertyDefinition(Versions.v1_0, \"data\");\n    static readonly associatedInputsProperty = new CustomProperty(\n        Versions.v1_3,\n        \"associatedInputs\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const value = source[prop.name];\n\n            if (value !== undefined && typeof value === \"string\") {\n                return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n            }\n\n            return undefined;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: string | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, value);\n        }\n    );\n    static readonly disabledUnlessAssociatedInputsChangeProperty = new BoolProperty(\n        Versions.v1_6,\n        \"disabledUnlessAssociatedInputsChange\",\n        false\n    );\n\n    @property(SubmitActionBase.dataProperty)\n    private _originalData?: PropertyBag;\n\n    @property(SubmitActionBase.associatedInputsProperty)\n    associatedInputs?: \"auto\" | \"none\";\n\n    @property(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    disabledUnlessAssociatedInputsChange: boolean = false;\n\n    //#endregion\n\n    private _isPrepared: boolean = false;\n    private _processedData?: PropertyBag;\n    private _areReferencedInputsDirty: boolean = false;\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const result: Dictionary<Input> = {};\n\n        if (this.associatedInputs !== \"none\") {\n            let current: CardElement | undefined = this.parent;\n            let inputs: Input[] = [];\n\n            while (current) {\n                inputs.push(...current.getAllInputs(false));\n\n                current = current.parent;\n            }\n\n            for (const input of inputs) {\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        } else {\n            this._processedData = {};\n        }\n\n        if (this._processedData && inputs) {\n            for (const key of Object.keys(inputs)) {\n                const input = inputs[key];\n\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n\n        this._isPrepared = true;\n    }\n\n    protected internalAfterExecute() {\n        if (GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    }\n\n    resetReferencedInputsDirtyState() {\n        let referencedInputs = this.getReferencedInputs();\n\n        this._areReferencedInputsDirty = false;\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                input.resetDirtyState();\n            }\n        }\n    }\n\n    updateEnabledState() {\n        this._areReferencedInputsDirty = false;\n\n        let referencedInputs = this.getReferencedInputs();\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n\n                    break;\n                }\n            }\n        }\n\n        this.updateCssClasses();\n\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    }\n\n    isEffectivelyEnabled(): boolean {\n        let result = super.isEffectivelyEnabled();\n\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    }\n\n    get data(): object | undefined {\n        return this._isPrepared ? this._processedData : this._originalData;\n    }\n\n    set data(value: object | undefined) {\n        this._originalData = value;\n        this._isPrepared = false;\n    }\n}\n\nexport class SubmitAction extends SubmitActionBase {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Submit\" = \"Action.Submit\";\n\n    getJsonTypeName(): string {\n        return SubmitAction.JsonTypeName;\n    }\n}\n\nexport abstract class UniversalAction extends SubmitActionBase {\n    // This is the base class for all actions that can be executed via the\n    // adaptiveCards/action activity\n}\n\nexport class ExecuteAction extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Execute\" = \"Action.Execute\";\n\n    //#region Schema\n\n    static readonly verbProperty = new StringProperty(Versions.v1_4, \"verb\");\n\n    @property(ExecuteAction.verbProperty)\n    verb: string;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return ExecuteAction.JsonTypeName;\n    }\n}\n\nexport class DataQuery extends UniversalAction {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Data.Query\" = \"Data.Query\";\n\n    //#region Schema\n\n    static readonly datasetProperty = new StringProperty(Versions.v1_6, \"dataset\");\n    static readonly filterProperty = new StringProperty(Versions.v1_6, \"filter\");\n    static readonly countProperty = new NumProperty(Versions.v1_6, \"count\");\n    static readonly skipProperty = new NumProperty(Versions.v1_6, \"skip\");\n\n    @property(DataQuery.datasetProperty)\n    dataset: string;\n\n    @property(DataQuery.filterProperty)\n    filter: string;\n\n    @property(DataQuery.countProperty)\n    count?: number;\n\n    @property(DataQuery.skipProperty)\n    skip?: number;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return DataQuery.JsonTypeName;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class OpenUrlAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n\n    @property(OpenUrlAction.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.OpenUrl\" = \"Action.OpenUrl\";\n\n    getJsonTypeName(): string {\n        return OpenUrlAction.JsonTypeName;\n    }\n\n    getAriaRole(): string {\n        let ariaRole = this.getAriaRoleFromEnum();\n        return ariaRole ?? \"link\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n    }\n\n    getHref(): string | undefined {\n        return this.url;\n    }\n}\n\nexport class ToggleVisibilityAction extends Action {\n    //#region Schema\n\n    static readonly targetElementsProperty = new CustomProperty<PropertyBag>(\n        Versions.v1_2,\n        \"targetElements\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const result: PropertyBag = {};\n\n            if (Array.isArray(source[prop.name])) {\n                for (const item of source[prop.name]) {\n                    if (typeof item === \"string\") {\n                        result[item] = undefined;\n                    } else if (typeof item === \"object\") {\n                        const elementId = item[\"elementId\"];\n\n                        if (typeof elementId === \"string\") {\n                            result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const targetElements: any[] = [];\n\n            for (const id of Object.keys(value)) {\n                if (typeof value[id] === \"boolean\") {\n                    targetElements.push({\n                        elementId: id,\n                        isVisible: value[id]\n                    });\n                } else {\n                    targetElements.push(id);\n                }\n            }\n\n            context.serializeArray(target, prop.name, targetElements);\n        },\n        {},\n        (sender: SerializableObject) => {\n            return {};\n        }\n    );\n\n    @property(ToggleVisibilityAction.targetElementsProperty)\n    targetElements: { [key: string]: any } = {};\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ToggleVisibility\" = \"Action.ToggleVisibility\";\n\n    private updateAriaControlsAttribute() {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            const elementIds = Object.keys(this.targetElements);\n\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                } else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.targetElements) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"targetElements\")\n            );\n        }\n    }\n\n    getJsonTypeName(): string {\n        return ToggleVisibilityAction.JsonTypeName;\n    }\n\n    render() {\n        super.render();\n\n        this.updateAriaControlsAttribute();\n    }\n\n    execute() {\n        super.execute();\n        if (this.parent) {\n            for (const elementId of Object.keys(this.targetElements)) {\n                const targetElement = this.parent.getRootElement().getElementById(elementId);\n\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    } else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    }\n\n    addTargetElement(elementId: string, isVisible: boolean | undefined = undefined) {\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    }\n\n    removeTargetElement(elementId: string) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    }\n}\n\nclass StringWithSubstitutionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): StringWithSubstitutions {\n        const result = new StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: StringWithSubstitutions,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value.getOriginal());\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined, () => {\n            return new StringWithSubstitutions();\n        });\n    }\n}\n\nexport class HttpHeader extends SerializableObject {\n    //#region Schema\n\n    static readonly nameProperty = new StringProperty(Versions.v1_0, \"name\");\n    static readonly valueProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"HttpHeader\";\n    }\n\n    @property(HttpHeader.nameProperty)\n    name: string;\n\n    @property(HttpHeader.valueProperty)\n    private _value: StringWithSubstitutions;\n\n    //#endregion\n\n    constructor(name: string = \"\", value: string = \"\") {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n\n    getReferencedInputs(inputs: Input[], referencedInputs: Dictionary<Input>) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    }\n\n    prepareForExecution(inputs: Dictionary<Input>) {\n        this._value.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n    }\n\n    get value(): string | undefined {\n        return this._value.get();\n    }\n\n    set value(newValue: string | undefined) {\n        this._value.set(newValue);\n    }\n}\n\nexport class HttpAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"url\");\n    static readonly bodyProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"body\");\n    static readonly methodProperty = new StringProperty(Versions.v1_0, \"method\");\n    static readonly headersProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"headers\",\n        HttpHeader\n    );\n    static readonly ignoreInputValidationProperty = new BoolProperty(\n        Versions.v1_3,\n        \"ignoreInputValidation\",\n        false\n    );\n\n    @property(HttpAction.urlProperty)\n    private _url: StringWithSubstitutions;\n\n    @property(HttpAction.bodyProperty)\n    private _body: StringWithSubstitutions;\n\n    @property(HttpAction.methodProperty)\n    method?: string;\n\n    @property(HttpAction.headersProperty)\n    headers: HttpHeader[];\n\n    @property(HttpAction.ignoreInputValidationProperty)\n    private _ignoreInputValidation: boolean = false;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Http\" = \"Action.Http\";\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        const result: Dictionary<Input> = {};\n\n        this._url.getReferencedInputs(allInputs, result);\n\n        for (const header of this.headers) {\n            header.getReferencedInputs(allInputs, result);\n        }\n\n        this._body.getReferencedInputs(allInputs, result);\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n\n            let contentType = ContentTypes.applicationJson;\n\n            for (const header of this.headers) {\n                header.prepareForExecution(inputs);\n\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value!;\n                }\n            }\n\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return HttpAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n\n        if (this.headers.length > 0) {\n            for (const header of this.headers) {\n                if (!header.name) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.PropertyCantBeNull,\n                        Strings.errors.actionHttpHeadersMustHaveNameAndValue()\n                    );\n                }\n            }\n        }\n    }\n\n    get ignoreInputValidation(): boolean {\n        return this._ignoreInputValidation;\n    }\n\n    set ignoreInputValidation(value: boolean) {\n        this._ignoreInputValidation = value;\n    }\n\n    get url(): string | undefined {\n        return this._url.get();\n    }\n\n    set url(value: string | undefined) {\n        this._url.set(value);\n    }\n\n    get body(): string | undefined {\n        return this._body.get();\n    }\n\n    set body(value: string | undefined) {\n        this._body.set(value);\n    }\n}\n\nexport class ShowCardAction extends Action {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ShowCard\" = \"Action.ShowCard\";\n\n    protected updateCssClasses() {\n        super.updateCssClasses();\n\n        if (this.renderedElement) {\n            const effectiveHostConfig = this.parent ? this.parent.hostConfig : defaultHostConfig;\n\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\n                \"aria-expanded\",\n                (this.state === ActionButtonState.Expanded).toString()\n            );\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        const jsonCard = source[\"card\"];\n\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        } else {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.showCardMustHaveCard()\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            super.raiseExecuteActionEvent();\n        }\n    }\n\n    readonly card: AdaptiveCard = new InlineAdaptiveCard();\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.card.releaseDOMResources();\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this.card.internalValidateProperties(context);\n    }\n\n    setParent(value: CardElement) {\n        super.setParent(value);\n\n        this.card.setParent(value);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return this.card.getAllInputs(processActions);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this.card.getAllActions());\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this.card.getResourceInformation());\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result = super.getActionById(id);\n\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n\n        return result;\n    }\n}\n\nclass OverflowAction extends Action {\n    static readonly JsonTypeName: \"Action.Overflow\" = \"Action.Overflow\";\n    private _actions: Action[];\n\n    constructor(actions: Action[]) {\n        super();\n        this._actions = actions;\n\n        this.title = Strings.defaults.overflowButtonText();\n        this.tooltip = Strings.defaults.overflowButtonTooltip();\n    }\n\n    getActions(): readonly Action[] {\n        return this._actions;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this._actions);\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    execute() {\n        const shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(\n            this,\n            this.renderedElement\n        );\n\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            const contextMenu = new PopupMenu();\n            contextMenu.hostConfig = this.hostConfig;\n\n            for (let i = 0; i < this._actions.length; i++) {\n                const menuItem = new MenuItem(i.toString(), this._actions[i].title ?? \"\");\n                menuItem.isEnabled = this._actions[i].isEnabled;\n                menuItem.onClick = () => {\n                    const actionToExecute = this._actions[i];\n\n                    contextMenu.closePopup(false);\n\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n\n                contextMenu.items.add(menuItem);\n            }\n\n            contextMenu.onClose = () => {\n                this.renderedElement?.setAttribute(\"aria-expanded\", \"false\");\n            }\n\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu.popup(this.renderedElement);\n        }\n    }\n    \n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        super.setupElementForAccessibility(element, promoteTooltipToLabel);\n\n        element.setAttribute(\"aria-label\", Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    }\n}\n\nclass ActionCollection {\n    private _owner: CardElement;\n    private _actionCardContainer: HTMLDivElement;\n    private _expandedAction?: ShowCardAction;\n    private _actionCard?: HTMLElement;\n\n    private isActionAllowed(action: Action): boolean {\n        const forbiddenTypes = this._owner.getForbiddenActionTypes();\n\n        if (forbiddenTypes) {\n            for (const forbiddenType of forbiddenTypes) {\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    private refreshContainer() {\n        clearElement(this._actionCardContainer);\n\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n\n            return;\n        }\n\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n\n        const padding = this._owner.getEffectivePadding();\n\n        this._owner.getImmediateSurroundingPadding(padding);\n\n        const physicalPadding =\n            this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    }\n\n    private layoutChanged() {\n        this._owner.getRootElement().updateLayout();\n    }\n\n    private showActionCard(\n        action: ShowCardAction,\n        suppressStyle: boolean = false,\n        raiseEvent: boolean = true\n    ) {\n        (<InlineAdaptiveCard>action.card).suppressStyle = suppressStyle;\n\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        const renderedCard =\n            action.card.renderedElement && !this._owner.isDesignMode()\n                ? action.card.renderedElement\n                : action.card.render();\n\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n\n        this.refreshContainer();\n\n        if (raiseEvent) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    }\n\n    private collapseExpandedAction() {\n        for (const action of this._renderedActions) {\n            action.state = ActionButtonState.Normal;\n        }\n\n        const previouslyExpandedAction = this._expandedAction;\n\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n\n        this.refreshContainer();\n\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    }\n\n    private expandShowCardAction(action: ShowCardAction, raiseEvent: boolean) {\n        let afterSelectedAction = false;\n\n        for (const renderedAction of this._renderedActions) {\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (\n                this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction\n            ) {\n                renderedAction.isFocusable = false;\n            }\n\n            if (renderedAction !== action) {\n                renderedAction.state = ActionButtonState.Subdued;\n            } else {\n                renderedAction.state = ActionButtonState.Expanded;\n\n                afterSelectedAction = true;\n\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = (_e) => {\n                        for (const ra of this._renderedActions) {\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n\n        this.showActionCard(\n            action,\n            !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()),\n            raiseEvent\n        );\n    }\n\n    private _items: Action[] = [];\n    private _overflowAction?: OverflowAction;\n    private _renderedActions: Action[] = [];\n\n    constructor(owner: CardElement) {\n        this._owner = owner;\n    }\n\n    releaseDOMResources() {\n        for (let action of this._renderedActions) {\n            action.releaseDOMResources();\n        }\n    }\n\n    actionExecuted(action: Action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        } else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            } else if (\n                this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline\n            ) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    }\n\n    parse(source: any, context: SerializationContext) {\n        this.clear();\n\n        if (Array.isArray(source)) {\n            for (const jsonAction of source) {\n                let forbiddenActions: string[] = [];\n\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n\n                const action = context.parseAction(\n                    this._owner,\n                    jsonAction,\n                    forbiddenActions,\n                    !this._owner.isDesignMode()\n                );\n\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    }\n\n    toJSON(target: PropertyBag, propertyName: string, context: SerializationContext): any {\n        context.serializeArray(target, propertyName, this._items);\n    }\n\n    getActionAt(id: number): Action | undefined {\n        return this._items[id];\n    }\n\n    getActionCount(): number {\n        return this._items.length;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const item of this._items) {\n            result = item.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    validateProperties(context: ValidationResults) {\n        if (\n            this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions\n        ) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.TooManyActions,\n                Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions)\n            );\n        }\n\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.InteractivityNotAllowed,\n                Strings.errors.interactivityNotAllowed()\n            );\n        }\n\n        for (const item of this._items) {\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(\n                    this._owner,\n                    Enums.ValidationEvent.ActionTypeNotAllowed,\n                    Strings.errors.actionTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n    }\n\n    render(orientation: Enums.Orientation): HTMLElement | undefined {\n        // Cache hostConfig for better perf\n        const hostConfig = this._owner.hostConfig;\n\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n\n        const element = document.createElement(\"div\");\n        const maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n\n        if (\n            hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])\n        ) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        } else {\n            const buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            } else {\n                buttonStrip.style.flexDirection = \"column\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n\n            const allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n\n            let primaryActions: Action[] = [];\n            const secondaryActions: Action[] = [];\n\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach((action) =>\n                    action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions.push(action)\n                        : primaryActions.push(action)\n                );\n\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                const overflowPrimaryActions = primaryActions.splice(hostConfig.actions.maxActions);\n\n                if (GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions.push(...overflowPrimaryActions);\n                }\n\n                let shouldRenderOverflowActionButton = true;\n\n                if (secondaryActions.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n\n                    const isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(\n                        this._overflowAction,\n                        isRootAction\n                    );\n                }\n\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions.push(this._overflowAction);\n                }\n            } else {\n                primaryActions = allowedActions;\n            }\n\n            for (let i = 0; i < primaryActions.length; i++) {\n                const action = primaryActions[i];\n                action.render();\n\n                if (action.renderedElement) {\n                    if (\n                        hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch\n                    ) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    } else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n\n                    buttonStrip.appendChild(action.renderedElement);\n\n                    this._renderedActions.push(action);\n\n                    if (i < primaryActions.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        const spacer = document.createElement(\"div\");\n\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        } else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n\n            const buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n\n            Utils.appendChild(element, buttonStripContainer);\n        }\n\n        Utils.appendChild(element, this._actionCardContainer);\n\n        for (const renderedAction of this._renderedActions) {\n            if (renderedAction.state === ActionButtonState.Expanded) {\n                this.expandShowCardAction(<ShowCardAction>renderedAction, false);\n\n                break;\n            }\n        }\n\n        return this._renderedActions.length > 0 ? element : undefined;\n    }\n\n    addAction(action: Action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n\n            action[\"_actionCollection\"] = this;\n        } else {\n            throw new Error(Strings.errors.actionAlreadyParented());\n        }\n    }\n\n    removeAction(action: Action): boolean {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n\n        const actionIndex = this._items.indexOf(action);\n\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n\n            action.setParent(undefined);\n\n            action[\"_actionCollection\"] = undefined;\n\n            for (let i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n\n                    break;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        if (processActions) {\n            for (const action of this._items) {\n                result.push(...action.getAllInputs());\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (const action of this._items) {\n            result.push(...action.getResourceInformation());\n        }\n\n        return result;\n    }\n\n    get renderedActionCount(): number {\n        return this._renderedActions.length;\n    }\n\n    get expandedAction(): ShowCardAction | undefined {\n        return this._expandedAction;\n    }\n}\n\nexport class ActionSet extends CardElement {\n    //#region Schema\n\n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_1,\n        \"orientation\",\n        Enums.Orientation\n    );\n\n    @property(ActionSet.orientationProperty)\n    orientation?: Enums.Orientation;\n\n    //#endregion\n\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        return this._actionCollection.render(\n            this.orientation !== undefined\n                ? this.orientation\n                : this.hostConfig.actions.actionsOrientation\n        );\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"ActionSet\";\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this._actionCollection.validateProperties(context);\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this._actionCollection.getResourceInformation();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n\n                if (target) {\n                    return target;\n                }\n            }\n        }\n\n        // if not found in any Action, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class ContainerStyleProperty extends ValueSetProperty {\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(\n            targetVersion,\n            name,\n            [\n                { value: Enums.ContainerStyle.Default },\n                { value: Enums.ContainerStyle.Emphasis },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Accent },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Good },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Attention },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Warning }\n            ],\n            defaultValue,\n            onGetInitialValue\n        );\n    }\n}\n\nexport abstract class StylableCardElementContainer extends CardElementContainer {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_0, \"style\");\n\n    @property(StylableCardElementContainer.styleProperty)\n    get style(): string | undefined {\n        if (this.allowCustomStyle) {\n            const style = this.getValue(StylableCardElementContainer.styleProperty);\n\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n        }\n\n        return undefined;\n    }\n\n    set style(value: string | undefined) {\n        this.setValue(StylableCardElementContainer.styleProperty, value);\n    }\n\n    //#endregion\n\n    protected get allowCustomStyle(): boolean {\n        return true;\n    }\n\n    protected get hasExplicitStyle(): boolean {\n        return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n    }\n\n    protected applyBorder() {\n        // No border in base implementation\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            const padding = new PaddingDefinition();\n\n            this.getImmediateSurroundingPadding(padding);\n\n            const surroundingPadding =\n                this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        } else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let currentElement: CardElement | undefined = this.parent;\n\n        while (currentElement) {\n            let currentElementHasBackgroundImage: boolean = false;\n\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            } else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (\n                    this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)\n                ) {\n                    return true;\n                }\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return false;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding\n              )\n            : super.getDefaultPadding();\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        const explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n\n        if (explicitStyle !== undefined) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n\n            if (!styleDefinition) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(explicitStyle, \"style\")\n                );\n            }\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const renderedElement = super.render();\n\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n\n        this.applyBorder();\n\n        return renderedElement;\n    }\n\n    getEffectiveStyle(): string {\n        const effectiveStyle = this.style;\n\n        return effectiveStyle ? effectiveStyle : super.getEffectiveStyle();\n    }\n}\n\nexport abstract class ContainerBase extends StylableCardElementContainer {\n    //#region Schema\n\n    static readonly bleedProperty = new BoolProperty(Versions.v1_2, \"bleed\", false);\n    static readonly minHeightProperty = new PixelSizeProperty(Versions.v1_2, \"minHeight\");\n\n    @property(ContainerBase.bleedProperty)\n    private _bleed: boolean = false;\n\n    @property(ContainerBase.minHeightProperty)\n    minPixelHeight?: number;\n\n    //#endregion\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        return false;\n    }\n\n    protected getBleed(): boolean {\n        return this._bleed;\n    }\n\n    protected setBleed(value: boolean) {\n        this._bleed = value;\n    }\n\n    protected get renderedActionCount(): number {\n        return 0;\n    }\n\n    isBleeding(): boolean {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    }\n}\n\nexport class BackgroundImage extends SerializableObject {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly fillModeProperty = new EnumProperty(\n        Versions.v1_2,\n        \"fillMode\",\n        Enums.FillMode,\n        Enums.FillMode.Cover\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment,\n        Enums.HorizontalAlignment.Left\n    );\n    static readonly verticalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"verticalAlignment\",\n        Enums.VerticalAlignment,\n        Enums.VerticalAlignment.Top\n    );\n\n    @property(BackgroundImage.urlProperty)\n    url?: string;\n\n    @property(BackgroundImage.fillModeProperty)\n    fillMode: Enums.FillMode;\n\n    @property(BackgroundImage.horizontalAlignmentProperty)\n    horizontalAlignment: Enums.HorizontalAlignment;\n\n    @property(BackgroundImage.verticalAlignmentProperty)\n    verticalAlignment: Enums.VerticalAlignment;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"BackgroundImage\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        } else {\n            return super.internalParse(source, context);\n        }\n    }\n\n    apply(element: CardElement) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                \"')\";\n\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    }\n\n    isValid(): boolean {\n        return this.url ? true : false;\n    }\n}\n\nexport class Container extends ContainerBase {\n    //#region Schema\n    static readonly backgroundImageProperty = new SerializableObjectProperty(\n        Versions.v1_0,\n        \"backgroundImage\",\n        BackgroundImage\n    );\n    static readonly verticalContentAlignmentProperty = new EnumProperty(\n        Versions.v1_1,\n        \"verticalContentAlignment\",\n        Enums.VerticalAlignment\n    );\n    static readonly rtlProperty = new BoolProperty(Versions.v1_0, \"rtl\");\n\n    @property(Container.backgroundImageProperty)\n    get backgroundImage(): BackgroundImage {\n        return this.getValue(Container.backgroundImageProperty);\n    }\n\n    @property(Container.verticalContentAlignmentProperty)\n    verticalContentAlignment?: Enums.VerticalAlignment;\n\n    @property(Container.rtlProperty)\n    rtl?: boolean;\n\n    //#endregion\n\n    private _items: CardElement[] = [];\n    private _renderedItems: CardElement[] = [];\n\n    protected insertItemAt(item: CardElement, index: number, forceInsert: boolean) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                } else {\n                    this._items.splice(index, 0, item);\n                }\n\n                item.setParent(this);\n            } else {\n                throw new Error(Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"items\";\n    }\n\n    protected applyBackground() {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n\n        super.applyBackground();\n    }\n\n    protected applyRTL(element: HTMLElement) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedItems = [];\n\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        const hostConfig = this.hostConfig;\n\n        const element = document.createElement(\"div\");\n\n        this.applyRTL(element);\n\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n\n        if (this._items.length > 0) {\n            for (const item of this._items) {\n                const renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedItem);\n\n                    this._renderedItems.push(item);\n                }\n            }\n        } else {\n            if (this.isDesignMode()) {\n                const placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n\n                element.appendChild(placeholderElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            const boundary = this.renderedElement.offsetTop + maxHeight + 1;\n\n            const handleElement = (cardElement: CardElement) => {\n                const elt = cardElement.renderedElement;\n\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            const sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            const containerMaxHeight = boundary - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n\n            for (const item of this._items) {\n                handleElement(item);\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const item of this._items) {\n            item[\"resetOverflow\"]();\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n\n        return result || super.getHasBackground(ignoreBackgroundImages);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.clear();\n        this.setShouldFallback(false);\n\n        let jsonItems = source[this.getItemsCollectionPropertyName()];\n\n        if (Array.isArray(jsonItems)) {\n            for (const item of jsonItems) {\n                const element = context.parseElement(\n                    this,\n                    item,\n                    this.forbiddenChildElements(),\n                    !this.isDesignMode()\n                );\n\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        const collectionPropertyName = this.getItemsCollectionPropertyName();\n\n        context.serializeArray(target, collectionPropertyName, this._items);\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        if (\n            GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)\n        ) {\n            return new PaddingDefinition();\n        }\n\n        return super.getEffectivePadding();\n    }\n\n    getEffectiveVerticalContentAlignment(): Enums.VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        const parentContainer = this.getParentContainer();\n\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (const item of this._renderedItems) {\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (let i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getJsonTypeName(): string {\n        return \"Container\";\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (const item of this._items) {\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n\n        return false;\n    }\n\n    isLastElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (let i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n\n        return false;\n    }\n\n    isRtl(): boolean {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        } else {\n            const parentContainer = this.getParentContainer();\n\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    }\n\n    isBleedingAtTop(): boolean {\n        const firstRenderedItem = this.getFirstVisibleRenderedItem();\n\n        return (\n            this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false)\n        );\n    }\n\n    isBleedingAtBottom(): boolean {\n        const lastRenderedItem = this.getLastVisibleRenderedItem();\n\n        return (\n            this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                  lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false)\n        );\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return this._items.indexOf(cardElement);\n    }\n\n    addItem(item: CardElement) {\n        this.insertItemAt(item, -1, false);\n    }\n\n    insertItemBefore(item: CardElement, insertBefore: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    }\n\n    insertItemAfter(item: CardElement, insertAfter: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    }\n\n    removeItem(item: CardElement): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedItems = [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result = super.getResourceInformation();\n\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url!,\n                mimeType: \"image\"\n            });\n        }\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = super.getActionById(id);\n\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n\n            if (!result) {\n                for (const item of this._items) {\n                    result = item.getActionById(id);\n\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n}\n\nexport type ColumnWidth = SizeAndUnit | \"auto\" | \"stretch\";\n\nexport class Column extends Container {\n    //#region Schema\n\n    static readonly widthProperty = new CustomProperty<ColumnWidth>(\n        Versions.v1_0,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: ColumnWidth = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n            } else if (value === \"auto\" || value === \"stretch\") {\n                result = value;\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n\n                    if (\n                        result.unit === Enums.SizeUnit.Pixel &&\n                        prop.targetVersion.compareTo(context.targetVersion) > 0\n                    ) {\n                        invalidWidth = true;\n                    }\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n\n                result = \"auto\";\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: ColumnWidth,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"width\", value.physicalSize);\n                }\n            } else {\n                context.serializeValue(target, \"width\", value);\n            }\n        },\n        \"stretch\"\n    );\n\n    @property(Column.widthProperty)\n    width: ColumnWidth = \"stretch\";\n\n    //#endregion\n\n    private _computedWeight: number = 0;\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        const minDesignTimeColumnHeight = 20;\n\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        } else {\n            renderedElement.style.minWidth = \"0\";\n\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        } else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        } else if (this.width instanceof SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            } else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                    (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                    \"%\";\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Vertical;\n    }\n\n    constructor(width: ColumnWidth = \"stretch\") {\n        super();\n\n        this.width = width;\n    }\n\n    getJsonTypeName(): string {\n        return \"Column\";\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.parent instanceof ColumnSet) {\n            return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n        } else {\n            return false;\n        }\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class ColumnSet extends ContainerBase {\n    private _columns: Column[] = [];\n    private _renderedColumns: Column[];\n\n    private createColumnInstance(source: any, context: SerializationContext): Column | undefined {\n        return context.parseCardObject<Column>(\n            this,\n            source,\n            [],\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"Column\" ? new Column() : undefined;\n            },\n            (typeName: string, _errorType: Enums.TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    Enums.ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedColumns = [];\n\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            const hostConfig = this.hostConfig;\n\n            const element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n\n            if (GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            let totalWeight: number = 0;\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight\n                ) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0\n                ) {\n                    const computedWeight = (100 / totalWeight) * column.width.physicalSize;\n\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n\n                const renderedColumn = column.render();\n\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedColumn);\n\n                    this._renderedColumns.push(column);\n                }\n            }\n\n            return this._renderedColumns.length > 0 ? element : undefined;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        for (const column of this._columns) {\n            column[\"handleOverflow\"](maxHeight);\n        }\n\n        return true;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const column of this._columns) {\n            column[\"resetOverflow\"]();\n        }\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._columns = [];\n        this._renderedColumns = [];\n\n        const jsonColumns = source[\"columns\"];\n\n        if (Array.isArray(jsonColumns)) {\n            for (const item of jsonColumns) {\n                const column = this.createColumnInstance(item, context);\n\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"columns\", this._columns);\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        for (const column of this._columns) {\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtTop(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    getItemCount(): number {\n        return this._columns.length;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    getColumnAt(index: number): Column {\n        return this._columns[index];\n    }\n\n    getItemAt(index: number): CardElement {\n        return this.getColumnAt(index);\n    }\n\n    getJsonTypeName(): string {\n        return \"ColumnSet\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        let weightedColumns: number = 0;\n        let stretchedColumns: number = 0;\n\n        for (const column of this._columns) {\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            } else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.Hint,\n                Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet()\n            );\n        }\n    }\n\n    addColumn(column: Column) {\n        if (!column.parent) {\n            this._columns.push(column);\n\n            column.setParent(this);\n        } else {\n            throw new Error(Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Column) {\n            const itemIndex = this._columns.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    }\n\n    isLeftMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === 0;\n    }\n\n    isRightMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === this._columns.length - 1;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const column of this._columns) {\n            result = column.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n}\n\nfunction raiseImageLoadedEvent(image: Image) {\n    const card = image.getRootElement() as AdaptiveCard;\n    const onImageLoadedHandler =\n        card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\n\nfunction raiseAnchorClickedEvent(\n    element: CardElement,\n    anchor: HTMLAnchorElement,\n    ev?: MouseEvent\n): boolean {\n    const card = element.getRootElement() as AdaptiveCard;\n    const onAnchorClickedHandler =\n        card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\n\nfunction raiseExecuteActionEvent(action: Action) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onExecuteActionHandler =\n        card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\n\nfunction raiseInlineCardExpandedEvent(action: ShowCardAction, isExpanded: boolean) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onInlineCardExpandedHandler =\n        card && card.onInlineCardExpanded\n            ? card.onInlineCardExpanded\n            : AdaptiveCard.onInlineCardExpanded;\n\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\n\nfunction raiseInputValueChangedEvent(input: Input) {\n    const card = input.getRootElement() as AdaptiveCard;\n    const onInputValueChangedHandler =\n        card && card.onInputValueChanged\n            ? card.onInputValueChanged\n            : AdaptiveCard.onInputValueChanged;\n\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\n\nfunction raiseElementVisibilityChangedEvent(\n    element: CardElement,\n    shouldUpdateLayout: boolean = true\n) {\n    const rootElement = element.getRootElement();\n\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n\n    const card = rootElement as AdaptiveCard;\n    const onElementVisibilityChangedHandler =\n        card && card.onElementVisibilityChanged\n            ? card.onElementVisibilityChanged\n            : AdaptiveCard.onElementVisibilityChanged;\n\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\n\nfunction updateInputAdornersVisibility(input: HTMLInputElement, hide: boolean) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    } else {\n         // shows the time/date picker icon\n         input.readOnly = false;\n         // shows the cross button icon\n         input.required = false;\n    }\n    \n}\n\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(\n    action: OverflowAction,\n    target?: HTMLElement\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onDisplayOverflowActionMenuHandler =\n        card && card.onDisplayOverflowActionMenu\n            ? card.onDisplayOverflowActionMenu\n            : AdaptiveCard.onDisplayOverflowActionMenu;\n\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(\n    action: OverflowAction,\n    isAtRootLevelActions: boolean\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onRenderOverflowActionsHandler =\n        card && card.onRenderOverflowActions\n            ? card.onRenderOverflowActions\n            : AdaptiveCard.onRenderOverflowActions;\n\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\n\nexport abstract class ContainerWithActions extends Container {\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.parseActions(source, context);\n    }\n\n    protected parseActions(source: any, context: SerializationContext) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = super.internalRender();\n\n        if (element) {\n            const renderedActions = this._actionCollection.render(\n                this.hostConfig.actions.actionsOrientation\n            );\n\n            if (renderedActions) {\n                Utils.appendChild(\n                    element,\n                    renderSeparation(\n                        this.hostConfig,\n                        {\n                            spacing: this.hostConfig.getEffectiveSpacing(\n                                this.hostConfig.actions.spacing\n                            )\n                        },\n                        Enums.Orientation.Horizontal\n                    )\n                );\n                Utils.appendChild(element, renderedActions);\n            }\n\n            if (this.renderIfEmpty) {\n                return element;\n            } else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        if (this.renderedActionCount === 0) {\n            return false;\n        } else if (this.renderedActionCount === 1) {\n            return (\n                this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction\n            );\n        } else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    }\n\n    protected get renderedActionCount(): number {\n        return this._actionCollection.renderedActionCount;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return false;\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    }\n\n    isLastElement(element: CardElement): boolean {\n        return super.isLastElement(element) && this._actionCollection.getActionCount() === 0;\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    clear() {\n        super.clear();\n\n        this._actionCollection.clear();\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result = super.getAllInputs(processActions);\n\n        if (processActions) {\n            result.push(...this._actionCollection.getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this._actionCollection.getResourceInformation());\n\n        return result;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getForbiddenActionNames(): string[] {\n        return [];\n    }\n    \n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport interface IMarkdownProcessingResult {\n    didProcess: boolean;\n    outputHtml?: any;\n}\n\nexport class RefreshActionProperty extends PropertyDefinition {\n    parse(\n        sender: RefreshDefinition,\n        source: PropertyBag,\n        context: SerializationContext\n    ): ExecuteAction | undefined {\n        const action = context.parseAction(sender.parent, source[this.name], [], false);\n\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.ActionTypeNotAllowed,\n                Strings.errors.actionTypeNotAllowed(action.getJsonTypeName())\n            );\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.PropertyCantBeNull,\n            Strings.errors.propertyMustBeSet(\"action\")\n        );\n\n        return undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: ExecuteAction | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport class RefreshDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly actionProperty = new RefreshActionProperty(Versions.v1_4, \"action\");\n    static readonly userIdsProperty = new StringArrayProperty(Versions.v1_4, \"userIds\");\n\n    @property(RefreshDefinition.actionProperty)\n    get action(): ExecuteAction {\n        return this.getValue(RefreshDefinition.actionProperty);\n    }\n\n    set action(value: ExecuteAction) {\n        this.setValue(RefreshDefinition.actionProperty, value);\n\n        if (value) {\n            value.setParent(this.parent);\n        }\n    }\n\n    @property(RefreshDefinition.userIdsProperty)\n    userIds?: string[];\n\n    protected getSchemaKey(): string {\n        return \"RefreshDefinition\";\n    }\n\n    //#endregion\n\n    parent: CardElement;\n}\n\nexport class AuthCardButton extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(Versions.v1_4, \"type\");\n    static readonly titleProperty = new StringProperty(Versions.v1_4, \"title\");\n    static readonly imageProperty = new StringProperty(Versions.v1_4, \"image\");\n    static readonly valueProperty = new StringProperty(Versions.v1_4, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"AuthCardButton\";\n    }\n\n    //#endregion\n\n    @property(AuthCardButton.typeProperty)\n    type: string;\n\n    @property(AuthCardButton.titleProperty)\n    title?: string;\n\n    @property(AuthCardButton.imageProperty)\n    image?: string;\n\n    @property(AuthCardButton.valueProperty)\n    value: string;\n}\n\nexport class TokenExchangeResource extends SerializableObject {\n    //#region Schema\n\n    static readonly idProperty = new StringProperty(Versions.v1_4, \"id\");\n    static readonly uriProperty = new StringProperty(Versions.v1_4, \"uri\");\n    static readonly providerIdProperty = new StringProperty(Versions.v1_4, \"providerId\");\n\n    protected getSchemaKey(): string {\n        return \"TokenExchangeResource\";\n    }\n\n    //#endregion\n\n    @property(TokenExchangeResource.idProperty)\n    id?: string;\n\n    @property(TokenExchangeResource.uriProperty)\n    uri?: string;\n\n    @property(TokenExchangeResource.providerIdProperty)\n    providerId?: string;\n}\n\nexport class Authentication extends SerializableObject {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_4, \"text\");\n    static readonly connectionNameProperty = new StringProperty(Versions.v1_4, \"connectionName\");\n    static readonly buttonsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_4,\n        \"buttons\",\n        AuthCardButton\n    );\n    static readonly tokenExchangeResourceProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"tokenExchangeResource\",\n        TokenExchangeResource,\n        true\n    );\n\n    protected getSchemaKey(): string {\n        return \"Authentication\";\n    }\n\n    //#endregion\n\n    @property(Authentication.textProperty)\n    text?: string;\n\n    @property(Authentication.connectionNameProperty)\n    connectionName?: string;\n\n    @property(Authentication.buttonsProperty)\n    buttons: AuthCardButton[];\n\n    @property(Authentication.tokenExchangeResourceProperty)\n    tokenExchangeResource?: TokenExchangeResource;\n}\n\n// @dynamic\nexport class AdaptiveCard extends ContainerWithActions {\n    static readonly schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n\n    //#region Schema\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    protected static readonly $schemaProperty = new CustomProperty<string>(\n        Versions.v1_0,\n        \"$schema\",\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            return AdaptiveCard.schemaUrl;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Versions | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n        }\n    );\n\n    static readonly versionProperty = new CustomProperty<Version | undefined>(\n        Versions.v1_0,\n        \"version\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let version = Version.parse(source[prop.name], context);\n\n            if (version === undefined) {\n                version = Versions.latest;\n\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidCardVersion(version.toString())\n                );\n            }\n\n            return version;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Version | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value !== undefined) {\n                context.serializeValue(target, prop.name, value.toString());\n            }\n        },\n        Versions.v1_0\n    );\n\n    static readonly fallbackTextProperty = new StringProperty(Versions.v1_0, \"fallbackText\");\n    static readonly speakProperty = new StringProperty(Versions.v1_0, \"speak\");\n    static readonly refreshProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"refresh\",\n        RefreshDefinition,\n        true\n    );\n    static readonly authenticationProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"authentication\",\n        Authentication,\n        true\n    );\n\n    @property(AdaptiveCard.versionProperty)\n    version: Version;\n\n    @property(AdaptiveCard.fallbackTextProperty)\n    fallbackText?: string;\n\n    @property(AdaptiveCard.speakProperty)\n    speak?: string;\n\n    @property(AdaptiveCard.refreshProperty)\n    get refresh(): RefreshDefinition | undefined {\n        return this.getValue(AdaptiveCard.refreshProperty);\n    }\n\n    set refresh(value: RefreshDefinition | undefined) {\n        this.setValue(AdaptiveCard.refreshProperty, value);\n\n        if (value) {\n            value.parent = this;\n        }\n    }\n\n    @property(AdaptiveCard.authenticationProperty)\n    authentication?: Authentication;\n\n    //#endregion\n\n    private static _haveWarnedAboutNoMarkdownProcessing = false;\n\n    static onAnchorClicked?: (\n        element: CardElement,\n        anchor: HTMLAnchorElement,\n        ev?: MouseEvent\n    ) => boolean;\n    static onExecuteAction?: (action: Action) => void;\n    static onElementVisibilityChanged?: (element: CardElement) => void;\n    static onImageLoaded?: (image: Image) => void;\n    static onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    static onInputValueChanged?: (input: Input) => void;\n    static onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    static onProcessMarkdown?: (text: string, result: IMarkdownProcessingResult) => void;\n    static onDisplayOverflowActionMenu?: (\n        actions: readonly Action[],\n        target?: HTMLElement\n    ) => boolean;\n    static onRenderOverflowActions?: (\n        actions: readonly Action[],\n        isRootLevelActions: boolean\n    ) => boolean;\n\n    static get processMarkdown(): (text: string) => string {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    static set processMarkdown(_value: (text: string) => string) {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    static applyMarkdown(text: string): IMarkdownProcessingResult {\n        const result: IMarkdownProcessingResult = {\n            didProcess: false\n        };\n\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        } else if ((<any>window).markdownit) {\n            // Check for markdownit\n            const markdownIt: any = (<any>window).markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        } else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n\n        return result;\n    }\n\n    private _fallbackCard?: AdaptiveCard;\n\n    private isVersionSupported(): boolean {\n        if (this.bypassVersionCheck) {\n            return true;\n        } else {\n            const unsupportedVersion: boolean =\n                !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n\n            return !unsupportedVersion;\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext(this.version);\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"body\";\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        this._fallbackCard = undefined;\n\n        const fallbackElement = context.parseElement(\n            undefined,\n            source[\"fallback\"],\n            this.forbiddenChildElements(),\n            !this.isDesignMode()\n        );\n\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n\n        super.internalParse(source, context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n\n        super.internalToJSON(target, context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const renderedElement = super.internalRender();\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n\n        return renderedElement;\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return true;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return true;\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return false;\n    }\n\n    protected get allowCustomStyle() {\n        return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n    }\n\n    protected get hasBackground(): boolean {\n        return true;\n    }\n\n    onAnchorClicked?: (element: CardElement, anchor: HTMLAnchorElement, ev?: MouseEvent) => boolean;\n    onExecuteAction?: (action: Action) => void;\n    onElementVisibilityChanged?: (element: CardElement) => void;\n    onImageLoaded?: (image: Image) => void;\n    onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    onInputValueChanged?: (input: Input) => void;\n    onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    onDisplayOverflowActionMenu?: (actions: readonly Action[], target?: HTMLElement) => boolean;\n    onRenderOverflowActions?: (actions: readonly Action[], isRootLevelActions: boolean) => boolean;\n\n    designMode: boolean = false;\n\n    getJsonTypeName(): string {\n        return \"AdaptiveCard\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.MissingCardType,\n                Strings.errors.invalidCardType()\n            );\n        }\n\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"version\")\n            );\n        } else if (!this.isVersionSupported()) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.UnsupportedCardVersion,\n                Strings.errors.unsupportedCardVersion(\n                    this.version.toString(),\n                    this.maxVersion.toString()\n                )\n            );\n        }\n    }\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        let renderedCard: HTMLElement | undefined;\n\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n\n            renderedCard = this._fallbackCard.render();\n        } else {\n            renderedCard = super.render();\n\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n\n                renderedCard.onmouseenter = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(true /* hover */);\n                };\n\n                renderedCard.onmouseleave = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(false /* hover */);\n                };\n\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n\n            this.updateLayout();\n        }\n\n        return renderedCard;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            const padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement!.offsetHeight - padding);\n        }\n    }\n\n    shouldFallback(): boolean {\n        return super.shouldFallback() || !this.isVersionSupported();\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nclass InlineAdaptiveCard extends AdaptiveCard {\n    //#region Schema\n\n    protected getSchemaKey(): string {\n        return \"InlineAdaptiveCard\";\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    }\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return true;\n    }\n\n    protected get defaultStyle(): string {\n        if (this.suppressStyle) {\n            return Enums.ContainerStyle.Default;\n        } else {\n            return this.hostConfig.actions.showCard.style\n                ? this.hostConfig.actions.showCard.style\n                : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    suppressStyle: boolean = false;\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        const renderedCard = super.render(target);\n\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n\n        return renderedCard;\n    }\n}\n\nexport class SerializationContext extends BaseSerializationContext {\n    private _elementRegistry?: CardObjectRegistry<CardElement>;\n    private _actionRegistry?: CardObjectRegistry<Action>;\n\n    private _forbiddenTypes: Set<string> = new Set<string>();\n    private internalParseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: Set<string>,\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string | undefined) => T | undefined,\n        logParseEvent: (typeName: string | undefined, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        let result: T | undefined = undefined;\n\n        if (source && typeof source === \"object\") {\n            const oldForbiddenTypes = new Set<string>();\n            this._forbiddenTypes.forEach((type) => {\n                oldForbiddenTypes.add(type);\n            });\n            forbiddenTypes.forEach((type) => {\n                this._forbiddenTypes.add(type);\n            });\n\n            const typeName = Utils.parseString(source[\"type\"]);\n\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            } else {\n                let tryToFallback = false;\n\n                result = createInstanceCallback(typeName);\n\n                if (!result) {\n                    tryToFallback = GlobalSettings.enableFallback && allowFallback;\n\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                } else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n\n                    tryToFallback =\n                        GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n\n                if (tryToFallback) {\n                    const fallback = source[\"fallback\"];\n\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    } else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject<T>(\n                            parent,\n                            fallback,\n                            forbiddenTypes,\n                            true,\n                            createInstanceCallback,\n                            logParseEvent\n                        );\n                    }\n                }\n            }\n\n            this._forbiddenTypes = oldForbiddenTypes;\n        }\n\n        return result;\n    }\n\n    protected cardObjectParsed(o: SerializableObject, source: any) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        } else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    }\n\n    onParseAction?: (action: Action, source: any, context: SerializationContext) => void;\n    onParseElement?: (element: CardElement, source: any, context: SerializationContext) => void;\n\n    shouldSerialize(o: SerializableObject): boolean {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else {\n            return true;\n        }\n    }\n\n    parseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypeNames: string[],\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string) => T | undefined,\n        logParseEvent: (typeName: string, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        const forbiddenTypes = new Set<string>(forbiddenTypeNames);\n        const result = this.internalParseCardObject(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            createInstanceCallback,\n            logParseEvent\n        );\n\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n\n        return result;\n    }\n\n    parseElement(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: string[],\n        allowFallback: boolean\n    ): CardElement | undefined {\n        return this.parseCardObject<CardElement>(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.elementRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownElementType,\n                        Strings.errors.unknownElementType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ElementTypeNotAllowed,\n                        Strings.errors.elementTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    parseAction(\n        parent: CardElement,\n        source: any,\n        forbiddenActionTypes: string[],\n        allowFallback: boolean\n    ): Action | undefined {\n        return this.parseCardObject<Action>(\n            parent,\n            source,\n            forbiddenActionTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.actionRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownActionType,\n                        Strings.errors.unknownActionType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ActionTypeNotAllowed,\n                        Strings.errors.actionTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    get elementRegistry(): CardObjectRegistry<CardElement> {\n        return this._elementRegistry ?? GlobalRegistry.elements;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setElementRegistry(value: CardObjectRegistry<CardElement> | undefined) {\n        this._elementRegistry = value;\n    }\n\n    get actionRegistry(): CardObjectRegistry<Action> {\n        return this._actionRegistry ?? GlobalRegistry.actions;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setActionRegistry(value: CardObjectRegistry<Action> | undefined) {\n        this._actionRegistry = value;\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Container\", Container);\nGlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nGlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"TextRun\", TextRun, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Image\", Image);\nGlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nGlobalRegistry.defaultElements.register(\"Media\", Media, Versions.v1_1);\nGlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nGlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nGlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nGlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nGlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nGlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nGlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nGlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\n\nGlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nGlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nGlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nGlobalRegistry.defaultActions.register(\n    ToggleVisibilityAction.JsonTypeName,\n    ToggleVisibilityAction,\n    Versions.v1_2\n);\nGlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, Versions.v1_4);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\nimport { Dictionary, GlobalSettings } from \"./shared\";\nimport { HostConfig } from \"./host-config\";\nimport { HostCapabilities } from \"./host-capabilities\";\nimport {\n    Versions,\n    property,\n    SerializableObject,\n    StringProperty,\n    SerializableObjectProperty,\n    IValidationEvent,\n    PropertyDefinition\n} from \"./serialization\";\n\nexport class ValidationResults {\n    readonly allIds: Dictionary<number> = {};\n    readonly validationEvents: IValidationEvent[] = [];\n\n    addFailure(cardObject: CardObject, event: Enums.ValidationEvent, message: string) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    }\n}\n\nexport type CardObjectType = { new (): CardObject };\n\nexport abstract class CardObject extends SerializableObject {\n    //#region Schema\n\n    static readonly typeNameProperty = new StringProperty(\n        Versions.v1_0,\n        \"type\",\n        undefined,\n        undefined,\n        undefined,\n        (sender: object) => {\n            return (<CardObject>sender).getJsonTypeName();\n        }\n    );\n    static readonly idProperty = new StringProperty(Versions.v1_0, \"id\");\n    static readonly requiresProperty = new SerializableObjectProperty(\n        Versions.v1_2,\n        \"requires\",\n        HostCapabilities,\n        false,\n        new HostCapabilities()\n    );\n\n    protected getSchemaKey(): string {\n        return this.getJsonTypeName();\n    }\n\n    @property(CardObject.idProperty)\n    id?: string;\n\n    @property(CardObject.requiresProperty)\n    get requires(): HostCapabilities {\n        return this.getValue(CardObject.requiresProperty);\n    }\n\n    //#endregion\n\n    private _shouldFallback: boolean = false;\n\n    protected _parent?: CardObject;\n    protected _renderedElement?: HTMLElement;\n\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    protected contains(node: Node): boolean {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n\n        return false;\n    }\n\n    onPreProcessPropertyValue?: (\n        sender: CardObject,\n        property: PropertyDefinition,\n        value: any\n    ) => any;\n\n    abstract getJsonTypeName(): string;\n\n    abstract get hostConfig(): HostConfig;\n\n    preProcessPropertyValue(prop: PropertyDefinition, propertyValue?: any): any {\n        const value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n\n        if (GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            let currentObject: CardObject | undefined = this;\n\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n\n        return value;\n    }\n\n    setParent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    setShouldFallback(value: boolean) {\n        this._shouldFallback = value;\n    }\n\n    shouldFallback(): boolean {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    }\n\n    getRootObject(): CardObject {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let currentObject: CardObject = this;\n\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n\n        return currentObject;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.DuplicateId,\n                        Strings.errors.duplicateId(this.id)\n                    );\n                }\n\n                context.allIds[this.id] += 1;\n            } else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    }\n\n    validateProperties(): ValidationResults {\n        const result = new ValidationResults();\n\n        this.internalValidateProperties(result);\n\n        return result;\n    }\n\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    }\n\n    releaseDOMResources() {\n        // Do nothing in base implementation\n    }\n\n    get parent(): CardObject | undefined {\n        return this._parent;\n    }\n\n    get renderedElement(): HTMLElement | undefined {\n        return this._renderedElement;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    AdaptiveCard,\n    ActionType,\n    CardElement,\n    Container,\n    SerializationContext,\n    ShowCardAction,\n    ToggleVisibilityAction\n} from \"./card-elements\";\nimport * as Enums from \"./enums\";\nimport {\n    BoolProperty,\n    NumProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    SerializableObjectSchema,\n    Versions,\n    PixelSizeProperty\n} from \"./serialization\";\nimport { GlobalRegistry } from \"./registry\";\nimport { TypeErrorType, ValidationEvent } from \"./enums\";\nimport { Strings } from \"./strings\";\nimport {\n    Swiper,\n    A11y,\n    Autoplay,\n    History,\n    Keyboard,\n    Navigation,\n    Pagination,\n    Scrollbar,\n    SwiperOptions\n} from \"swiper\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\n\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\n\nexport class CarouselPage extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        const carouselSlide: HTMLElement = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        const renderedElement = super.internalRender();\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [ShowCardAction, ToggleVisibilityAction];\n    }\n\n    getForbiddenChildElements(): string[] {\n        return this.forbiddenChildElements();\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.setShouldFallback(false);\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"CarouselPage\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nexport class Carousel extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n\n    static readonly timerProperty = new NumProperty(Versions.v1_6, \"timer\", undefined);\n    @property(Carousel.timerProperty)\n    get timer(): number | undefined {\n        let timer = this.getValue(Carousel.timerProperty);\n\n        if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            timer = this.hostConfig.carousel.minAutoplayDelay;\n        }\n\n        return timer;\n    }\n\n    set timer(value: number | undefined) {\n        if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n        } else {\n            this.setValue(Carousel.timerProperty, value);\n        }\n    }\n\n    static readonly initialPageProperty = new NumProperty(Versions.v1_6, \"initialPage\", 0);\n    @property(Carousel.initialPageProperty)\n    get initialPageIndex(): number {\n        return this.getValue(Carousel.initialPageProperty); \n    }\n\n    set initialPageIndex(value: number) { \n        if (this.isValidParsedPageIndex(value)) { \n            this.setValue(Carousel.initialPageProperty, value);\n        } else { \n            console.warn(Strings.errors.invalidInitialPageIndex(value));\n            this.setValue(Carousel.initialPageProperty, 0); \n        }\n    }\n\n    static readonly loopProperty = new BoolProperty(Versions.v1_6, \"loop\", true);\n    @property(Carousel.loopProperty)\n    carouselLoop: boolean = true;\n    \n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_6,\n        \"orientation\",\n        Enums.Orientation,\n        Enums.Orientation.Horizontal\n    );\n    @property(Carousel.orientationProperty)\n    carouselOrientation: Enums.Orientation = Enums.Orientation.Horizontal; \n\n    static readonly carouselHeightProperty = new PixelSizeProperty(\n        Versions.v1_6,\n        \"heightInPixels\"\n    );\n    @property(Carousel.carouselHeightProperty)\n    carouselHeight?: number;\n    \n    private isValidParsedPageIndex(index: number) : boolean {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    }\n\n    private isValidRenderedPageIndex(index: number) : boolean {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    }\n\n    private isValidPageIndex(index: number, collectionSize: number) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    }\n\n    //#endregion\n\n    get previousEventType(): Enums.CarouselInteractionEvent {\n        return this._previousEventType;\n    }\n\n    set previousEventType(eventType: Enums.CarouselInteractionEvent) {\n        this._previousEventType = eventType;\n    }\n\n    private _pages: CarouselPage[] = [];\n    private _renderedPages: CarouselPage[];\n    private _carouselPageContainer: HTMLElement;\n    private _containerForAdorners: HTMLElement;\n    private _currentIndex: number = 0;\n    private _previousEventType: Enums.CarouselInteractionEvent = Enums.CarouselInteractionEvent.Pagination;\n    private _observer: ResizeObserver | null;\n    private _carousel: Swiper | null;\n\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) { \n            this._containerForAdorners.style.height = \"100%\";\n        }\n\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Carousel\";\n    }\n\n    getItemCount(): number {\n        return this._pages.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._pages[index];\n    }\n\n    addPage(page: CarouselPage) {\n        this._pages.push(page);\n        page.setParent(this);\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof CarouselPage) {\n            const itemIndex = this._pages.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    get currentPageId(): string | undefined {\n        if (this._carousel?.slides?.length) {\n            const activeSlide = this._carousel.slides[this._carousel.activeIndex] as HTMLElement;\n            return activeSlide.id;\n        }\n        return undefined;\n    }\n\n    get currentPageIndex(): number | undefined {\n        return this._carousel?.realIndex;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._pages = [];\n\n        const jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (const item of jsonPages) {\n                const page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    }\n\n    private validateParsing(context: SerializationContext) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidInitialPageIndex(this.initialPageIndex)\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"pages\", this._pages);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedPages = [];\n\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n\n        this.validateOrientationProperties();\n\n        const cardLevelContainer: HTMLElement = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n\n        const carouselContainer: HTMLElement = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n\n        const containerForAdorners: HTMLElement = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n\n        cardLevelContainer.appendChild(containerForAdorners);\n        \n        const navigationContainer: HTMLElement = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n        containerForAdorners.appendChild(navigationContainer);\n\n        const carouselWrapper: HTMLElement = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\n            \"swiper-wrapper\",\n            \"ac-carousel-card-container\"\n        );\n        carouselWrapper.style.display = \"flex\";\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n\n        const prevElementDiv: HTMLElement = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-prev\"\n        );\n\n        const nextElementDiv: HTMLElement = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-next\"\n        );\n\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        } else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n\n        const pagination: HTMLElement = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\n            \"swiper-pagination\",\n            \"ac-carousel-pagination\"\n        );\n\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n\n        const requestedNumberOfPages: number = Math.min(\n            this._pages.length,\n            this.hostConfig.carousel.maxCarouselPages\n        );\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(Strings.errors.tooManyCarouselPages);\n        }\n\n        if (this._pages.length > 0) {\n            for (let i = 0; i < requestedNumberOfPages; i++) {\n                const page = this._pages[i];\n                const renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem?.classList.add(\"ac-carousel-page\");\n                renderedItem?.children[0]?.classList.add(\"ac-carousel-page-container\");\n\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n\n        carouselContainer.appendChild(carouselWrapper);\n\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        containerForAdorners.appendChild(carouselContainer);\n\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            } else {\n                console.warn(Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0\n            }\n        }\n\n        this.initializeCarouselControl(\n            carouselContainer,\n            nextElementDiv,\n            prevElementDiv,\n            pagination,\n            this.rtl\n        );\n\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    }\n\n    applyRTL(pagination: HTMLElement) {\n        super.applyRTL(this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\n                \"ac-carousel-pagination-rtl\"\n            ));\n        }\n    }\n\n    validateOrientationProperties() {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    }\n\n    updateCssForHorizontalCarousel(\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-left\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-right\"\n        ));\n    }\n\n    updateCssForVerticalCarousel(\n        navigationContainer: HTMLElement,\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-container-vertical\"\n        ));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-navigation-vertical\"\n        ))\n\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-up\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-down\"\n        ));\n    }\n\n    private initializeCarouselControl(\n        carouselContainer: HTMLElement,\n        nextElement: HTMLElement,\n        prevElement: HTMLElement,\n        paginationElement: HTMLElement,\n        rtl: boolean | undefined\n    ): void {\n\n        const nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        const prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n\n        const prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        const nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n\n        const swiperOptions: SwiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [Navigation, Pagination, Scrollbar, A11y, History, Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n\n        if (this.timer && !this.isDesignMode()) {\n            swiperOptions.modules?.push(Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n\n        const carousel: Swiper = new Swiper(carouselContainer, swiperOptions);\n\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            carousel.autoplay?.stop();\n        });\n\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            carousel.autoplay?.start();\n        });\n\n        carousel.on('navigationNext',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n\n        carousel.on('navigationPrev',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n\n        carousel.on('slideChangeTransitionEnd',  (swiper: Swiper) => {\n            this.currentIndex = swiper.realIndex;\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination); \n        });\n\n        carousel.on('autoplay',  () => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n\n        carousel.on('paginationRender', (swiper, paginationEl) => {\n            swiper.pagination.bullets.forEach((bullet, index) => {\n                bullet.addEventListener(\"keypress\", function(event : KeyboardEvent) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n\n        carousel.on('destroy', () => {\n            this.destroyResizeObserver();\n        });\n\n        prevElement.title = prevElement.ariaLabel ?? Strings.defaults.carouselNavigationPreviousTooltip();\n\n        nextElement.title = nextElement.ariaLabel ?? Strings.defaults.carouselNavigationNextTooltip();\n\n        this._carousel = carousel;\n\n        this.createResizeObserver();\n    }\n\n    private createCarouselPageInstance(\n        source: any,\n        context: SerializationContext\n    ): CarouselPage | undefined {\n        return context.parseCardObject<CarouselPage>(\n            this,\n            source,\n            this.forbiddenChildElements(),\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    slideTo(index: number) {\n        this._carousel?.slideTo(index);\n    }\n\n    get carouselPageContainer() {\n        return this._carouselPageContainer;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(currentIndex: number) {\n        this._currentIndex = currentIndex;\n    }\n\n    private createCarouselEvent (type : Enums.CarouselInteractionEvent): CarouselEvent\n    {\n        let currentPageId : string | undefined;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);   \n    }\n\n    private raiseCarouselEvent(eventType : Enums.CarouselInteractionEvent) {\n        const card = this.parent ? (this.parent.getRootElement() as AdaptiveCard) : undefined;\n        const onCarouselEventHandler = \n            card && card.onCarouselEvent\n                ? card.onCarouselEvent\n                : AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n        // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    }\n\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    private createResizeObserver() : void {\n\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n\n        this._observer = new ResizeObserver((entries) => {\n            const width = this._carousel?.width;\n            const height = this._carousel?.height;\n            let newWidth = width;\n            let newHeight = height;\n            entries.forEach(({ contentBoxSize, contentRect, target }) => {\n            if (target && target !== this._carousel?.el) {\n                return;\n            }\n\n            newWidth = contentRect\n                ? contentRect.width\n                : (contentBoxSize[0] || contentBoxSize).inlineSize;\n\n            newHeight = contentRect\n                ? contentRect.height\n                : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n                if (this.checkIfCarouselInValidStateForResizeEvent()) {\n                    this._carousel?.emit('beforeResize');\n                    this._carousel?.emit('resize');\n                }\n            }\n\n        });\n\n        this._observer.observe(this._carousel?.el!);\n    }\n\n    private destroyResizeObserver(): void {\n        if (this._observer && this._observer.unobserve && this._carousel?.el) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n\n    private checkIfCarouselInValidStateForResizeEvent()\n    {\n        return this._carousel && !this._carousel.destroyed;\n    }\n}\n\nexport class CarouselEvent {\n    constructor(public type : Enums.CarouselInteractionEvent,\n        public carouselId : string | undefined,\n        public activeCarouselPageId : string | undefined,\n        public activeCarouselPageIndex : number | undefined) {}\n}\n\nGlobalRegistry.defaultElements.register(\n    \"Carousel\",\n    Carousel,\n    Versions.v1_6\n);\n\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { ActivityResponse, IActivityRequest } from \"./activity-request\";\n\nexport abstract class ChannelAdapter {\n    abstract sendRequestAsync(request: IActivityRequest): Promise<ActivityResponse>;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport class Collection<TItem> {\n    private _items: Array<TItem> = [];\n\n    onItemAdded: (item: TItem) => void;\n    onItemRemoved: (item: TItem) => void;\n\n    get(index: number): TItem {\n        return this._items[index];\n    }\n\n    add(item: TItem) {\n        this._items.push(item);\n\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    }\n\n    remove(item: TItem) {\n        const i = this._items.indexOf(item);\n\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    }\n\n    indexOf(item: TItem): number {\n        return this._items.indexOf(item);\n    }\n\n    get length(): number {\n        return this._items.length;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Constants {\n    static readonly keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    } as const;\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./menu-item\";\nexport * from \"./popup-menu\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\nimport { Constants } from \"./constants\";\n\nexport class MenuItem {\n    private _hostConfig?: HostConfig;\n    private _element: HTMLElement;\n    private _value: string;\n    private _isEnabled: boolean = true;\n\n    private click() {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    }\n\n    private updateCssClasses() {\n        if (this._element) {\n            const effectiveHostConfig = this._hostConfig ? this._hostConfig : defaultHostConfig;\n\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(\n                effectiveHostConfig.makeCssClassName(\n                    this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"\n                )\n            );\n\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    }\n\n    readonly key: string;\n\n    onClick?: (item: MenuItem) => void;\n\n    constructor(key: string, value: string) {\n        this.key = key;\n        this._value = value;\n    }\n\n    toString(): string {\n        return this.value;\n    }\n\n    render(hostConfig?: HostConfig): HTMLElement {\n        this._hostConfig = hostConfig;\n\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.innerText = this.value;\n            this._element.setAttribute(\"role\", \"menuitem\");\n\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = (_e) => {\n                this.click();\n            };\n            this._element.onkeydown = (e) => {\n                if (e.key === Constants.keys.enter) {\n                    e.cancelBubble = true;\n\n                    this.click();\n                }\n            };\n\n            this.updateCssClasses();\n        }\n\n        return this._element;\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    set value(newValue: string) {\n        this._value = newValue;\n\n        if (this._element) {\n            this._element.innerText = newValue;\n        }\n    }\n\n    get isEnabled(): boolean {\n        return this._isEnabled;\n    }\n\n    set isEnabled(value: boolean) {\n        if (this._isEnabled !== value) {\n            this._isEnabled = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(_rootElementBounds: ClientRect): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (_e) => {\n                this.closePopup(true);\n            };\n\n            document.body.appendChild(this._overlayElement);\n\n            const rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"\n                )\n            );\n\n            window.addEventListener(\"resize\", (_e) => {\n                this.closePopup(true);\n            });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            const popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            const availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            const availableSpaceAbove = rootElementBounds.top;\n            const availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            const availableSpaceLeft = rootElementBounds.left;\n\n            let left = rootElementBounds.left + Utils.getScrollX();\n            let top;\n\n            if (\n                availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height\n            ) {\n                // Not enough space above or below root element\n                const actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                } else {\n                    top =\n                        Utils.getScrollY() +\n                        rootElementBounds.top +\n                        (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n\n                if (\n                    availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width\n                ) {\n                    // Not enough space left or right of root element\n                    const actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    } else {\n                        left =\n                            Utils.getScrollX() +\n                            rootElementBounds.left +\n                            (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                } else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideLeftToRight\"\n                            )\n                        );\n                    } else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideRightToLeft\"\n                            )\n                        );\n                    }\n                }\n            } else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideTopToBottom\"\n                        )\n                    );\n                } else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideBottomToTop\"\n                        )\n                    );\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport { Collection } from \"./collection\";\nimport { PopupControl } from \"./popup-control\";\nimport { MenuItem } from \"./menu-item\";\n\nexport class PopupMenu extends PopupControl {\n    private _items: Collection<MenuItem> = new Collection<MenuItem>();\n    private _renderedItems: Array<HTMLElement> = [];\n    private _selectedIndex: number = -1;\n\n    protected renderContent(): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n\n        for (let i = 0; i < this._items.length; i++) {\n            const renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n\n            element.appendChild(renderedItem);\n\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n\n            this._renderedItems.push(renderedItem);\n        }\n\n        return element;\n    }\n\n    keyDown(e: KeyboardEvent) {\n        super.keyDown(e);\n\n        let selectedItemIndex = this._selectedIndex;\n\n        switch (e.key) {\n            case Constants.keys.tab:\n                this.closePopup(true);\n\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                } else {\n                    selectedItemIndex--;\n\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n            case Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                } else {\n                    selectedItemIndex++;\n\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n        }\n    }\n\n    get items(): Collection<MenuItem> {\n        return this._items;\n    }\n\n    get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    set selectedIndex(index: number) {\n        if (index >= 0 && index < this._renderedItems.length) {\n            this._renderedItems[index].focus();\n\n            this._selectedIndex = index;\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nexport class ContainerStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Emphasis: \"emphasis\" = \"emphasis\";\n    static readonly Accent: \"accent\" = \"accent\";\n    static readonly Good: \"good\" = \"good\";\n    static readonly Attention: \"attention\" = \"attention\";\n    static readonly Warning: \"warning\" = \"warning\";\n}\n\nexport class ActionStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Positive: \"positive\" = \"positive\";\n    static readonly Destructive: \"destructive\" = \"destructive\";\n}\n\nexport class ActionMode {\n    static readonly Primary: \"primary\" = \"primary\";\n    static readonly Secondary: \"secondary\" = \"secondary\";\n}\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\n\nexport enum Size {\n    Auto,\n    Stretch,\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSize {\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSetPresentationStyle {\n    Default,\n    Stacked\n}\n\nexport enum SizeUnit {\n    Weight,\n    Pixel\n}\n\nexport enum TextSize {\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge\n}\n\nexport enum InputStyle {\n    RevealOnHover,\n    Default\n}\n\nexport enum TextWeight {\n    Lighter,\n    Default,\n    Bolder\n}\n\nexport enum FontType {\n    Default,\n    Monospace\n}\n\nexport enum Spacing {\n    None,\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge,\n    Padding\n}\n\nexport enum TextColor {\n    Default,\n    Dark,\n    Light,\n    Accent,\n    Good,\n    Warning,\n    Attention\n}\n\nexport enum HorizontalAlignment {\n    Left,\n    Center,\n    Right\n}\n\nexport enum VerticalAlignment {\n    Top,\n    Center,\n    Bottom\n}\n\nexport enum ActionAlignment {\n    Left,\n    Center,\n    Right,\n    Stretch\n}\n\nexport enum ImageStyle {\n    Default,\n    Person\n}\n\nexport enum ShowCardActionMode {\n    Inline,\n    Popup\n}\n\nexport enum Orientation {\n    Horizontal,\n    Vertical\n}\n\nexport enum FillMode {\n    Cover,\n    RepeatHorizontally,\n    RepeatVertically,\n    Repeat\n}\n\nexport enum ActionIconPlacement {\n    LeftOfTitle,\n    AboveTitle\n}\n\nexport enum InputTextStyle {\n    Text,\n    Tel,\n    Url,\n    Email,\n    Password\n}\n\nexport enum InputLabelPosition {\n    Inline,\n    Above\n}\n\nexport enum ValidationPhase {\n    Parse,\n    ToJSON,\n    Validation\n}\n\nexport enum ValidationEvent {\n    Hint,\n    ActionTypeNotAllowed,\n    CollectionCantBeEmpty,\n    Deprecated,\n    ElementTypeNotAllowed,\n    InteractivityNotAllowed,\n    InvalidPropertyValue,\n    MissingCardType,\n    PropertyCantBeNull,\n    TooManyActions,\n    UnknownActionType,\n    UnknownElementType,\n    UnsupportedCardVersion,\n    DuplicateId,\n    UnsupportedProperty,\n    RequiredInputsShouldHaveLabel,\n    RequiredInputsShouldHaveErrorMessage,\n    Other\n}\n\nexport enum ContainerFitStatus {\n    FullyInContainer,\n    Overflowing,\n    FullyOutOfContainer\n}\n\nexport enum TypeErrorType {\n    UnknownType,\n    ForbiddenType\n}\n\nexport enum RefreshMode {\n    Disabled,\n    Manual,\n    Automatic\n}\n\nexport enum LogLevel {\n    Info,\n    Warning,\n    Error\n}\n\nexport enum CarouselInteractionEvent {\n    NavigationNext,\n    NavigationPrevious,\n    Pagination,\n    Autoplay\n}\n\nexport enum ActionRole {\n    Button,\n    Link,\n    Tab,\n    Menu,\n    MenuItem\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    TargetVersion,\n    Version,\n    SerializableObject,\n    BaseSerializationContext,\n    PropertyBag\n} from \"./serialization\";\n\nexport class HostCapabilities extends SerializableObject {\n    private _capabilities: { [key: string]: TargetVersion } = {};\n\n    protected getSchemaKey(): string {\n        return \"HostCapabilities\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        super.internalParse(source, context);\n\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (const name in source) {\n                const jsonVersion = source[name];\n\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name, \"*\");\n                    } else {\n                        const version = Version.parse(jsonVersion, context);\n\n                        if (version?.isValid) {\n                            this.addCapability(name, version);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        super.internalToJSON(target, context);\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    }\n\n    addCapability(name: string, version: TargetVersion) {\n        this._capabilities[name] = version;\n    }\n\n    removeCapability(name: string) {\n        delete this._capabilities[name];\n    }\n\n    clear() {\n        this._capabilities = {};\n    }\n\n    hasCapability(name: string, version: TargetVersion): boolean {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n\n            return version.compareTo(<Version>this._capabilities[name]) <= 0;\n        }\n\n        return false;\n    }\n\n    areAllMet(hostCapabilities: HostCapabilities): boolean {\n        for (const capabilityName in this._capabilities) {\n            if (\n                !hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])\n            ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport * as Shared from \"./shared\";\nimport { HostCapabilities } from \"./host-capabilities\";\n\nfunction parseHostConfigEnum(\n    targetEnum: { [s: number]: string },\n    value: string | number,\n    defaultValue: number\n): number {\n    if (typeof value === \"string\") {\n        const parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    } else if (typeof value === \"number\") {\n        return value;\n    } else {\n        return defaultValue;\n    }\n}\n\nexport class ColorDefinition {\n    default: string = \"#000000\";\n    subtle: string = \"#666666\";\n\n    constructor(defaultColor?: string, subtleColor?: string) {\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n\n    parse(obj?: any) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    }\n}\n\nexport class TextColorDefinition extends ColorDefinition {\n    readonly highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    }\n}\n\nexport class AdaptiveCardConfig {\n    allowCustomStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n}\n\nexport class ImageSetConfig {\n    imageSize: Enums.Size = Enums.Size.Medium;\n    maxImageHeight: number = 100;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100)!;\n        }\n    }\n\n    toJSON() {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    }\n}\n\nexport class MediaConfig {\n    defaultPoster?: string;\n    allowInlinePlayback: boolean = true;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n\n    toJSON() {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    }\n}\n\nexport class TableConfig {\n    cellSpacing: number = 8;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n\n    toJSON() {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    }\n}\n\nexport class BaseTextDefinition {\n    size: Enums.TextSize = Enums.TextSize.Default;\n    color: Enums.TextColor = Enums.TextColor.Default;\n    isSubtle: boolean = false;\n    weight: Enums.TextWeight = Enums.TextWeight.Default;\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                this.getDefaultWeight()\n            );\n        }\n    }\n\n    getDefaultWeight(): Enums.TextWeight {\n        return Enums.TextWeight.Default;\n    }\n\n    toJSON(): any {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    }\n}\n\nexport class TextStyleDefinition extends BaseTextDefinition {\n    fontType: Enums.FontType = Enums.FontType.Default;\n\n    parse(obj: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    }\n}\n\nexport class TextStyleSet {\n    readonly default: TextStyleDefinition = new TextStyleDefinition();\n    readonly heading: TextStyleDefinition = new TextStyleDefinition({\n        size: \"Large\",\n        weight: \"Bolder\"\n    });\n    readonly columnHeader: TextStyleDefinition = new TextStyleDefinition({\n        weight: \"Bolder\"\n    });\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n\n    getStyleByName(name: string): TextStyleDefinition {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class TextBlockConfig {\n    headingLevel?: number;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n}\n\nexport class RequiredInputLabelTextDefinition extends BaseTextDefinition {\n    suffix?: string = \" *\";\n    suffixColor: Enums.TextColor = Enums.TextColor.Attention;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(\n                Enums.TextColor,\n                obj[\"suffixColor\"],\n                this.suffixColor\n            );\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n\n        return result;\n    }\n}\n\nexport class InputLabelConfig {\n    inputSpacing: Enums.Spacing = Enums.Spacing.Small;\n    width: number = 30;\n    readonly requiredInputs: RequiredInputLabelTextDefinition =\n        new RequiredInputLabelTextDefinition();\n    readonly optionalInputs: BaseTextDefinition = new BaseTextDefinition();\n    \n    constructor(obj?: any) {\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj[\"inputSpacing\"],\n                this.inputSpacing\n            );\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n}\n\nexport class InputConfig {\n    readonly label: InputLabelConfig = new InputLabelConfig();\n    readonly errorMessage: BaseTextDefinition = new BaseTextDefinition({\n        color: Enums.TextColor.Attention\n    });\n    readonly debounceTimeInMilliSeconds: number = 0;\n\n    allowRevealOnHoverStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n            this.allowRevealOnHoverStyle = obj[\"allowRevealOnHoverStyle\"] || this.allowRevealOnHoverStyle;\n            this.debounceTimeInMilliSeconds = obj.debounceTimeInMilliSeconds;\n        }\n    }\n}\n\nexport class FactTextDefinition extends BaseTextDefinition {\n    wrap: boolean = true;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"wrap\"] = this.wrap;\n\n        return result;\n    }\n}\n\nexport class FactTitleDefinition extends FactTextDefinition {\n    maxWidth?: number = 150;\n    weight: Enums.TextWeight = Enums.TextWeight.Bolder;\n\n    constructor(obj?: any) {\n        super(obj);\n\n        if (obj) {\n            this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : this.maxWidth;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                Enums.TextWeight.Bolder\n            );\n        }\n    }\n\n    getDefaultWeight() {\n        return Enums.TextWeight.Bolder;\n    }\n}\n\nexport class FactSetConfig {\n    readonly title: FactTitleDefinition = new FactTitleDefinition();\n    readonly value: FactTextDefinition = new FactTextDefinition();\n    spacing: number = 10;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n}\n\nexport class ShowCardActionConfig {\n    actionMode: Enums.ShowCardActionMode = Enums.ShowCardActionMode.Inline;\n    inlineTopMargin: number = 16;\n    style?: string = Enums.ContainerStyle.Emphasis;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(\n                Enums.ShowCardActionMode,\n                obj[\"actionMode\"],\n                Enums.ShowCardActionMode.Inline\n            );\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    toJSON() {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    }\n}\n\nexport class ActionsConfig {\n    maxActions: number = 5;\n    spacing: Enums.Spacing = Enums.Spacing.Default;\n    buttonSpacing: number = 20;\n    readonly showCard: ShowCardActionConfig = new ShowCardActionConfig();\n    preExpandSingleShowCardAction?: boolean = false;\n    actionsOrientation: Enums.Orientation = Enums.Orientation.Horizontal;\n    actionAlignment: Enums.ActionAlignment = Enums.ActionAlignment.Left;\n    iconPlacement: Enums.ActionIconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n    allowTitleToWrap: boolean = false;\n    iconSize: number = 16;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj.spacing && obj.spacing,\n                Enums.Spacing.Default\n            );\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(\n                obj[\"preExpandSingleShowCardAction\"],\n                false\n            );\n            this.actionsOrientation = parseHostConfigEnum(\n                Enums.Orientation,\n                obj[\"actionsOrientation\"],\n                Enums.Orientation.Horizontal\n            );\n            this.actionAlignment = parseHostConfigEnum(\n                Enums.ActionAlignment,\n                obj[\"actionAlignment\"],\n                Enums.ActionAlignment.Left\n            );\n            this.iconPlacement = parseHostConfigEnum(\n                Enums.ActionIconPlacement,\n                obj[\"iconPlacement\"],\n                Enums.ActionIconPlacement.LeftOfTitle\n            );\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n\n            try {\n                const sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            } catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n\n    toJSON() {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    }\n}\n\nexport class ColorSetDefinition {\n    private parseSingleColor(obj: any, propertyName: string) {\n        if (obj) {\n            ((<any>this)[propertyName] as TextColorDefinition).parse(obj[propertyName]);\n        }\n    }\n\n    default: TextColorDefinition = new TextColorDefinition();\n    dark: TextColorDefinition = new TextColorDefinition();\n    light: TextColorDefinition = new TextColorDefinition();\n    accent: TextColorDefinition = new TextColorDefinition();\n    good: TextColorDefinition = new TextColorDefinition();\n    warning: TextColorDefinition = new TextColorDefinition();\n    attention: TextColorDefinition = new TextColorDefinition();\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    }\n}\n\nexport class ContainerStyleDefinition {\n    backgroundColor?: string;\n\n    readonly foregroundColors: ColorSetDefinition = new ColorSetDefinition({\n        \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n        \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n        \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n        \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n        \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n        \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n        \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n    });\n\n    highlightBackgroundColor?: string;\n    highlightForegroundColor?: string;\n    borderColor?: string;\n\n    parse(obj: any) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n\n            this.borderColor = obj[\"borderColor\"];\n        }\n    }\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    get isBuiltIn(): boolean {\n        return false;\n    }\n}\n\nclass BuiltInContainerStyleDefinition extends ContainerStyleDefinition {\n    get isBuiltIn(): boolean {\n        return true;\n    }\n}\n\nexport interface ILineHeightDefinitions {\n    small: number;\n    medium: number;\n    default: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport class ContainerStyleSet {\n    private _allStyles: { [key: string]: ContainerStyleDefinition } = {};\n\n    constructor(obj?: any) {\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(\n                obj[Enums.ContainerStyle.Emphasis]\n            );\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(\n                obj[Enums.ContainerStyle.Attention]\n            );\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n\n            const customStyleArray = obj[\"customStyles\"];\n\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (const customStyle of customStyleArray) {\n                    if (customStyle) {\n                        const styleName = customStyle[\"name\"];\n\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            } else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(\n                                    customStyle[\"style\"]\n                                );\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    toJSON() {\n        const customStyleArray: any[] = [];\n\n        Object.keys(this._allStyles).forEach((key) => {\n            if (!this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: this._allStyles[key]\n                });\n            }\n        });\n\n        const result: any = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n\n        return result;\n    }\n\n    getStyleByName(\n        name: string | undefined,\n        defaultValue?: ContainerStyleDefinition\n    ): ContainerStyleDefinition {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        } else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    }\n\n    get default(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Default];\n    }\n\n    get emphasis(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Emphasis];\n    }\n}\n\nexport interface IFontSizeDefinitions {\n    small: number;\n    default: number;\n    medium: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport interface IFontWeightDefinitions {\n    lighter: number;\n    default: number;\n    bolder: number;\n}\n\nexport class FontTypeDefinition {\n    static readonly monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n    fontFamily?: string = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n\n    fontSizes: IFontSizeDefinitions = {\n        small: 12,\n        default: 14,\n        medium: 17,\n        large: 21,\n        extraLarge: 26\n    };\n\n    fontWeights: IFontWeightDefinitions = {\n        lighter: 200,\n        default: 400,\n        bolder: 600\n    };\n\n    constructor(fontFamily?: string) {\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n\n    parse(obj?: any) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    }\n}\n\nexport class FontTypeSet {\n    default: FontTypeDefinition;\n    monospace: FontTypeDefinition;\n\n    constructor(obj?: any) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n\n    getStyleDefinition(style: Enums.FontType | undefined): FontTypeDefinition {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class CarouselConfig {\n    maxCarouselPages: number = 10;\n    minAutoplayDelay: number = 5000.0;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n\n    toJSON() {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    }\n}\n\nexport class HostConfig {\n    readonly hostCapabilities = new HostCapabilities();\n\n    private _legacyFontType: FontTypeDefinition;\n\n    choiceSetInputValueSeparator: string = \",\";\n    supportsInteractivity: boolean = true;\n    lineHeights?: ILineHeightDefinitions;\n    fontTypes?: FontTypeSet;\n\n    readonly spacing = {\n        small: 3,\n        default: 8,\n        medium: 20,\n        large: 30,\n        extraLarge: 40,\n        padding: 15\n    };\n\n    readonly separator = {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    };\n\n    readonly imageSizes = {\n        small: 40,\n        medium: 80,\n        large: 160\n    };\n\n    readonly containerStyles: ContainerStyleSet = new ContainerStyleSet();\n    readonly inputs: InputConfig = new InputConfig();\n    readonly actions: ActionsConfig = new ActionsConfig();\n    readonly adaptiveCard: AdaptiveCardConfig = new AdaptiveCardConfig();\n    readonly imageSet: ImageSetConfig = new ImageSetConfig();\n    readonly media: MediaConfig = new MediaConfig();\n    readonly factSet: FactSetConfig = new FactSetConfig();\n    readonly table: TableConfig = new TableConfig();\n    readonly textStyles: TextStyleSet = new TextStyleSet();\n    readonly textBlock: TextBlockConfig = new TextBlockConfig();\n    readonly carousel: CarouselConfig = new CarouselConfig();\n\n    cssClassNamePrefix?: string;\n    alwaysAllowBleed: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj as string);\n            }\n\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n\n            this.separator = {\n                lineThickness:\n                    (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n\n    getFontTypeDefinition(style?: Enums.FontType): FontTypeDefinition {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        } else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    }\n\n    getEffectiveSpacing(spacing: Enums.Spacing): number {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    }\n\n    paddingDefinitionToSpacingDefinition(\n        paddingDefinition: Shared.PaddingDefinition\n    ): Shared.SpacingDefinition {\n        return new Shared.SpacingDefinition(\n            this.getEffectiveSpacing(paddingDefinition.top),\n            this.getEffectiveSpacing(paddingDefinition.right),\n            this.getEffectiveSpacing(paddingDefinition.bottom),\n            this.getEffectiveSpacing(paddingDefinition.left)\n        );\n    }\n\n    makeCssClassNames(...classNames: string[]): string[] {\n        const result: string[] = [];\n\n        for (const className of classNames) {\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n\n        return result;\n    }\n\n    makeCssClassName(...classNames: string[]): string {\n        const result = this.makeCssClassNames(...classNames).join(\" \");\n\n        return result ? result : \"\";\n    }\n\n    get fontFamily(): string | undefined {\n        return this._legacyFontType.fontFamily;\n    }\n\n    set fontFamily(value: string | undefined) {\n        this._legacyFontType.fontFamily = value;\n    }\n\n    get fontSizes(): IFontSizeDefinitions {\n        return this._legacyFontType.fontSizes;\n    }\n\n    get fontWeights(): IFontWeightDefinitions {\n        return this._legacyFontType.fontWeights;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const defaultHostConfig: HostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        },\n        debounceTimeInMilliSeconds: 250\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    },\n    textBlock: {\n        headingLevel: 2\n    }\n});\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { CardElement, Action } from \"./card-elements\";\nimport { SerializableObject, Version, Versions } from \"./serialization\";\n\nexport interface ITypeRegistration<T extends SerializableObject> {\n    typeName: string;\n    objectType: { new (): T };\n    schemaVersion: Version;\n}\n\nexport class CardObjectRegistry<T extends SerializableObject> {\n    private _items: { [typeName: string]: ITypeRegistration<T> } = {};\n\n    findByName(typeName: string): ITypeRegistration<T> | undefined {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    }\n\n    clear() {\n        this._items = {};\n    }\n\n    copyTo(target: CardObjectRegistry<T>) {\n        const keys = Object.keys(this._items);\n\n        for (const key of keys) {\n            const typeRegistration = this._items[key];\n\n            target.register(\n                typeRegistration.typeName,\n                typeRegistration.objectType,\n                typeRegistration.schemaVersion\n            );\n        }\n    }\n\n    register(\n        typeName: string,\n        objectType: { new (): T },\n        schemaVersion: Version = Versions.v1_0\n    ) {\n        let registrationInfo = this.findByName(typeName);\n\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        } else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n\n        this._items[typeName] = registrationInfo;\n    }\n\n    unregister(typeName: string) {\n        delete this._items[typeName];\n    }\n\n    createInstance(typeName: string, targetVersion: Version): T | undefined {\n        const registrationInfo = this.findByName(typeName);\n\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    }\n\n    getItemCount(): number {\n        return Object.keys(this._items).length;\n    }\n\n    getItemAt(index: number): ITypeRegistration<T> {\n        return Object.keys(this._items).map((e) => this._items[e])[index];\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalRegistry {\n    private static _elements?: CardObjectRegistry<CardElement>;\n    private static _actions?: CardObjectRegistry<Action>;\n\n    static populateWithDefaultElements(registry: CardObjectRegistry<CardElement>) {\n        registry.clear();\n\n        GlobalRegistry.defaultElements.copyTo(registry);\n    }\n\n    static populateWithDefaultActions(registry: CardObjectRegistry<Action>) {\n        registry.clear();\n\n        GlobalRegistry.defaultActions.copyTo(registry);\n    }\n\n    static readonly defaultElements = new CardObjectRegistry<CardElement>();\n    static readonly defaultActions = new CardObjectRegistry<Action>();\n    static get elements(): CardObjectRegistry<CardElement> {\n        if (!GlobalRegistry._elements) {\n            GlobalRegistry._elements = new CardObjectRegistry<CardElement>();\n            GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n        }\n\n        return GlobalRegistry._elements;\n    }\n\n    static get actions(): CardObjectRegistry<Action> {\n        if (!GlobalRegistry._actions) {\n            GlobalRegistry._actions = new CardObjectRegistry<Action>();\n            GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n        }\n\n        return GlobalRegistry._actions;\n    }\n\n    static reset() {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { GlobalSettings, SizeAndUnit } from \"./shared\";\nimport * as Utils from \"./utils\";\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\n\nexport interface IValidationEvent {\n    source?: SerializableObject;\n    phase: Enums.ValidationPhase;\n    event: Enums.ValidationEvent;\n    message: string;\n}\n\nexport class Version {\n    private _versionString: string;\n    private _major: number;\n    private _minor: number;\n    private _isValid: boolean = true;\n    private _label?: string;\n\n    constructor(major: number = 1, minor: number = 1, label?: string) {\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n\n    static parse(versionString: string, context: BaseSerializationContext): Version | undefined {\n        if (!versionString) {\n            return undefined;\n        }\n\n        const result = new Version();\n        result._versionString = versionString;\n\n        const regEx = /(\\d+).(\\d+)/gi;\n        const matches = regEx.exec(versionString);\n\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        } else {\n            result._isValid = false;\n        }\n\n        if (!result._isValid) {\n            context.logParseEvent(\n                undefined,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidVersionString(result._versionString)\n            );\n        }\n\n        return result;\n    }\n\n    toString(): string {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    }\n\n    toJSON(): any {\n        return this.toString();\n    }\n\n    compareTo(otherVersion: Version): number {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n\n        if (this.major > otherVersion.major) {\n            return 1;\n        } else if (this.major < otherVersion.major) {\n            return -1;\n        } else if (this.minor > otherVersion.minor) {\n            return 1;\n        } else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n\n        return 0;\n    }\n\n    get label(): string {\n        return this._label ? this._label : this.toString();\n    }\n\n    get major(): number {\n        return this._major;\n    }\n\n    get minor(): number {\n        return this._minor;\n    }\n\n    get isValid(): boolean {\n        return this._isValid;\n    }\n}\n\nexport type TargetVersion = Version | \"*\";\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Versions {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    static readonly v1_0 = new Version(1, 0);\n    static readonly v1_1 = new Version(1, 1);\n    static readonly v1_2 = new Version(1, 2);\n    static readonly v1_3 = new Version(1, 3);\n    static readonly v1_4 = new Version(1, 4);\n    static readonly v1_5 = new Version(1, 5);\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    static readonly v1_6 = new Version(1, 6, \"1.6 Preview\");\n    static readonly latest = Versions.v1_5;\n    /* eslint-enable @typescript-eslint/naming-convention */\n\n    static getAllDeclaredVersions(): Version[] {\n        const ctor = <any>Versions;\n        const properties: Version[] = [];\n\n        for (const propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    const propertyValue = ctor[propertyName];\n\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                } catch {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort((v1: Version, v2: Version) => v1.compareTo(v2));\n    }\n}\n\nexport function isVersionLessOrEqual(\n    version: TargetVersion,\n    targetVersion: TargetVersion\n): boolean {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        } else {\n            // Target version is *\n            return true;\n        }\n    } else {\n        // Version is *\n        return true;\n    }\n}\n\nexport abstract class BaseSerializationContext {\n    private _validationEvents: IValidationEvent[] = [];\n\n    toJSONOriginalParam: any;\n    targetVersion: Version;\n\n    constructor(targetVersion: Version = Versions.latest) {\n        this.targetVersion = targetVersion;\n    }\n    \n    private isTemplateString(value: any) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        } else {\n            return false;\n        }\n    }\n\n    private tryDeleteValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    }\n\n    private tryDeleteDefaultValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    }\n\n    serializeValue(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any,\n        defaultValue: any = undefined,\n        forceDeleteIfNullOrDefault: boolean = false\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        } else if (propertyValue === defaultValue) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeString(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: string,\n        defaultValue?: string\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeBool(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: boolean,\n        defaultValue?: boolean\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeNumber(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: number,\n        defaultValue?: number\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeEnum(\n        enumType: { [s: number]: string },\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: number | undefined,\n        defaultValue: number | undefined = undefined\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    }\n\n    serializeArray(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any[] | undefined\n    ) {\n        const items = [];\n\n        if (propertyValue) {\n            for (const item of propertyValue) {\n                let serializedItem: any = undefined;\n\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                } else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                } else {\n                    serializedItem = item;\n                }\n\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            this.serializeValue(target, propertyName, items);\n        }\n    }\n\n    clearEvents() {\n        this._validationEvents = [];\n    }\n\n    logEvent(\n        source: SerializableObject | undefined,\n        phase: Enums.ValidationPhase,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    }\n\n    logParseEvent(\n        source: SerializableObject | undefined,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    }\n\n    getEventAt(index: number): IValidationEvent {\n        return this._validationEvents[index];\n    }\n\n    get eventCount(): number {\n        return this._validationEvents.length;\n    }\n}\n\nclass SimpleSerializationContext extends BaseSerializationContext {}\n\nexport class PropertyDefinition {\n    private static _sequentialNumber: number = 0;\n\n    getInternalName(): string {\n        return this.name;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): any {\n        return source[this.name];\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: any,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    }\n\n    readonly sequentialNumber: number;\n\n    isSerializationEnabled: boolean = true;\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: any,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n\n        PropertyDefinition._sequentialNumber++;\n    }\n}\n\nexport class StringProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        const isUndefined =\n            parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n\n        if (!isUndefined && this.regEx !== undefined) {\n            const matches = this.regEx.exec(parsedValue);\n\n            if (!matches) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(parsedValue, this.name)\n                );\n\n                return undefined;\n            }\n        }\n\n        return parsedValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeString(\n            target,\n            this.name,\n            value === \"\" && this.treatEmptyAsUndefined ? undefined : value,\n            this.defaultValue\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly treatEmptyAsUndefined: boolean = true,\n        readonly regEx?: RegExp,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class BoolProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): boolean | undefined {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: object,\n        value: boolean | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: boolean,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class NumProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: number,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class PixelSizeProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const value = source[this.name];\n\n        if (typeof value === \"string\") {\n            let isValid = false;\n\n            try {\n                const size = SizeAndUnit.parse(value, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Do nothing. A parse error is emitted below\n            }\n\n            if (!isValid) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(source[this.name], this.name)\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n}\n\nexport interface IVersionedValue<TValue> {\n    value: TValue;\n    targetVersion?: Version;\n}\n\nexport class StringArrayProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string[] | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n\n        const result: string[] = [];\n\n        for (const value of sourceValue) {\n            if (typeof value === \"string\") {\n                result.push(value);\n            } else {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    `Invalid array value \"${JSON.stringify(\n                        value\n                    )}\" of type \"${typeof value}\" ignored for \"${this.name}\".`\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => string[] | undefined\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class ValueSetProperty extends PropertyDefinition {\n    isValidValue(value: string, context: BaseSerializationContext): boolean {\n        for (const versionedValue of this.values) {\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                const targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n\n        return false;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        if (typeof sourceValue === \"string\") {\n            for (const versionedValue of this.values) {\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                value,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly values: IVersionedValue<string>[],\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class EnumProperty<TEnum extends { [s: number]: string }> extends PropertyDefinition {\n    private _values: IVersionedValue<number>[] = [];\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        const sourceValue = source[this.name];\n\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n\n        const enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n\n        if (enumValue !== undefined) {\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === enumValue) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.invalidPropertyValue(value, this.name)\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly enumType: TEnum,\n        readonly defaultValue?: number,\n        values?: IVersionedValue<number>[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => number\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (const key in enumType) {\n                const keyAsNumber = parseInt(key, 10);\n\n                if (keyAsNumber >= 0) {\n                    this._values.push({ value: keyAsNumber });\n                }\n            }\n        } else {\n            this._values = values;\n        }\n    }\n\n    get values(): IVersionedValue<number>[] {\n        return this._values;\n    }\n}\n\nexport type SerializableObjectType = { new (): SerializableObject };\n\nexport class SerializableObjectProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n\n        const result = new this.objectType();\n        result.parse(sourceValue, context);\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject | undefined,\n        context: BaseSerializationContext\n    ) {\n        let serializedValue: object | undefined = undefined;\n\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly nullable: boolean = false,\n        defaultValue?: SerializableObject\n    ) {\n        super(targetVersion, name, defaultValue, (sender: SerializableObject) => {\n            return this.nullable ? undefined : new this.objectType();\n        });\n    }\n}\n\nexport class SerializableObjectCollectionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject[] | undefined {\n        const result: SerializableObject[] | undefined = [];\n\n        const sourceCollection = source[this.name];\n\n        if (Array.isArray(sourceCollection)) {\n            for (const sourceItem of sourceCollection) {\n                const item = new this.objectType();\n                item.parse(sourceItem, context);\n\n                result.push(item);\n\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n            ? this.onGetInitialValue(sender)\n            : undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly onItemAdded?: (sender: SerializableObject, item: SerializableObject) => void\n    ) {\n        super(targetVersion, name, undefined, (sender: SerializableObject) => {\n            return [];\n        });\n    }\n}\n\nexport class CustomProperty<T> extends PropertyDefinition {\n    parse(sender: SerializableObject, source: PropertyBag, context: BaseSerializationContext): T {\n        return this.onParse(sender, this, source, context);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: T,\n        context: BaseSerializationContext\n    ) {\n        this.onToJSON(sender, this, target, value, context);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly onParse: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => T,\n        readonly onToJSON: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: T,\n            context: BaseSerializationContext\n        ) => void,\n        readonly defaultValue?: T,\n        readonly onGetInitialValue?: (sender: SerializableObject) => T\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n\n        if (!this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n    }\n}\n\nexport class SerializableObjectSchema {\n    private _properties: PropertyDefinition[] = [];\n\n    indexOf(prop: PropertyDefinition): number {\n        for (let i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    add(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    }\n\n    remove(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            while (true) {\n                const index = this.indexOf(prop);\n\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                } else {\n                    break;\n                }\n            }\n        }\n    }\n\n    getItemAt(index: number): PropertyDefinition {\n        return this._properties[index];\n    }\n\n    getCount(): number {\n        return this._properties.length;\n    }\n}\n\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nexport function property(prop: PropertyDefinition) {\n    return function (target: any, propertyKey: string) {\n        const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function (this: SerializableObject) {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (this: SerializableObject, value: any) {\n                this.setValue(prop, value);\n            };\n\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\n\nexport type PropertyBag = { [propertyName: string]: any };\n\nexport abstract class SerializableObject {\n    static onRegisterCustomProperties?: (\n        sender: SerializableObject,\n        schema: SerializableObjectSchema\n    ) => void;\n    static defaultMaxVersion: Version = Versions.latest;\n\n    private static readonly _schemaCache: { [typeName: string]: SerializableObjectSchema } = {};\n\n    private _propertyBag: PropertyBag = {};\n    private _rawProperties: PropertyBag = {};\n\n    protected abstract getSchemaKey(): string;\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SimpleSerializationContext();\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        const ctor = <any>this.constructor;\n        const properties: PropertyDefinition[] = [];\n\n        // eslint-disable-next-line guard-for-in\n        for (const propertyName in ctor) {\n            try {\n                const propertyValue = ctor[propertyName];\n\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            } catch {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n\n        if (properties.length > 0) {\n            const sortedProperties = properties.sort(\n                (p1: PropertyDefinition, p2: PropertyDefinition) => {\n                    if (p1.sequentialNumber > p2.sequentialNumber) {\n                        return 1;\n                    } else if (p1.sequentialNumber < p2.sequentialNumber) {\n                        return -1;\n                    }\n\n                    return 0;\n                }\n            );\n\n            schema.add(...sortedProperties);\n        }\n\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    }\n\n    protected getValue(prop: PropertyDefinition): any {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    }\n\n    protected setValue(prop: PropertyDefinition, value: any) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        } else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    }\n\n    protected internalParse(source: PropertyBag, context: BaseSerializationContext) {\n        this._propertyBag = {};\n        this._rawProperties = GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n\n        if (source) {\n            const s = this.getSchema();\n\n            for (let i = 0; i < s.getCount(); i++) {\n                const prop = s.getItemAt(i);\n\n                if (prop.isSerializationEnabled) {\n                    let propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        } else {\n                            context.logParseEvent(\n                                this,\n                                Enums.ValidationEvent.UnsupportedProperty,\n                                Strings.errors.propertyNotSupported(\n                                    prop.name,\n                                    prop.targetVersion.toString(),\n                                    context.targetVersion.toString()\n                                )\n                            );\n                        }\n                    }\n\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        } else {\n            this.resetDefaultValues();\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        const s = this.getSchema();\n        const serializedProperties: string[] = [];\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (\n                prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1\n            ) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n\n                serializedProperties.push(prop.name);\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: BaseSerializationContext): boolean {\n        return true;\n    }\n\n    maxVersion: Version = SerializableObject.defaultMaxVersion;\n\n    constructor() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n\n    parse(source: PropertyBag, context?: BaseSerializationContext) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    }\n\n    toJSON(context?: BaseSerializationContext): PropertyBag | undefined {\n        let effectiveContext: BaseSerializationContext;\n\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        } else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n\n        if (this.shouldSerialize(effectiveContext)) {\n            let result: PropertyBag;\n\n            if (\n                GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\"\n            ) {\n                result = this._rawProperties;\n            } else {\n                result = {};\n            }\n\n            this.internalToJSON(result, effectiveContext);\n\n            return result;\n        } else {\n            return undefined;\n        }\n    }\n\n    hasDefaultValue(prop: PropertyDefinition): boolean {\n        return this.getValue(prop) === prop.defaultValue;\n    }\n\n    hasAllDefaultValues(): boolean {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    resetDefaultValues() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            this.setValue(prop, prop.defaultValue);\n        }\n    }\n\n    setCustomProperty(name: string, value: any) {\n        const shouldDeleteProperty =\n            (typeof value === \"string\" && !value) || value === undefined || value === null;\n\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        } else {\n            this._rawProperties[name] = value;\n        }\n    }\n\n    getCustomProperty(name: string): any {\n        return this._rawProperties[name];\n    }\n\n    getSchema(): SerializableObjectSchema {\n        let schema: SerializableObjectSchema = SerializableObject._schemaCache[this.getSchemaKey()];\n\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n\n            this.populateSchema(schema);\n\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n\n        return schema;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\n\nexport type Refresh = {\n    mode: Enums.RefreshMode;\n    timeBetweenAutomaticRefreshes: number;\n    maximumConsecutiveAutomaticRefreshes: number;\n    allowManualRefreshesAfterAutomaticRefreshes: boolean;\n};\n\nexport type AppletsSettings = {\n    logEnabled: boolean;\n    logLevel: Enums.LogLevel;\n    maximumRetryAttempts: number;\n    defaultTimeBetweenRetryAttempts: number;\n    authPromptWidth: number;\n    authPromptHeight: number;\n    readonly refresh: Refresh;\n    onLogEvent?: (level: Enums.LogLevel, message?: any, ...optionalParams: any[]) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalSettings {\n    static useAdvancedTextBlockTruncation: boolean = true;\n    static useAdvancedCardBottomTruncation: boolean = false;\n    static useMarkdownInRadioButtonAndCheckbox: boolean = true;\n    static allowMarkForTextHighlighting: boolean = false;\n    static alwaysBleedSeparators: boolean = false;\n    static enableFullJsonRoundTrip: boolean = false;\n    static displayInputValidationErrors: boolean = true;\n    static allowPreProcessingPropertyValues: boolean = false;\n    static setTabIndexAtCardRoot: boolean = true;\n    static enableFallback: boolean = true;\n    static useWebkitLineClamp: boolean = true;\n    static allowMoreThanMaxActionsInOverflowMenu: boolean = false;\n    static removePaddingFromContainersWithBackgroundImage: boolean = false;\n    static resetInputsDirtyStateAfterActionExecution: boolean = true;\n\n    static readonly applets: AppletsSettings = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000, // 3 seconds\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000, // 3 seconds\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n}\n\nexport const ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\n\nexport interface ISeparationDefinition {\n    spacing: number;\n    lineThickness?: number;\n    lineColor?: string;\n}\n\nexport interface IInput {\n    id?: string;\n    value?: string;\n    validateValue(): boolean;\n}\n\nexport type Dictionary<T> = { [key: string]: T };\n\nexport class StringWithSubstitutions {\n    private _isProcessed: boolean = false;\n    private _original?: string;\n    private _processed?: string;\n\n    getReferencedInputs(inputs: IInput[], referencedInputs: Dictionary<IInput>) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n\n        if (this._original) {\n            for (const input of inputs) {\n                const matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(\n                    this._original\n                );\n\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    }\n\n    substituteInputValues(inputs: Dictionary<IInput>, contentType: string) {\n        this._processed = this._original;\n\n        if (this._original) {\n            const regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            let matches;\n\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (const key of Object.keys(inputs)) {\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        const matchedInput = inputs[key];\n\n                        let valueForReplace = \"\";\n\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n\n                        if (contentType === ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        } else if (contentType === ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n\n                        break;\n                    }\n                }\n            }\n        }\n\n        this._isProcessed = true;\n    }\n\n    getOriginal(): string | undefined {\n        return this._original;\n    }\n\n    get(): string | undefined {\n        if (!this._isProcessed) {\n            return this._original;\n        } else {\n            return this._processed;\n        }\n    }\n\n    set(value: string | undefined) {\n        this._original = value;\n        this._isProcessed = false;\n    }\n}\n\nexport class SpacingDefinition {\n    left: number = 0;\n    top: number = 0;\n    right: number = 0;\n    bottom: number = 0;\n\n    constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class PaddingDefinition {\n    top: Enums.Spacing = Enums.Spacing.None;\n    right: Enums.Spacing = Enums.Spacing.None;\n    bottom: Enums.Spacing = Enums.Spacing.None;\n    left: Enums.Spacing = Enums.Spacing.None;\n\n    constructor(\n        top: Enums.Spacing = Enums.Spacing.None,\n        right: Enums.Spacing = Enums.Spacing.None,\n        bottom: Enums.Spacing = Enums.Spacing.None,\n        left: Enums.Spacing = Enums.Spacing.None\n    ) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class SizeAndUnit {\n    physicalSize: number;\n    unit: Enums.SizeUnit;\n\n    static parse(input: string, requireUnitSpecifier: boolean = false): SizeAndUnit {\n        const result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n\n            return result;\n        } else if (typeof input === \"string\") {\n            const regExp = /^([0-9]+)(px|\\*)?$/g;\n            const matches = regExp.exec(input);\n            const expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n\n                return result;\n            }\n        }\n\n        throw new Error(\"Invalid size: \" + input);\n    }\n\n    constructor(physicalSize: number, unit: Enums.SizeUnit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n}\n\nexport interface IResourceInformation {\n    url: string;\n    mimeType: string;\n}\n\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nexport class UUID {\n    private static lut: string[] = [];\n\n    static generate(): string {\n        const d0 = (Math.random() * 0xffffffff) | 0;\n        const d1 = (Math.random() * 0xffffffff) | 0;\n        const d2 = (Math.random() * 0xffffffff) | 0;\n        const d3 = (Math.random() * 0xffffffff) | 0;\n\n        return (\n            UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]\n        );\n    }\n\n    static initialize() {\n        for (let i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    }\n}\n\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Strings {\n    static readonly errors = {\n        unknownElementType: (typeName: string) =>\n            `Unknown element type \"${typeName}\". Fallback will be used if present.`,\n        unknownActionType: (typeName: string) =>\n            `Unknown action type \"${typeName}\". Fallback will be used if present.`,\n        elementTypeNotAllowed: (typeName: string) =>\n            `Element type \"${typeName}\" is not allowed in this context.`,\n        actionTypeNotAllowed: (typeName: string) =>\n            `Action type \"${typeName}\" is not allowed in this context.`,\n        invalidPropertyValue: (value: any, propertyName: string) =>\n            `Invalid value \"${value}\" for property \"${propertyName}\".`,\n        showCardMustHaveCard: () =>\n            `\"An Action.ShowCard must have its \"card\" property set to a valid AdaptiveCard object.`,\n        invalidColumnWidth: (invalidWidth: string) =>\n            `Invalid column width \"${invalidWidth}\" - defaulting to \"auto\".`,\n        invalidCardVersion: (defaultingToVersion: string) =>\n            `Invalid card version. Defaulting to \"${defaultingToVersion}\".`,\n        invalidVersionString: (versionString: string) =>\n            `Invalid version string \"${versionString}\".`,\n        propertyValueNotSupported: (\n            value: any,\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Value \"${value}\" for property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        propertyNotSupported: (\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        indexOutOfRange: (index: number) => `Index out of range (${index}).`,\n        elementCannotBeUsedAsInline: () =>\n            \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\",\n        inlineAlreadyParented: () =>\n            \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\",\n        interactivityNotAllowed: () => \"Interactivity is not allowed.\",\n        inputsMustHaveUniqueId: () => \"All inputs must have a unique Id.\",\n        choiceSetMustHaveAtLeastOneChoice: () =>\n            \"An Input.ChoiceSet must have at least one choice defined.\",\n        choiceSetChoicesMustHaveTitleAndValue: () =>\n            \"All choices in an Input.ChoiceSet must have their title and value properties set.\",\n        propertyMustBeSet: (propertyName: string) => `Property \"${propertyName}\" must be set.`,\n        actionHttpHeadersMustHaveNameAndValue: () =>\n            \"All headers of an Action.Http must have their name and value properties set.\",\n        tooManyActions: (maximumActions: number) =>\n            `Maximum number of actions exceeded (${maximumActions}).`,\n        tooLittleTimeDelay: (minAutoplayDelay: number) =>\n            `Autoplay Delay is too short (${minAutoplayDelay}).`,\n        tooManyCarouselPages: (maxCarouselPages: number) =>\n            `Maximum number of Carousel pages exceeded (${maxCarouselPages}).`,\n        invalidInitialPageIndex: (initialPageIndex: number) =>\n            `InitialPage for carousel is invalid (${initialPageIndex}).`,\n        columnAlreadyBelongsToAnotherSet: () => \"This column already belongs to another ColumnSet.\",\n        invalidCardType: () =>\n            `Invalid or missing card type. Make sure the card's type property is set to \"AdaptiveCard\".`,\n        unsupportedCardVersion: (version: string, maxSupportedVersion: string) =>\n            `The specified card version (${version}) is not supported or still in preview. The latest released card version is ${maxSupportedVersion}.`,\n        duplicateId: (id: string) => `Duplicate Id \"${id}\".`,\n        markdownProcessingNotEnabled: () =>\n            \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\",\n        processMarkdownEventRemoved: () =>\n            \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\",\n        elementAlreadyParented: () => \"The element already belongs to another container.\",\n        actionAlreadyParented: () => \"The action already belongs to another element.\",\n        elementTypeNotStandalone: (typeName: string) =>\n            `Elements of type ${typeName} cannot be used as standalone elements.`,\n        invalidInputLabelWidth: () =>\n            `Invalid input label width. Defaulting to label width from host config.`,\n    };\n    static readonly magicCodeInputCard = {\n        tryAgain: () => \"That didn't work... let's try again.\",\n        pleaseLogin: () =>\n            'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n        enterMagicCode: () => \"Enter magic code\",\n        pleaseEnterMagicCodeYouReceived: () => \"Please enter the magic code you received.\",\n        submit: () => \"Submit\",\n        cancel: () => \"Cancel\",\n        somethingWentWrong: () => \"Something went wrong. This action can't be handled.\",\n        authenticationFailed: () => \"Authentication failed.\"\n    };\n    static readonly runtime = {\n        automaticRefreshPaused: () => \"Automatic refresh paused.\",\n        clckToRestartAutomaticRefresh: () => \"Click to restart.\",\n        refreshThisCard: () => \"Refresh this card\"\n    };\n    static readonly hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: () =>\n            \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\"\n    };\n    static readonly defaults = {\n        inlineActionTitle: () => \"Inline Action\",\n        overflowButtonText: () => \"...\",\n        overflowButtonTooltip: () => \"More options\",\n        emptyElementText: (elementType: string) => `Empty ${elementType}`,\n        mediaPlayerAriaLabel: () => \"Media content\",\n        mediaPlayerPlayMedia: () => \"Play media\",\n        youTubeVideoPlayer: () => \"YouTube video player\",\n        vimeoVideoPlayer: () => \"Vimeo video player\",\n        dailymotionVideoPlayer: () => \"Dailymotion video player\",\n        carouselNavigationPreviousTooltip: () => \"Previous carousel page\",\n        carouselNavigationNextTooltip: () => \"Next carousel page\"\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    CardElement,\n    StylableCardElementContainer,\n    SerializationContext,\n    Container,\n    ContainerStyleProperty\n} from \"./card-elements\";\nimport {\n    HorizontalAlignment,\n    VerticalAlignment,\n    SizeUnit,\n    ValidationEvent,\n    TypeErrorType,\n    Spacing\n} from \"./enums\";\nimport { TextStyleDefinition } from \"./host-config\";\nimport { GlobalRegistry } from \"./registry\";\nimport {\n    BaseSerializationContext,\n    BoolProperty,\n    CustomProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    PropertyDefinition,\n    SerializableObject,\n    SerializableObjectCollectionProperty,\n    Versions\n} from \"./serialization\";\nimport { SizeAndUnit, PaddingDefinition } from \"./shared\";\nimport { Strings } from \"./strings\";\nimport { stringToCssColor } from \"./utils\";\n\nexport class TableColumnDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    static readonly widthProperty = new CustomProperty<SizeAndUnit>(\n        Versions.v1_5,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, SizeUnit.Weight);\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit,\n            context: BaseSerializationContext\n        ) => {\n            if (value.unit === SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            } else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        },\n        new SizeAndUnit(1, SizeUnit.Weight)\n    );\n\n    @property(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    @property(TableColumnDefinition.widthProperty)\n    width: SizeAndUnit = new SizeAndUnit(1, SizeUnit.Weight);\n\n    getSchemaKey(): string {\n        return \"ColumnDefinition\";\n    }\n\n    //#endregion\n\n    computedWidth: SizeAndUnit;\n}\n\nexport abstract class StylableContainer<\n    T extends CardElement\n> extends StylableCardElementContainer {\n    private _items: T[] = [];\n\n    private parseItem(source: any, context: SerializationContext): T | undefined {\n        return context.parseCardObject<T>(\n            this,\n            source,\n            [], // Forbidden types not supported for elements for now\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return this.createItemInstance(typeName);\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected abstract getCollectionPropertyName(): string;\n    protected abstract createItemInstance(typeName: string): T | undefined;\n\n    protected internalAddItem(item: T) {\n        if (!item.parent) {\n            this._items.push(item);\n\n            item.setParent(this);\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected internalRemoveItem(item: T): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected internalIndexOf(item: T): number {\n        return this._items.indexOf(item);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._items = [];\n\n        const items = source[this.getCollectionPropertyName()];\n\n        if (Array.isArray(items)) {\n            for (const item of items) {\n                const instance = this.parseItem(item, context);\n\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    }\n\n    removeItem(item: T): boolean {\n        return this.internalRemoveItem(item);\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): T {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    }\n\n    getLastVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    }\n}\n\nexport type CellType = \"data\" | \"header\";\n\nexport class TableCell extends Container {\n    private _columnIndex: number = -1;\n    private _cellType: CellType = \"data\";\n\n    protected getHasBorder(): boolean {\n        return this.parentRow.parentTable.showGridLines;\n    }\n\n    protected applyBorder() {\n        if (this.renderedElement && this.getHasBorder()) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.parentRow.parentTable.gridStyle\n            );\n\n            if (styleDefinition.borderColor) {\n                const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(Spacing.Small, Spacing.Small, Spacing.Small, Spacing.Small)\n            : super.getDefaultPadding();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const cellElement = super.internalRender();\n\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n\n        return cellElement;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"TableCell\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    getEffectiveHorizontalAlignment(): HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const horizontalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).horizontalCellContentAlignment;\n\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n\n        return super.getEffectiveHorizontalAlignment();\n    }\n\n    getEffectiveVerticalContentAlignment(): VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const verticalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).verticalCellContentAlignment;\n\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n\n        return super.getEffectiveVerticalContentAlignment();\n    }\n\n    get columnIndex(): number {\n        return this._columnIndex;\n    }\n\n    get cellType(): CellType {\n        return this._cellType;\n    }\n\n    get parentRow(): TableRow {\n        return this.parent as TableRow;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class TableRow extends StylableContainer<TableCell> {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_5, \"style\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(TableRow.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableRow.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(Spacing.None, Spacing.None, Spacing.None, Spacing.None);\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = stringToCssColor(styleDefinition.backgroundColor);\n\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"cells\";\n    }\n\n    protected createItemInstance(typeName: string): TableCell | undefined {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const isFirstRow = this.getIsFirstRow();\n        const cellSpacing = this.hostConfig.table.cellSpacing;\n\n        const rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n\n        for (let i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            const cell = this.getItemAt(i);\n\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n\n            const renderedCell = cell.render();\n\n            if (renderedCell) {\n                const column = this.parentTable.getColumnAt(i);\n\n                if (column.computedWidth.unit === SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                } else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n\n                rowElement.appendChild(renderedCell);\n            }\n        }\n\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    addCell(cell: TableCell) {\n        this.internalAddItem(cell);\n    }\n\n    removeCellAt(columnIndex: number): boolean {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    ensureHasEnoughCells(cellCount: number) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TableRow\";\n    }\n\n    getIsFirstRow(): boolean {\n        return this.parentTable.getItemAt(0) === this;\n    }\n\n    get parentTable(): Table {\n        return this.parent as Table;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class Table extends StylableContainer<TableRow> {\n    //#region Schema\n\n    private static readonly _columnsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_5,\n        \"columns\",\n        TableColumnDefinition\n    );\n\n    static readonly firstRowAsHeadersProperty = new BoolProperty(\n        Versions.v1_5,\n        \"firstRowAsHeaders\",\n        true\n    );\n    static readonly showGridLinesProperty = new BoolProperty(Versions.v1_5, \"showGridLines\", true);\n    static readonly gridStyleProperty = new ContainerStyleProperty(Versions.v1_5, \"gridStyle\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(Table._columnsProperty)\n    private _columns: TableColumnDefinition[] = [];\n\n    @property(Table.firstRowAsHeadersProperty)\n    firstRowAsHeaders: boolean = true;\n\n    @property(Table.showGridLinesProperty)\n    showGridLines: boolean = true;\n\n    @property(Table.gridStyleProperty)\n    get gridStyle(): string | undefined {\n        const style = this.getValue(Table.gridStyleProperty);\n\n        if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n            return style;\n        }\n\n        return undefined;\n    }\n\n    set gridStyle(value: string | undefined) {\n        this.setValue(Table.gridStyleProperty, value);\n    }\n\n    @property(Table.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(Table.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    private ensureRowsHaveEnoughCells() {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    }\n\n    private removeCellsFromColumn(columnIndex: number) {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"rows\";\n    }\n\n    protected createItemInstance(typeName: string): TableRow | undefined {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    }\n\n    protected internalParse(source: PropertyBag, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.getItemCount() > 0) {\n            let totalWeights: number = 0;\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Pixel) {\n                    column.computedWidth = new SizeAndUnit(\n                        column.width.physicalSize,\n                        SizeUnit.Pixel\n                    );\n                } else {\n                    column.computedWidth = new SizeAndUnit(\n                        (100 / totalWeights) * column.width.physicalSize,\n                        SizeUnit.Weight\n                    );\n                }\n            }\n\n            const tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n\n            if (this.showGridLines) {\n                const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                    this.gridStyle\n                );\n\n                if (styleDefinition.borderColor) {\n                    const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n\n            const cellSpacing = this.hostConfig.table.cellSpacing;\n\n            for (let i = 0; i < this.getItemCount(); i++) {\n                const renderedRow = this.getItemAt(i).render();\n\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        const separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n\n                        tableElement.appendChild(separatorRow);\n                    }\n\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n\n            return tableElement;\n        }\n\n        return undefined;\n    }\n\n    addColumn(column: TableColumnDefinition) {\n        this._columns.push(column);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    removeColumn(column: TableColumnDefinition) {\n        const index = this._columns.indexOf(column);\n\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n\n            this._columns.splice(index, 1);\n        }\n    }\n\n    getColumnCount(): number {\n        return this._columns.length;\n    }\n\n    getColumnAt(index: number): TableColumnDefinition {\n        return this._columns[index];\n    }\n\n    addRow(row: TableRow) {\n        this.internalAddItem(row);\n\n        row.ensureHasEnoughCells(this.getColumnCount());\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    getJsonTypeName(): string {\n        return \"Table\";\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Table\", Table, Versions.v1_5);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nabstract class AbstractTextFormatter {\n    private _regularExpression: RegExp;\n\n    protected abstract internalFormat(lang: string | undefined, matches: RegExpExecArray): string;\n\n    constructor(regularExpression: RegExp) {\n        this._regularExpression = regularExpression;\n    }\n\n    format(lang: string | undefined, input: string | undefined): string | undefined {\n        let matches;\n\n        if (input) {\n            let result = input;\n\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n\n            return result;\n        } else {\n            return input;\n        }\n    }\n}\n\nclass DateFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n        const format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            } as Intl.DateTimeFormatOptions);\n        } else {\n            return date.toLocaleDateString();\n        }\n    }\n}\n\nclass TimeFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    }\n}\n\nexport function formatText(lang: string | undefined, text: string | undefined): string | undefined {\n    const formatters: AbstractTextFormatter[] = [\n        new DateFormatter(\n            /\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g\n        ),\n        new TimeFormatter(\n            /\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g\n        )\n    ];\n\n    let result = text;\n\n    for (const formatter of formatters) {\n        result = formatter.format(lang, result);\n    }\n\n    return result;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Shared from \"./shared\";\n\n// To work around TypeScript complaining about documentMode not being declared\n// on type Document\ndeclare global {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    interface Document {\n        documentMode?: any;\n    }\n}\n\nexport function isInternetExplorer(): boolean {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\n\nexport function isMobileOS(): boolean {\n    const userAgent = window.navigator.userAgent;\n\n    return (\n        !!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i)\n    );\n}\n\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nexport function generateUniqueId(): string {\n    return \"__ac-\" + Shared.UUID.generate();\n}\n\nexport function appendChild(node: Node, child: Node | undefined) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\n\nexport function parseString(obj: any, defaultValue?: string): string | undefined {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\n\nexport function parseNumber(obj: any, defaultValue?: number): number | undefined {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\n\nexport function parseBool(value: any, defaultValue?: boolean): boolean | undefined {\n    if (typeof value === \"boolean\") {\n        return value;\n    } else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n\n    return defaultValue;\n}\n\nexport function getEnumValueByName(\n    enumType: { [s: number]: string },\n    name: string\n): number | undefined {\n    // eslint-disable-next-line guard-for-in\n    for (const key in enumType) {\n        const keyAsNumber = parseInt(key, 10);\n\n        if (keyAsNumber >= 0) {\n            const value = enumType[key];\n\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n\n    return undefined;\n}\n\nexport function parseEnum(\n    enumType: { [s: number]: string },\n    name: string,\n    defaultValue?: number\n): number | undefined {\n    if (!name) {\n        return defaultValue;\n    }\n\n    const enumValue = getEnumValueByName(enumType, name);\n\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\n\nexport function stringToCssColor(color: string | undefined): string | undefined {\n    if (color) {\n        const regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        const matches = regEx.exec(color);\n\n        if (matches && matches[4]) {\n            const a = parseInt(matches[1], 16) / 255;\n            const r = parseInt(matches[2], 16);\n            const g = parseInt(matches[3], 16);\n            const b = parseInt(matches[4], 16);\n\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n\n    return color;\n}\n\nfunction truncateWorker(\n    element: HTMLElement,\n    maxHeight: number,\n    fullText: string,\n    truncateAt: (text: string, idx: number) => void,\n    lineHeight?: number\n) {\n    const fits = () => {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n\n    if (fits()) {\n        return;\n    }\n\n    const breakableIndices = findBreakableIndices(fullText);\n    let lo = 0;\n    let hi = breakableIndices.length;\n    let bestBreakIdx = 0;\n\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        const mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        } else {\n            hi = mid;\n        }\n    }\n\n    truncateAt(fullText, bestBreakIdx);\n\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        let idx = findNextCharacter(fullText, bestBreakIdx);\n\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            } else {\n                break;\n            }\n        }\n\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\n\nexport function truncateText(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerText,\n        (text: string, idx: number) => {\n            element.innerText = text.substring(0, idx) + \"...\";\n        },\n        lineHeight\n    );\n}\n\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nconst ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: (value) => value\n});\n\n/** @deprecated Use {@link truncateText} instead. */\nexport function truncate(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerHTML,\n        (text: string, idx: number) => {\n            const truncatedString = text.substring(0, idx) + \"...\";\n            const truncatedHTML =\n                ttDeprecatedPolicy?.createHTML(truncatedString) ?? truncatedString;\n            element.innerHTML = truncatedHTML as string;\n        },\n        lineHeight\n    );\n}\n\nfunction findBreakableIndices(html: string): number[] {\n    const results: number[] = [];\n    let idx = findNextCharacter(html, -1);\n\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n\n        idx = findNextCharacter(html, idx);\n    }\n\n    return results;\n}\n\nfunction findNextCharacter(html: string, currIdx: number): number {\n    currIdx += 1;\n\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n\n    return currIdx;\n}\n\nexport function getFitStatus(element: HTMLElement, containerEnd: number): Enums.ContainerFitStatus {\n    const start = element.offsetTop;\n    const end = start + element.clientHeight;\n\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    } else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    } else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\n\nexport function getScrollX(): number {\n    return window.pageXOffset;\n}\n\nexport function getScrollY(): number {\n    return window.pageYOffset;\n}\n\nexport function clearElementChildren(element: HTMLElement) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n\nexport function addCancelSelectActionEventHandler(element: HTMLElement) {\n    element.onclick = (e) => {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\n\nexport function debounce(fn: (...args: unknown[]) => unknown, delay: number) {\n    let timer: NodeJS.Timeout;\n    function debouncedFn(...args: unknown[]) {\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(() => {\n            fn(...args);\n        }, delay);\n    }\n    return debouncedFn;\n}\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n\n    if (exact === void 0) {\n      exact = false;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = function (duration) {\n    if (duration === void 0) {\n      duration = swiper.params.speed;\n    }\n\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handleFocus = e => {\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    on\n  } = _ref;\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    once\n  } = _ref;\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd(_ref2) {\n    let {\n      currentPos\n    } = _ref2;\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid(_ref) {\n  let {\n    swiper,\n    extendParams\n  } = _ref;\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation(_ref) {\n  let {\n    swiper\n  } = _ref;\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd(_ref) {\n  let {\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  } = _ref;\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -2 * progress;\n      let tXAdd = 8 - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(402);\n"],"names":["root","factory","exports","module","define","amd","this","ActivityRequestTrigger","ActivityRequestError","code","message","request","ActivityResponse","rawContent","SuccessResponse","error","ErrorResponse","auth","_auth","buttons","button","type","undefined","value","URL","signinButton","e","tokenExchangeResource","LoginRequestResponse","logEvent","level","GlobalSettings","applets","logEnabled","onLogEvent","optionalParams","Enums","LogLevel","Warning","console","warn","Error","log","action","trigger","consecutiveActions","attemptNumber","retryAsync","onSend","_allowAutomaticCardUpdate","renderedElement","document","createElement","className","style","position","display","flexDirection","_cardHostElement","_refreshButtonHostElement","appendChild","displayCard","card","Utils","clearElementChildren","showManualRefreshButton","refreshAction","onShowManualRefreshButton","renderedRefreshButton","onRenderManualRefreshButton","Strings","runtime","refreshThisCard","refresh","mode","RefreshMode","Automatic","autoRefreshPausedMessage","automaticRefreshPaused","length","clckToRestartAutomaticRefresh","cardPayload","version","body","horizontalAlignment","inlines","text","selectAction","id","AdaptiveCard","parse","SerializationContext","Versions","v1_2","onExecuteAction","internalExecuteAction","render","removeProperty","createActivityRequest","ActivityRequest","sender","internalSendActivityRequestAsync","onPrepareActivityRequest","createMagicCodeInputCard","payload","color","wrap","placeholder","actions","AdaptiveApplet","_submitMagicCodeActionId","title","_cancelMagicCodeAuthActionId","cancelAutomaticRefresh","createSerializationContext","onCreateSerializationContext","internalSetCard","_cardPayload","hostConfig","serializationContext","onCardChanging","_card","authentication","onPrefetchSSOToken","Manual","onInputValueChanged","input","ChoiceSetInput","isDynamicTypeahead","filter","getFilterForDynamicSearch","dataQueryAction","DataQuery","dataset","choicesData","count","skip","_choiceSet","onCardChanged","maximumConsecutiveAutomaticRefreshes","timeBetweenAutomaticRefreshes","Info","window","setTimeout","Disabled","allowManualRefreshesAfterAutomaticRefreshes","UniversalAction","channelAdapter","onAction","createProgressOverlay","_progressOverlay","onCreateProgressOverlay","spinner","width","height","removeProgressOverlay","onRemoveProgressOverlay","removeChild","activityRequestSucceeded","response","parsedContent","onActivityRequestSucceeded","activityRequestFailed","onActivityRequestFailed","defaultTimeBetweenRetryAttempts","showAuthCodeInputDialog","onShowAuthCodeInputDialog","authCodeInputCard","submitMagicCodeAction","SubmitAction","authCode","data","alert","magicCodeInputCard","somethingWentWrong","ExecuteAction","internalSendExecuteRequestAsync","internalSendDataQueryRequestAsync","overlay","done","sendRequestAsync","JSON","maximumRetryAttempts","Promise","resolve","_reject","attemptOAuth","onSSOTokenNeeded","onShowSigninPrompt","left","screenX","outerWidth","authPromptWidth","screenY","outerHeight","authPromptHeight","open","authenticationFailed","stringify","showLoadingIndicator","showErrorIndicator","removeLoadingIndicator","rawResponse","parsedResponse","renderChoices","refreshCard","setCard","clearElement","element","trustedHtml","trustedTypes","emptyHTML","innerHTML","renderSeparation","separationDefinition","orientation","spacing","lineThickness","separator","makeCssClassName","Orientation","Horizontal","setAttribute","lineColor","stringToCssColor","paddingTop","marginBottom","borderBottom","paddingLeft","marginRight","borderRight","overflow","flex","_truncatedDueToOverflow","getValue","CardElement","langProperty","parent","lang","setValue","isVisibleProperty","useAdvancedCardBottomTruncation","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","_renderedElement","raiseElementVisibilityChangedEvent","toString","internalRenderSeparator","renderedSeparator","getEffectiveSpacing","separatorOrientation","alwaysBleedSeparators","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","paddingDefinitionToSpacingDefinition","marginLeft","right","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","_separatorElement","isFirstElement","hideElementDueToOverflow","visibility","showElementHiddenDueToOverflow","handleOverflow","maxHeight","isHiddenDueToOverflow","handled","truncateOverflow","resetOverflow","sizeChanged","getDefaultSerializationContext","createPlaceholderElement","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","foregroundColors","default","subtle","border","padding","minHeight","fontSize","innerText","defaults","emptyElementText","getJsonTypeName","adjustRenderedElementSize","updateInputsVisualState","hover","allInputs","getAllInputs","inputEventType","InputEventType","MouseEnterOnCard","MouseLeaveOnCard","forEach","updateVisualState","isDisplayed","offsetHeight","overrideInternalRender","internalRender","applyPadding","separatorElement","isBleeding","PaddingDefinition","getImmediateSurroundingPadding","physicalPadding","_maxHeight","getDefaultPadding","getHasBackground","ignoreBackgroundImages","getHasBorder","getPadding","_padding","setPadding","shouldSerialize","context","elementRegistry","findByName","ContainerStyle","Default","source","asString","getEffectiveStyle","defaultStyle","containerStyles","getStyleByName","getEffectiveTextStyleDefinition","textStyles","getForbiddenActionTypes","result","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","top","Spacing","None","bottom","getActionCount","getActionAt","index","errors","indexOutOfRange","indexOfAction","i","remove","CardElementContainer","removeItem","customCssSelector","classList","add","boxSizing","updateLayout","_processChildren","updateActionsEnabledState","getRootElement","getAllActions","updateEnabledState","indexOf","_cardElement","rootElement","designMode","_element","isLastElement","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isAtTheVeryBottom","isBleedingAtTop","isBleedingAtBottom","getRootObject","currentElement","Container","processActions","push","getResourceInformation","getElementById","getActionById","_id","getElementByIdFromAction","ShowCardAction","getEffectiveHorizontalAlignment","HorizontalAlignment","Left","_hostConfig","defaultHostConfig","_parent","StringProperty","v1_1","BoolProperty","separatorProperty","v1_0","heightProperty","ValueSetProperty","horizontalAlignmentProperty","EnumProperty","spacingProperty","property","CardObject","targetVersion","name","forbiddenActionTypes","parseAction","toJSON","target","serializeValue","PropertyDefinition","ActionProperty","ariaHidden","populateSchema","schema","BaseTextBlock","selectActionProperty","textProperty","setText","getFontSize","fontType","effectiveSize","TextSize","Small","fontSizes","small","Medium","medium","Large","large","ExtraLarge","extraLarge","getColorDefinition","colorSet","TextColor","Accent","accent","Dark","dark","Light","light","Good","good","warning","Attention","attention","init","textDefinition","size","weight","isSubtle","applyStylesTo","targetElement","getFontTypeDefinition","effectiveFontType","fontFamily","fontWeight","colorDefinition","effectiveColor","targetColor","effectiveIsSubtle","effectiveWeight","TextWeight","Lighter","fontWeights","lighter","Bolder","bolder","sizeProperty","weightProperty","colorProperty","isSubtleProperty","fontTypeProperty","FontType","_treatAsPlainText","useMarkdown","restoreOriginalContent","maxLines","_computedLineHeight","originalHtml","TextBlock","_ttRoundtripPolicy","createHTML","_originalInnerHtml","truncateIfSupported","children","isTextOnly","tagName","toLowerCase","truncateText","_processedText","preProcessedText","preProcessPropertyValue","forElementId","labelElement","htmlFor","headingLevel","textBlock","supportsInteractivity","onclick","isEffectivelyEnabled","preventDefault","cancelBubble","execute","setupElementForAccessibility","formattedText","TextFormatters","formatText","allowMarkForTextHighlighting","replace","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","highlightBackgroundColor","highlightForegroundColor","processedHtml","_ttMarkdownPolicy","firstElementChild","HTMLElement","marginTop","textOverflow","lastElementChild","anchors","getElementsByTagName","anchor","raiseAnchorClickedEvent","oncontextmenu","Array","from","wordWrap","isInternetExplorer","useWebkitLineClamp","webkitBoxOrient","webkitLineClamp","whiteSpace","useAdvancedTextBlockTruncation","Center","textAlign","Right","lineHeights","lineHeight","processChildren","wrapProperty","maxLinesProperty","NumProperty","styleProperty","v1_5","createPolicy","italic","strikethrough","highlight","underline","href","getHref","fontStyle","textDecoration","backgroundColor","highlightColors","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","v1_3","TextRun","_inlines","internalAddInline","inline","forceAdd","isInline","elementCannotBeUsedAsInline","inlineAlreadyParented","setParent","internalParse","isArray","jsonInline","textRun","parseElement","internalToJSON","jsonInlines","renderedInlines","renderedInline","getInlineCount","getInlineAt","addInline","removeInline","splice","RichTextBlock","getSchemaKey","titleProperty","valueProperty","Fact","SerializableObject","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","factSet","tdElement","maxWidth","verticalAlign","factsProperty","SerializableObjectCollectionProperty","FactSet","internalName","fallbackProperty","getInternalName","sourceValue","defaultValue","isValid","SizeAndUnit","unit","SizeUnit","Pixel","physicalSize","isValidValue","logParseEvent","ValidationEvent","InvalidPropertyValue","invalidPropertyValue","isNaN","Size","Auto","ImageStyle","applySize","pixelWidth","pixelHeight","imageSizes","Stretch","url","alignItems","justifyContent","imageElement","renderedImageElement","onload","_e","raiseImageLoadedEvent","onerror","errorElement","minWidth","onkeypress","Person","borderRadius","backgroundPosition","backgroundRepeat","setImageSource","altTextProperty","Image","alt","mimeType","imageForceLoader","ImageForceLoader","forceLoad","configureImage","src","urlProperty","resetImage","backgroundColorProperty","pixelWidthProperty","ImageDimensionProperty","pixelHeightProperty","shouldForceLoadProperty","v1_6","doForceLoad","uniqueHash","Date","now","urlWithForceLoadOption","image","allowVerticalOverflow","isSelectable","isElementAllowed","isInteractive","SpacingDefinition","paddingRight","paddingBottom","forbiddenChildElements","releaseDOMResources","getItemCount","getItemAt","internalValidateProperties","item","addFailure","InteractivityNotAllowed","interactivityNotAllowed","elementTypeNotAllowed","_selectAction","overflowX","overflowY","findDOMNodeOwner","node","_images","imageSize","ImageSize","presentationStyle","ImageSetPresentationStyle","pixelOffset","flexWrap","imageSet","maxImageHeight","renderedImage","margin","Stacked","applyStackedPresentationStyle","dimension","StackedImageConfigurator","parseNumericPixelDimension","bgColor","getEffectiveBackgroundColor","configureImagesArrayAsStackedLayout","getFirstVisibleRenderedItem","getLastVisibleRenderedItem","itemIndex","addImage","cardElement","imagesProperty","imageSizeProperty","imagePresentationStyle","ImageSet","offset","sign45","maxImageCounts","normalizationConstant","Math","max","moveImageRight","moveImageUp","moveImageDown","makeImageRound","applyBorder","configureImageForBottomLeft","zIndex","configureImageForTopRight","elements","substring","parseInt","mimeTypeProperty","ContentSource","label","kind","labelProperty","CaptionSource","MediaSource","play","_posterUrl","MediaPlayer","owner","_selectedSources","_captionSources","processSources","_selectedMediaType","sources","mimeComponents","split","HTML5MediaPlayer","supportedMediaTypes","captionSources","canPlay","fetchVideoDetails","_mediaElement","altText","mediaPlayerAriaLabel","autoplay","controls","isMobileOS","muted","preload","renderedSource","captionSource","renderedCaptionSource","matches","CustomMediaPlayer","iFrameTitle","_videoId","container","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","IFrameMediaMediaPlayer","oEmbedUrl","fetch","ok","json","posterUrl","videoId","VimeoPlayer","apiUrl","DailymotionPlayer","_startTimeIndex","YouTubePlayer","createMediaPlayer","Media","customMediaPlayers","provider","urlPatterns","exec","handlePlayButtonInvoke","event","media","allowInlinePlayback","mediaPlayerElement","_mediaPlayer","focus","onPlay","displayPoster","poster","defaultPoster","parentNode","playButtonOuterElement","tabIndex","mediaPlayerPlayMedia","playButtonInnerElement","playButtonArrowWidth","playButtonArrowHeight","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","playButtonContainer","then","mediaSource","selectedMediaType","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","sourcesProperty","captionSourcesProperty","posterProperty","inputStyle","InputStyle","getAllLabelIds","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","updateInputControlAriaLabelledBy","_renderedInputControlElement","join","removeAttribute","_inputControlContainerElement","_outerContainerElement","labelPosition","InputLabelPosition","Inline","renderedInputControlId","generateUniqueId","labelRichTextBlock","labelInline","isRequired","inputs","requiredInputs","isRequiredCueInline","suffix","suffixColor","optionalInputs","alignSelf","inputSpacing","isNullable","labelWidth","Weight","labelWidthInPercent","labelWidthInPixel","defaultLabelWidth","InitialRender","onblur","ev","FocusLeave","resetDirtyState","valueChanged","onInputValueChangedHandler","resetValidationFailureCue","onValueChanged","renderedInputControlElement","showValidationErrorMessage","errorMessage","displayInputValidationErrors","errorMessageTextBlock","allowRevealOnHoverStyle","shouldHideInputAdornersForRevealOnHover","eventType","isInputInFocus","activeElement","inputHoverClassName","isMouseOverCard","contains","RevealOnHover","isDirty","_oldValue","PropertyCantBeNull","inputsMustHaveUniqueId","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","validateValue","isSet","isRequiredProperty","errorMessageProperty","inputStyleProperty","labelWidthProperty","CustomProperty","prop","invalidLabelWidth","invalidInputLabelWidth","serializeNumber","labelPositionProperty","Above","Input","isMultiline","InputTextStyle","Text","setupInput","maxLength","oninput","ctrlKey","inlineAction","Password","renderedInputControl","iconUrl","textContent","inlineActionTitle","inputControlContainerElement","regex","RegExp","test","maxLengthProperty","isMultilineProperty","placeholderProperty","Tel","Url","Email","inlineActionProperty","regexProperty","TextInput","valueOn","valueOff","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","checked","_oldCheckboxValue","onchange","useMarkdownInRadioButtonAndCheckbox","spacerElement","valueOnProperty","valueOffProperty","ToggleInput","Choice","typeProperty","datasetProperty","countProperty","skipProperty","ChoiceSetInputDataQuery","isMultiSelect","choices","getUniqueCategoryName","uniqueCategoryName","_uniqueCategoryCounter","_filteredChoiceSet","textInput","fetchedChoices","processResponse","createPlaceholderOptionWhenValueDoesNotExist","placeholderOption","selected","disabled","hidden","internalApplyAriaCurrent","_selectElement","options","option","renderCompoundInput","cssClassName","defaultValues","_toggleInputs","_labels","choice","_uniqueCategoryName","compoundInput","FilteredChoiceSet","_textInput","onInputChangeEventHandler","debounce","processStaticChoices","debounceTimeInMilliSeconds","choiceSetInputValueSeparator","inputContainer","dataList","append","isCompact","appearance","CollectionCantBeEmpty","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","dynamicChoices","toggleInput","selectedIndex","choicesProperty","choicesDataProperty","SerializableObjectProperty","isMultiSelectProperty","choiceSetId","_choiceSetId","_choices","_dynamicChoices","_visibleChoiceCount","choiceSetContainer","onkeydown","key","focusChoice","_dropdown","child","firstChild","nextSibling","createChoice","addEventListener","click","onmouseover","textLength","setSelectionRange","filterChoices","isDynamic","matchIndex","matchedText","choiceContainer","getStatusIndicator","_errorIndicator","errorIndicator","_loadingIndicator","loadingIndicator","resetDropdown","showDropdown","hasChildNodes","map","_numberInputElement","min","valueAsNumber","minProperty","maxProperty","NumberInput","_dateInputElement","hideDatePicker","updateInputAdornersVisibility","valueAsDate","minDate","maxDate","DateInput","TimeProperty","convertTimeStringToDate","timeString","_timeInputElement","hideTimePicker","TimeInput","ActionStyle","ActionMode","Primary","_state","_isFocusable","renderButtonContent","titleElement","iconPlacement","ActionIconPlacement","AboveTitle","allowTitleToWrap","iconElement","iconSize","updateCssClasses","parentContainerStyle","isFocusable","Positive","makeCssClassNames","internalGetReferencedInputs","internalPrepareForExecution","_inputs","internalValidateInputs","referencedInputs","Object","keys","actionRegistry","raiseExecuteActionEvent","onExecuteActionHandler","onExecute","prepareForExecution","internalAfterExecute","rootObject","getAriaRole","ariaRole","getAriaRoleFromEnum","role","ActionRole","Button","Link","Menu","MenuItem","Tab","promoteTooltipToLabel","HTMLButtonElement","tooltip","buttonElement","_actionCollection","actionExecuted","getReferencedInputs","invalidInputs","removeAction","validateInputs","isEnabled","iconUrlProperty","Destructive","modeProperty","Secondary","tooltipProperty","isEnabledProperty","roleProperty","Action","disabledUnlessAssociatedInputsChange","_isPrepared","_areReferencedInputsDirty","associatedInputs","current","_originalData","_processedData","resetInputsDirtyStateAfterActionExecution","resetReferencedInputsDirtyState","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","SubmitActionBase","JsonTypeName","verbProperty","v1_4","filterProperty","OpenUrlAction","propertyMustBeSet","targetElements","updateAriaControlsAttribute","elementIds","ToggleVisibilityAction","elementId","addTargetElement","removeTargetElement","targetElementsProperty","parseBool","serializeArray","StringWithSubstitutions","set","parseString","getOriginal","_value","substituteInputValues","ContentTypes","applicationXWwwFormUrlencoded","get","newValue","nameProperty","StringWithSubstitutionProperty","HttpHeader","_ignoreInputValidation","_url","headers","_body","contentType","applicationJson","header","HttpAction","actionHttpHeadersMustHaveNameAndValue","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","effectiveHostConfig","state","jsonCard","showCardMustHaveCard","showCard","actionMode","ShowCardActionMode","Popup","_actions","overflowButtonText","overflowButtonTooltip","getActions","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","PopupMenu","menuItem","onClick","actionToExecute","closePopup","items","onClose","popup","_items","_renderedActions","_owner","isActionAllowed","forbiddenTypes","forbiddenType","constructor","refreshContainer","_actionCardContainer","_actionCard","renderedActionCount","inlineTopMargin","layoutChanged","showActionCard","suppressStyle","raiseEvent","renderedCard","_expandedAction","raiseInlineCardExpandedEvent","collapseExpandedAction","previouslyExpandedAction","expandShowCardAction","afterSelectedAction","renderedAction","actionsOrientation","clear","jsonAction","forbiddenActions","ContainerWithActions","getForbiddenActionNames","addAction","propertyName","validateProperties","maxActions","TooManyActions","tooManyActions","ActionTypeNotAllowed","actionTypeNotAllowed","preExpandSingleShowCardAction","buttonStrip","actionAlignment","ActionAlignment","allowedActions","bind","overflowPrimaryActions","allowMoreThanMaxActionsInOverflowMenu","shouldRenderOverflowActionButton","_overflowAction","OverflowAction","isRootAction","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","raiseRenderOverflowActionsEvent","buttonSpacing","spacer","buttonStripContainer","actionAlreadyParented","expandedAction","actionIndex","ActionCollection","orientationProperty","ActionSet","onGetInitialValue","Emphasis","ContainerStyleProperty","allowCustomStyle","StylableCardElementContainer","applyBackground","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","Padding","explicitStyle","_bleed","minPixelHeight","getHasExpandedAction","getBleed","setBleed","alwaysAllowBleed","bleedProperty","minHeightProperty","PixelSizeProperty","ContainerBase","resetDefaultValues","apply","BackgroundImage","fillMode","FillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","VerticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","_renderedItems","backgroundImageProperty","insertItemAt","forceInsert","elementAlreadyParented","isStandalone","elementTypeNotStandalone","getItemsCollectionPropertyName","applyRTL","rtl","dir","getEffectiveVerticalContentAlignment","renderedItem","placeholderElement","offsetTop","elt","getFitStatus","ContainerFitStatus","FullyInContainer","Overflowing","containerMaxHeight","FullyOutOfContainer","setShouldFallback","jsonItems","collectionPropertyName","removePaddingFromContainersWithBackgroundImage","verticalContentAlignment","isRtl","firstRenderedItem","lastRenderedItem","addItem","insertItemBefore","insertBefore","insertItemAfter","insertAfter","verticalContentAlignmentProperty","rtlProperty","_computedWeight","_context","Vertical","ColumnSet","widthProperty","invalidWidth","compareTo","invalidColumnWidth","Column","_columns","createColumnInstance","parseCardObject","typeName","_errorType","ElementTypeNotAllowed","_renderedColumns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","getColumnAt","weightedColumns","stretchedColumns","Hint","hints","dontUseWeightedAndStrecthedColumnsInSameSet","addColumn","columnAlreadyBelongsToAnotherSet","onImageLoadedHandler","onImageLoaded","onAnchorClickedHandler","onAnchorClicked","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","hide","readOnly","required","parseActions","renderedActions","renderIfEmpty","RefreshActionProperty","RefreshDefinition","actionProperty","userIdsProperty","StringArrayProperty","imageProperty","AuthCardButton","idProperty","uriProperty","providerIdProperty","TokenExchangeResource","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","Authentication","refreshProperty","processMarkdownEventRemoved","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","markdownProcessingNotEnabled","isVersionSupported","bypassVersionCheck","maxVersion","major","minor","_fallbackCard","fallbackElement","versionProperty","adaptiveCard","typeNameProperty","MissingCardType","invalidCardType","UnsupportedCardVersion","unsupportedCardVersion","shouldFallback","setTabIndexAtCardRoot","speak","onmouseenter","onmouseleave","schemaUrl","$schemaProperty","Version","latest","invalidCardVersion","fallbackTextProperty","speakProperty","authenticationProperty","_forbiddenTypes","Set","internalParseCardObject","allowFallback","createInstanceCallback","has","TypeErrorType","ForbiddenType","tryToFallback","enableFallback","UnknownType","fallback","cardObjectParsed","o","onParseAction","onParseElement","forbiddenTypeNames","createInstance","errorType","UnknownElementType","unknownElementType","UnknownActionType","unknownActionType","_elementRegistry","GlobalRegistry","setElementRegistry","_actionRegistry","setActionRegistry","BaseSerializationContext","defaultElements","register","defaultActions","allIds","validationEvents","cardObject","phase","ValidationPhase","Validation","ValidationResults","_shouldFallback","requiresProperty","propertyValue","allowPreProcessingPropertyValues","currentObject","onPreProcessPropertyValue","requires","areAllMet","hostCapabilities","hasOwnProperty","DuplicateId","duplicateId","HostCapabilities","carouselSlide","getForbiddenChildElements","CarouselPage","carouselLoop","carouselOrientation","_pages","_currentIndex","_previousEventType","CarouselInteractionEvent","Pagination","timer","Carousel","timerProperty","carousel","minAutoplayDelay","tooLittleTimeDelay","initialPageProperty","isValidParsedPageIndex","invalidInitialPageIndex","isValidPageIndex","isValidRenderedPageIndex","_renderedPages","collectionSize","_containerForAdorners","carouselHeight","_carouselPageContainer","addPage","page","_carousel","slides","activeIndex","realIndex","jsonPages","createCarouselPageInstance","validateParsing","initialPageIndex","validateOrientationProperties","cardLevelContainer","carouselContainer","containerForAdorners","navigationContainer","carouselWrapper","prevElementDiv","nextElementDiv","updateCssForHorizontalCarousel","updateCssForVerticalCarousel","pagination","addCancelSelectActionEventHandler","requestedNumberOfPages","maxCarouselPages","tooManyCarouselPages","initializeCarouselControl","nextElement","prevElement","paginationElement","nextElementAdjustedForRtl","prevElementAdjustedForRtl","prevElementAdjustedForOrientation","nextElementAdjustedForOrientation","swiperOptions","loop","modules","Navigation","Scrollbar","A11y","History","Keyboard","el","clickable","navigation","prevEl","nextEl","a11y","enabled","keyboard","onlyInViewport","direction","resizeObserver","initialSlide","Autoplay","delay","pauseOnMouseEnter","Swiper","_event","stop","start","on","swiper","raiseCarouselEvent","NavigationNext","NavigationPrevious","currentIndex","paginationEl","bullets","bullet","slideTo","destroyResizeObserver","ariaLabel","carouselNavigationPreviousTooltip","carouselNavigationNextTooltip","createResizeObserver","createCarouselEvent","currentPageId","currentPageIndex","CarouselEvent","onCarouselEventHandler","onCarouselEvent","previousEventType","checkIfCarouselInValidStateForResizeEvent","_observer","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","emit","observe","unobserve","destroyed","loopProperty","carouselHeightProperty","carouselId","activeCarouselPageId","activeCarouselPageIndex","ChannelAdapter","onItemAdded","onItemRemoved","Collection","tab","enter","escape","space","up","down","delete","Constants","_isEnabled","onmouseup","_isOpen","keyDown","_rootElementBounds","renderContent","_popupElement","_overlayElement","documentElement","scrollWidth","scrollHeight","onfocus","rootElementBounds","getBoundingClientRect","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","availableSpaceAbove","availableSpaceRight","innerWidth","availableSpaceLeft","getScrollX","actualPopupHeight","getScrollY","actualPopupWidth","wasCancelled","PopupControl","_selectedIndex","selectedItemIndex","_capabilities","jsonVersion","addCapability","removeCapability","hasCapability","capabilityName","parseHostConfigEnum","targetEnum","parsedValue","parseEnum","defaultColor","subtleColor","obj","ColorDefinition","TextColorDefinition","AdaptiveCardConfig","parseNumber","ImageSetConfig","MediaConfig","cellSpacing","TableConfig","getDefaultWeight","BaseTextDefinition","TextStyleDefinition","heading","columnHeader","TextStyleSet","TextBlockConfig","RequiredInputLabelTextDefinition","InputLabelConfig","InputConfig","FactTextDefinition","FactTitleDefinition","FactSetConfig","ShowCardActionConfig","LeftOfTitle","sizeAndUnit","Shared","ActionsConfig","parseSingleColor","ColorSetDefinition","borderColor","ContainerStyleDefinition","_allStyles","BuiltInContainerStyleDefinition","customStyleArray","customStyle","styleName","isBuiltIn","emphasis","customStyles","ContainerStyleSet","monospace","FontTypeDefinition","getStyleDefinition","Monospace","FontTypeSet","CarouselConfig","table","String","_legacyFontType","fontTypes","paddingDefinition","classNames","cssClassNamePrefix","HostConfig","minAutoplayDuration","copyTo","typeRegistration","objectType","schemaVersion","registrationInfo","unregister","CardObjectRegistry","populateWithDefaultElements","registry","populateWithDefaultActions","_elements","reset","_isValid","_major","_minor","_label","versionString","_versionString","invalidVersionString","otherVersion","getAllDeclaredVersions","ctor","properties","match","sort","v1","v2","_validationEvents","isTemplateString","startsWith","tryDeleteValue","enableFullJsonRoundTrip","tryDeleteDefaultValue","forceDeleteIfNullOrDefault","serializeString","serializeBool","serializeEnum","enumType","serializedItem","clearEvents","Parse","getEventAt","isSerializationEnabled","sequentialNumber","_sequentialNumber","treatEmptyAsUndefined","regEx","values","versionedValue","propertyValueNotSupported","invalidValue","ToJSON","_values","keyAsNumber","enumValue","getEnumValueByName","nullable","serializedValue","hasAllDefaultValues","sourceCollection","sourceItem","onParse","onToJSON","_properties","getCount","SerializableObjectSchema","propertyKey","descriptor","getOwnPropertyDescriptor","defineProperty","_propertyBag","_rawProperties","defaultMaxVersion","s","getSchema","SimpleSerializationContext","sortedProperties","p1","p2","onRegisterCustomProperties","UnsupportedProperty","propertyNotSupported","serializedProperties","effectiveContext","toJSONOriginalParam","hasDefaultValue","setCustomProperty","getCustomProperty","_schemaCache","logLevel","_isProcessed","_original","_processed","matchedInput","valueForReplace","slice","encodeURIComponent","requireUnitSpecifier","expectedMatchCount","generate","d0","random","d1","d2","d3","UUID","lut","initialize","defaultingToVersion","supportedInVersion","versionUsed","maximumActions","maxSupportedVersion","tryAgain","pleaseLogin","enterMagicCode","pleaseEnterMagicCodeYouReceived","submit","cancel","elementType","horizontalCellContentAlignmentProperty","verticalCellContentAlignmentProperty","TableColumnDefinition","parseItem","createItemInstance","internalAddItem","internalRemoveItem","internalIndexOf","getCollectionPropertyName","instance","StylableContainer","_columnIndex","_cellType","parentRow","parentTable","showGridLines","gridStyle","cellElement","cellType","horizontalCellContentAlignment","columnIndex","verticalCellContentAlignment","TableCell","isFirstRow","getIsFirstRow","rowElement","getColumnCount","cell","firstRowAsHeaders","renderedCell","computedWidth","addCell","removeCellAt","ensureHasEnoughCells","cellCount","TableRow","Table","gridStyleProperty","ensureRowsHaveEnoughCells","removeCellsFromColumn","totalWeights","tableElement","borderTop","borderLeft","renderedRow","separatorRow","removeColumn","addRow","row","_columnsProperty","firstRowAsHeadersProperty","showGridLinesProperty","regularExpression","_regularExpression","format","internalFormat","date","toLocaleDateString","day","weekday","month","year","AbstractTextFormatter","toLocaleTimeString","hour","minute","DateFormatter","TimeFormatter","truncateWorker","fullText","truncateAt","fits","breakableIndices","html","results","idx","findNextCharacter","findBreakableIndices","lo","hi","bestBreakIdx","mid","floor","documentMode","userAgent","navigator","a","ttDeprecatedPolicy","currIdx","truncatedString","truncatedHTML","containerEnd","clientHeight","pageXOffset","pageYOffset","fn","clearTimeout","args","isObject","extend","ssrDocument","removeEventListener","blur","nodeName","querySelector","querySelectorAll","createEvent","initEvent","childNodes","createElementNS","importNode","location","hash","host","hostname","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","screen","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","win","Dom7","super","proto","__proto__","makeReactive","arrayFlat","arr","res","arrayFilter","prototype","call","$","selector","trim","toCreate","tempParent","qsa","nodeType","uniqueArray","arrayUnique","noTrigger","shortcut","Methods","addClass","classes","c","removeClass","hasClass","toggleClass","toggle","attr","attrs","arguments","attrName","removeAttr","transition","duration","transitionDuration","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","k","handleEvent","events","j","dom7LiveListeners","proxyListener","dom7Listeners","off","handlers","handler","dom7proxy","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","includeMargins","styles","offsetWidth","parseFloat","box","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","css","props","each","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","closest","find","foundElements","found","methodName","writable","nextTick","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","currentStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","desc","enumerable","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","_ref","targetPosition","side","startPosition","translate","time","startTime","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","support","deviceCached","browser","getSupport","smoothScroll","touch","DocumentTouch","passiveListener","supportsPassive","opts","gestures","calcSupport","priority","self","eventsListeners","method","once","onceHandler","__emitterProxy","_len","_key","onAny","eventsAnyListeners","offAny","eventHandler","_len2","_key2","updateSize","$el","clientWidth","isHorizontal","isVertical","Number","assign","updateSlides","getDirectionLabel","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","previousSlidesLength","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","transitionEmit","runCallbacks","step","internal","initial","indexAsNumber","isFinite","animating","preventInteractionOnTransition","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","setTranslate","transitionStart","isH","t","_immediateVirtual","_swiperImmediateVirtual","behavior","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","diff","loopDestroy","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","which","isTouched","isMoved","noSwipingClass","shadowRoot","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","onResize","setBreakpoint","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","newProgress","previousTranslate","dummyEventAttached","dummyEventListener","touchEvents","device","domMethod","swiperMethod","passiveListeners","passive","move","end","updateOnWindowResize","ios","android","attachEvents","detachEvents","isGridEnabled","addClasses","suffixes","prefix","resultClasses","prepareClasses","fill","emitContainerClasses","removeClasses","createElements","virtualTranslate","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","update","byController","x","y","translateTo","translateBounds","newTranslate","onTranslateToWrapperTransitionEnd","moving","isLocked","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","containerEl","currentHeight","points","point","minRatio","substr","b","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","complete","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","swipers","newParams","overrides","_temp","platform","ua","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","os","calcDevice","isSafari","isWebView","calcBrowser","__modules__","mod","extendParams","swiperParams","passedParams","eventName","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","destroy","deleteInstance","cleanStyles","object","deleteProps","static","newDefaults","m","installModule","prototypeGroup","protoMethod","use","observer","animationFrame","resizeHandler","orientationChangeHandler","_ref2","observers","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","observeSlideChildren","containerParents","disconnect","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","force","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","handle","kc","keyCode","charCode","pageUpDown","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","timeout","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","rtlFactor","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","positions","sign","ignoreWheelEvents","sticky","shift","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","releaseScroll","createElementIfNotDefined","checkProps","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","_s","targetEl","isHidden","classesToSelector","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","dragStartPos","dragSize","trackSize","divider","dragTimeout","scrollbar","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","$swiperEl","dragClass","dragEl","draggable","scrollbarDisabledClass","Parallax","parallax","setTransform","p","currentOpacity","currentScale","_swiper","parallaxEl","$parallaxEl","parallaxDuration","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","onTransitionEnd","zoomIn","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","touchAction","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","removeSpline","controller","control","spline","inverse","by","_t","controlled","controlledTranslate","setControlledTranslate","getInterpolateFunction","setControlledTransition","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","makeElFocusable","makeElNotFocusable","addElRole","addElRoleDescription","description","addElLabel","disableEl","enableEl","onEnterOrSpaceKey","hasPagination","hasClickablePagination","initNavEl","wrapperId","addElControls","handleFocus","includes","isActive","$containerEl","repeat","round","live","addElLive","updateNavigation","bulletEl","updatePagination","keepQuery","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","pop","velocityEvent","distance","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","requireUpdateOnVirtual","overwriteParamsResult","slideShadows","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","rotateX","EffectCoverflow","coverflowEffect","rotate","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","r","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","Symbol","toStringTag"],"sourceRoot":""}