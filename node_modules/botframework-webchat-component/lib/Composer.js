"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _reactSay = require("react-say");

var _botframeworkWebchatCore = require("botframework-webchat-core");

var _createInstance = _interopRequireDefault(require("@emotion/css/create-instance"));

var _createStyleSet = _interopRequireDefault(require("./Styles/createStyleSet"));

var _markdownIt = _interopRequireDefault(require("markdown-it"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _BypassSpeechSynthesisPonyfill = require("./hooks/internal/BypassSpeechSynthesisPonyfill");

var _ActivityTreeComposer = _interopRequireDefault(require("./providers/ActivityTree/ActivityTreeComposer"));

var _addTargetBlankToHyperlinksMarkdown = _interopRequireDefault(require("./Utils/addTargetBlankToHyperlinksMarkdown"));

var _createCSSKey = _interopRequireDefault(require("./Utils/createCSSKey"));

var _createCoreMiddleware = _interopRequireDefault(require("./Middleware/Activity/createCoreMiddleware"));

var _createCoreMiddleware2 = _interopRequireDefault(require("./Middleware/ActivityStatus/createCoreMiddleware"));

var _createCoreMiddleware3 = _interopRequireDefault(require("./Middleware/AttachmentForScreenReader/createCoreMiddleware"));

var _createCoreMiddleware4 = _interopRequireDefault(require("./Middleware/Attachment/createCoreMiddleware"));

var _createCoreMiddleware5 = _interopRequireDefault(require("./Middleware/Avatar/createCoreMiddleware"));

var _createCoreMiddleware6 = _interopRequireDefault(require("./Middleware/CardAction/createCoreMiddleware"));

var _createScrollToEndButtonMiddleware = _interopRequireDefault(require("./Middleware/ScrollToEndButton/createScrollToEndButtonMiddleware"));

var _createCoreMiddleware7 = _interopRequireDefault(require("./Middleware/Toast/createCoreMiddleware"));

var _createCoreMiddleware8 = _interopRequireDefault(require("./Middleware/TypingIndicator/createCoreMiddleware"));

var _Dictation = _interopRequireDefault(require("./Dictation"));

var _downscaleImageToDataURL = _interopRequireDefault(require("./Utils/downscaleImageToDataURL"));

var _ErrorBox = _interopRequireDefault(require("./ErrorBox"));

var _mapMap = _interopRequireDefault(require("./Utils/mapMap"));

var _SendBoxComposer = _interopRequireDefault(require("./providers/internal/SendBox/SendBoxComposer"));

var _UITracker = _interopRequireDefault(require("./hooks/internal/UITracker"));

var _WebChatUIContext = _interopRequireDefault(require("./hooks/internal/WebChatUIContext"));

var _excluded = ["activityMiddleware", "activityStatusMiddleware", "attachmentForScreenReaderMiddleware", "attachmentMiddleware", "avatarMiddleware", "cardActionMiddleware", "children", "extraStyleSet", "renderMarkdown", "scrollToEndButtonMiddleware", "styleSet", "suggestedActionsAccessKey", "toastMiddleware", "typingIndicatorMiddleware", "webSpeechPonyfillFactory"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var useGetActivityByKey = _botframeworkWebchatApi.hooks.useGetActivityByKey,
    useReferenceGrammarID = _botframeworkWebchatApi.hooks.useReferenceGrammarID,
    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions;
var node_env = undefined || "production";
var emotionPool = {};

function styleSetToEmotionObjects(styleToEmotionObject, styleSet) {
  return (0, _mapMap.default)(styleSet, function (style, key) {
    return key === 'options' ? style : styleToEmotionObject(style);
  });
}

var ComposerCore = function ComposerCore(_ref) {
  var children = _ref.children,
      extraStyleSet = _ref.extraStyleSet,
      nonce = _ref.nonce,
      renderMarkdown = _ref.renderMarkdown,
      styleSet = _ref.styleSet,
      suggestedActionsAccessKey = _ref.suggestedActionsAccessKey,
      webSpeechPonyfillFactory = _ref.webSpeechPonyfillFactory;

  var _useState = (0, _react.useState)(),
      _useState2 = _slicedToArray(_useState, 2),
      dictateAbortable = _useState2[0],
      setDictateAbortable = _useState2[1];

  var _useReferenceGrammarI = useReferenceGrammarID(),
      _useReferenceGrammarI2 = _slicedToArray(_useReferenceGrammarI, 1),
      referenceGrammarID = _useReferenceGrammarI2[0];

  var _useStyleOptions = useStyleOptions(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      styleOptions = _useStyleOptions2[0];

  var focusSendBoxCallbacksRef = (0, _react.useRef)([]);
  var focusTranscriptCallbacksRef = (0, _react.useRef)([]);
  var internalMarkdownIt = (0, _react.useMemo)(function () {
    return new _markdownIt.default();
  }, []);
  var scrollToCallbacksRef = (0, _react.useRef)([]);
  var scrollToEndCallbacksRef = (0, _react.useRef)([]); // Instead of having a `scrollUpCallbacksRef` and `scrollDownCallbacksRef`, they are combined into a single `scrollRelativeCallbacksRef`.
  // The first argument tells whether it should go "up" or "down".

  var scrollRelativeCallbacksRef = (0, _react.useRef)([]);
  var dictationOnError = (0, _react.useCallback)(function (err) {
    console.error(err);
  }, []);
  var internalRenderMarkdownInline = (0, _react.useMemo)(function () {
    return function (markdown) {
      var tree = internalMarkdownIt.parseInline(markdown); // We should add rel="noopener noreferrer" and target="_blank"

      var patchedTree = (0, _addTargetBlankToHyperlinksMarkdown.default)(tree);
      return internalMarkdownIt.renderer.render(patchedTree);
    };
  }, [internalMarkdownIt]);
  var styleToEmotionObject = (0, _react.useMemo)(function () {
    // Emotion doesn't hash with nonce. We need to provide the pooling mechanism.
    // 1. If 2 instances use different nonce, they should result in different hash;
    // 2. If 2 instances are being mounted, pooling will make sure we render only 1 set of <style> tags, instead of 2.
    var emotion = // Prefix "id-" to prevent object injection attack.
    emotionPool["id-".concat(nonce)] || (emotionPool["id-".concat(nonce)] = (0, _createInstance.default)({
      key: "webchat--css-".concat((0, _createCSSKey.default)()),
      nonce: nonce
    }));
    return function (style) {
      return emotion.css(style);
    };
  }, [nonce]);
  var patchedStyleSet = (0, _react.useMemo)(function () {
    return styleSetToEmotionObjects(styleToEmotionObject, _objectSpread(_objectSpread({}, styleSet || (0, _createStyleSet.default)(styleOptions)), extraStyleSet));
  }, [extraStyleSet, styleOptions, styleSet, styleToEmotionObject]);
  var webSpeechPonyfill = (0, _react.useMemo)(function () {
    var ponyfill = webSpeechPonyfillFactory && webSpeechPonyfillFactory({
      referenceGrammarID: referenceGrammarID
    });

    var _ref2 = ponyfill || {},
        speechSynthesis = _ref2.speechSynthesis,
        SpeechSynthesisUtterance = _ref2.SpeechSynthesisUtterance;

    return _objectSpread(_objectSpread({}, ponyfill), {}, {
      speechSynthesis: speechSynthesis || _BypassSpeechSynthesisPonyfill.speechSynthesis,
      SpeechSynthesisUtterance: SpeechSynthesisUtterance || _BypassSpeechSynthesisPonyfill.SpeechSynthesisUtterance
    });
  }, [referenceGrammarID, webSpeechPonyfillFactory]);
  var scrollPositionObserversRef = (0, _react.useRef)([]);
  var dispatchScrollPosition = (0, _react.useCallback)(function (event) {
    return scrollPositionObserversRef.current.forEach(function (observer) {
      return observer(event);
    });
  }, [scrollPositionObserversRef]);
  var observeScrollPosition = (0, _react.useCallback)(function (observer) {
    scrollPositionObserversRef.current = [].concat(_toConsumableArray(scrollPositionObserversRef.current), [observer]);
    return function () {
      scrollPositionObserversRef.current = scrollPositionObserversRef.current.filter(function (target) {
        return target !== observer;
      });
    };
  }, [scrollPositionObserversRef]);
  var transcriptFocusObserversRef = (0, _react.useRef)([]);

  var _useState3 = (0, _react.useState)(0),
      _useState4 = _slicedToArray(_useState3, 2),
      numTranscriptFocusObservers = _useState4[0],
      setNumTranscriptFocusObservers = _useState4[1];

  var getActivityByKey = useGetActivityByKey();
  var dispatchTranscriptFocusByActivityKey = (0, _react.useMemo)(function () {
    var prevActivityKey = Symbol();
    return function (activityKey) {
      if (activityKey !== prevActivityKey) {
        prevActivityKey = activityKey;
        var event = {
          activity: getActivityByKey(activityKey)
        };
        transcriptFocusObserversRef.current.forEach(function (observer) {
          return observer(event);
        });
      }
    };
  }, [getActivityByKey, transcriptFocusObserversRef]);
  var observeTranscriptFocus = (0, _react.useCallback)(function (observer) {
    transcriptFocusObserversRef.current = [].concat(_toConsumableArray(transcriptFocusObserversRef.current), [observer]);
    setNumTranscriptFocusObservers(transcriptFocusObserversRef.current.length);
    return function () {
      transcriptFocusObserversRef.current = transcriptFocusObserversRef.current.filter(function (target) {
        return target !== observer;
      });
      setNumTranscriptFocusObservers(transcriptFocusObserversRef.current.length);
    };
  }, [transcriptFocusObserversRef, setNumTranscriptFocusObservers]);
  var context = (0, _react.useMemo)(function () {
    return {
      dictateAbortable: dictateAbortable,
      dispatchScrollPosition: dispatchScrollPosition,
      dispatchTranscriptFocusByActivityKey: dispatchTranscriptFocusByActivityKey,
      focusSendBoxCallbacksRef: focusSendBoxCallbacksRef,
      focusTranscriptCallbacksRef: focusTranscriptCallbacksRef,
      internalMarkdownItState: [internalMarkdownIt],
      internalRenderMarkdownInline: internalRenderMarkdownInline,
      nonce: nonce,
      numTranscriptFocusObservers: numTranscriptFocusObservers,
      observeScrollPosition: observeScrollPosition,
      observeTranscriptFocus: observeTranscriptFocus,
      renderMarkdown: renderMarkdown,
      scrollRelativeCallbacksRef: scrollRelativeCallbacksRef,
      scrollToCallbacksRef: scrollToCallbacksRef,
      scrollToEndCallbacksRef: scrollToEndCallbacksRef,
      setDictateAbortable: setDictateAbortable,
      styleSet: patchedStyleSet,
      styleToEmotionObject: styleToEmotionObject,
      suggestedActionsAccessKey: suggestedActionsAccessKey,
      webSpeechPonyfill: webSpeechPonyfill
    };
  }, [dictateAbortable, dispatchScrollPosition, dispatchTranscriptFocusByActivityKey, focusSendBoxCallbacksRef, focusTranscriptCallbacksRef, internalMarkdownIt, internalRenderMarkdownInline, nonce, numTranscriptFocusObservers, observeScrollPosition, observeTranscriptFocus, patchedStyleSet, renderMarkdown, scrollRelativeCallbacksRef, scrollToCallbacksRef, scrollToEndCallbacksRef, setDictateAbortable, styleToEmotionObject, suggestedActionsAccessKey, webSpeechPonyfill]);
  return /*#__PURE__*/_react.default.createElement(_reactSay.Composer, {
    ponyfill: webSpeechPonyfill
  }, /*#__PURE__*/_react.default.createElement(_WebChatUIContext.default.Provider, {
    value: context
  }, /*#__PURE__*/_react.default.createElement(_SendBoxComposer.default, null, children, /*#__PURE__*/_react.default.createElement(_Dictation.default, {
    onError: dictationOnError
  }))));
};

ComposerCore.defaultProps = {
  children: undefined,
  extraStyleSet: undefined,
  nonce: undefined,
  renderMarkdown: undefined,
  styleSet: undefined,
  suggestedActionsAccessKey: 'A a Å å',
  webSpeechPonyfillFactory: undefined
};
ComposerCore.propTypes = {
  extraStyleSet: _propTypes.default.any,
  nonce: _propTypes.default.string,
  renderMarkdown: _propTypes.default.func,
  styleSet: _propTypes.default.any,
  suggestedActionsAccessKey: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.string]),
  webSpeechPonyfillFactory: _propTypes.default.func
};

var Composer = function Composer(_ref3) {
  var activityMiddleware = _ref3.activityMiddleware,
      activityStatusMiddleware = _ref3.activityStatusMiddleware,
      attachmentForScreenReaderMiddleware = _ref3.attachmentForScreenReaderMiddleware,
      attachmentMiddleware = _ref3.attachmentMiddleware,
      avatarMiddleware = _ref3.avatarMiddleware,
      cardActionMiddleware = _ref3.cardActionMiddleware,
      children = _ref3.children,
      extraStyleSet = _ref3.extraStyleSet,
      renderMarkdown = _ref3.renderMarkdown,
      scrollToEndButtonMiddleware = _ref3.scrollToEndButtonMiddleware,
      styleSet = _ref3.styleSet,
      suggestedActionsAccessKey = _ref3.suggestedActionsAccessKey,
      toastMiddleware = _ref3.toastMiddleware,
      typingIndicatorMiddleware = _ref3.typingIndicatorMiddleware,
      webSpeechPonyfillFactory = _ref3.webSpeechPonyfillFactory,
      composerProps = _objectWithoutProperties(_ref3, _excluded);

  var nonce = composerProps.nonce,
      onTelemetry = composerProps.onTelemetry;
  var patchedActivityMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityMiddleware)), _toConsumableArray((0, _createCoreMiddleware.default)()));
  }, [activityMiddleware]);
  var patchedActivityStatusMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityStatusMiddleware)), _toConsumableArray((0, _createCoreMiddleware2.default)()));
  }, [activityStatusMiddleware]);
  var patchedAttachmentForScreenReaderMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentForScreenReaderMiddleware)), _toConsumableArray((0, _createCoreMiddleware3.default)()));
  }, [attachmentForScreenReaderMiddleware]);
  var patchedAttachmentMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentMiddleware)), _toConsumableArray((0, _createCoreMiddleware4.default)()));
  }, [attachmentMiddleware]);
  var patchedAvatarMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(avatarMiddleware)), _toConsumableArray((0, _createCoreMiddleware5.default)()));
  }, [avatarMiddleware]);
  var patchedCardActionMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(cardActionMiddleware)), _toConsumableArray((0, _createCoreMiddleware6.default)()));
  }, [cardActionMiddleware]);
  var patchedToastMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(toastMiddleware)), _toConsumableArray((0, _createCoreMiddleware7.default)()));
  }, [toastMiddleware]);
  var patchedTypingIndicatorMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(typingIndicatorMiddleware)), _toConsumableArray((0, _createCoreMiddleware8.default)()));
  }, [typingIndicatorMiddleware]);
  var defaultScrollToEndButtonMiddleware = (0, _react.useMemo)(function () {
    return (0, _createScrollToEndButtonMiddleware.default)();
  }, []);
  var patchedScrollToEndButtonMiddleware = (0, _react.useMemo)(function () {
    return [].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(scrollToEndButtonMiddleware)), _toConsumableArray(defaultScrollToEndButtonMiddleware));
  }, [defaultScrollToEndButtonMiddleware, scrollToEndButtonMiddleware]);
  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_botframeworkWebchatApi.Composer, _extends({
    activityMiddleware: patchedActivityMiddleware,
    activityStatusMiddleware: patchedActivityStatusMiddleware,
    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,
    attachmentMiddleware: patchedAttachmentMiddleware,
    avatarMiddleware: patchedAvatarMiddleware,
    cardActionMiddleware: patchedCardActionMiddleware,
    downscaleImageToDataURL: _downscaleImageToDataURL.default // Under dev server of create-react-app, "NODE_ENV" will be set to "development".
    ,
    internalErrorBoxClass: node_env === 'development' ? _ErrorBox.default : undefined,
    nonce: nonce,
    scrollToEndButtonMiddleware: patchedScrollToEndButtonMiddleware,
    toastMiddleware: patchedToastMiddleware,
    typingIndicatorMiddleware: patchedTypingIndicatorMiddleware
  }, composerProps), /*#__PURE__*/_react.default.createElement(_ActivityTreeComposer.default, null, /*#__PURE__*/_react.default.createElement(ComposerCore, {
    extraStyleSet: extraStyleSet,
    nonce: nonce,
    renderMarkdown: renderMarkdown,
    styleSet: styleSet,
    suggestedActionsAccessKey: suggestedActionsAccessKey,
    webSpeechPonyfillFactory: webSpeechPonyfillFactory
  }, children, onTelemetry && /*#__PURE__*/_react.default.createElement(_UITracker.default, null)))));
};

Composer.defaultProps = _objectSpread(_objectSpread(_objectSpread({}, _botframeworkWebchatApi.Composer.defaultProps), ComposerCore.defaultProps), {}, {
  children: undefined
});
Composer.propTypes = _objectSpread(_objectSpread(_objectSpread({}, _botframeworkWebchatApi.Composer.propTypes), ComposerCore.propTypes), {}, {
  children: _propTypes.default.any
});
var _default = Composer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VHZXRBY3Rpdml0eUJ5S2V5IiwiaG9va3MiLCJ1c2VSZWZlcmVuY2VHcmFtbWFySUQiLCJ1c2VTdHlsZU9wdGlvbnMiLCJub2RlX2VudiIsImVtb3Rpb25Qb29sIiwic3R5bGVTZXRUb0Vtb3Rpb25PYmplY3RzIiwic3R5bGVUb0Vtb3Rpb25PYmplY3QiLCJzdHlsZVNldCIsIm1hcE1hcCIsInN0eWxlIiwia2V5IiwiQ29tcG9zZXJDb3JlIiwiY2hpbGRyZW4iLCJleHRyYVN0eWxlU2V0Iiwibm9uY2UiLCJyZW5kZXJNYXJrZG93biIsInN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXkiLCJ3ZWJTcGVlY2hQb255ZmlsbEZhY3RvcnkiLCJ1c2VTdGF0ZSIsImRpY3RhdGVBYm9ydGFibGUiLCJzZXREaWN0YXRlQWJvcnRhYmxlIiwicmVmZXJlbmNlR3JhbW1hcklEIiwic3R5bGVPcHRpb25zIiwiZm9jdXNTZW5kQm94Q2FsbGJhY2tzUmVmIiwidXNlUmVmIiwiZm9jdXNUcmFuc2NyaXB0Q2FsbGJhY2tzUmVmIiwiaW50ZXJuYWxNYXJrZG93bkl0IiwidXNlTWVtbyIsIk1hcmtkb3duSXQiLCJzY3JvbGxUb0NhbGxiYWNrc1JlZiIsInNjcm9sbFRvRW5kQ2FsbGJhY2tzUmVmIiwic2Nyb2xsUmVsYXRpdmVDYWxsYmFja3NSZWYiLCJkaWN0YXRpb25PbkVycm9yIiwidXNlQ2FsbGJhY2siLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJpbnRlcm5hbFJlbmRlck1hcmtkb3duSW5saW5lIiwibWFya2Rvd24iLCJ0cmVlIiwicGFyc2VJbmxpbmUiLCJwYXRjaGVkVHJlZSIsImFkZFRhcmdldEJsYW5rVG9IeXBlcmxpbmtzTWFya2Rvd24iLCJyZW5kZXJlciIsInJlbmRlciIsImVtb3Rpb24iLCJjcmVhdGVFbW90aW9uIiwiY3JlYXRlQ1NTS2V5IiwiY3NzIiwicGF0Y2hlZFN0eWxlU2V0IiwiY3JlYXRlU3R5bGVTZXQiLCJ3ZWJTcGVlY2hQb255ZmlsbCIsInBvbnlmaWxsIiwic3BlZWNoU3ludGhlc2lzIiwiU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwiYnlwYXNzU3BlZWNoU3ludGhlc2lzIiwiQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwic2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYiLCJkaXNwYXRjaFNjcm9sbFBvc2l0aW9uIiwiZXZlbnQiLCJjdXJyZW50IiwiZm9yRWFjaCIsIm9ic2VydmVyIiwib2JzZXJ2ZVNjcm9sbFBvc2l0aW9uIiwiZmlsdGVyIiwidGFyZ2V0IiwidHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzUmVmIiwibnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzIiwic2V0TnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzIiwiZ2V0QWN0aXZpdHlCeUtleSIsImRpc3BhdGNoVHJhbnNjcmlwdEZvY3VzQnlBY3Rpdml0eUtleSIsInByZXZBY3Rpdml0eUtleSIsIlN5bWJvbCIsImFjdGl2aXR5S2V5IiwiYWN0aXZpdHkiLCJvYnNlcnZlVHJhbnNjcmlwdEZvY3VzIiwibGVuZ3RoIiwiY29udGV4dCIsImludGVybmFsTWFya2Rvd25JdFN0YXRlIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiYW55Iiwic3RyaW5nIiwiZnVuYyIsIm9uZU9mVHlwZSIsIm9uZU9mIiwiQ29tcG9zZXIiLCJhY3Rpdml0eU1pZGRsZXdhcmUiLCJhY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUiLCJhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSIsImF0dGFjaG1lbnRNaWRkbGV3YXJlIiwiYXZhdGFyTWlkZGxld2FyZSIsImNhcmRBY3Rpb25NaWRkbGV3YXJlIiwic2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlIiwidG9hc3RNaWRkbGV3YXJlIiwidHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSIsImNvbXBvc2VyUHJvcHMiLCJvblRlbGVtZXRyeSIsInBhdGNoZWRBY3Rpdml0eU1pZGRsZXdhcmUiLCJzaW5nbGVUb0FycmF5IiwiY3JlYXRlRGVmYXVsdEFjdGl2aXR5TWlkZGxld2FyZSIsInBhdGNoZWRBY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUiLCJjcmVhdGVEZWZhdWx0QWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlIiwicGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlIiwiY3JlYXRlRGVmYXVsdEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlIiwicGF0Y2hlZEF0dGFjaG1lbnRNaWRkbGV3YXJlIiwiY3JlYXRlRGVmYXVsdEF0dGFjaG1lbnRNaWRkbGV3YXJlIiwicGF0Y2hlZEF2YXRhck1pZGRsZXdhcmUiLCJjcmVhdGVEZWZhdWx0QXZhdGFyTWlkZGxld2FyZSIsInBhdGNoZWRDYXJkQWN0aW9uTWlkZGxld2FyZSIsImNyZWF0ZURlZmF1bHRDYXJkQWN0aW9uTWlkZGxld2FyZSIsInBhdGNoZWRUb2FzdE1pZGRsZXdhcmUiLCJjcmVhdGVEZWZhdWx0VG9hc3RNaWRkbGV3YXJlIiwicGF0Y2hlZFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUiLCJjcmVhdGVEZWZhdWx0VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSIsImRlZmF1bHRTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUiLCJjcmVhdGVEZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlIiwicGF0Y2hlZFNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSIsImRvd25zY2FsZUltYWdlVG9EYXRhVVJMIiwiRXJyb3JCb3giLCJBUElDb21wb3NlciJdLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXMiOlsiLi4vc3JjL0NvbXBvc2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb3NlciBhcyBBUElDb21wb3NlciwgaG9va3MsIFdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeSB9IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWFwaSc7XG5pbXBvcnQgeyBDb21wb3NlciBhcyBTYXlDb21wb3NlciB9IGZyb20gJ3JlYWN0LXNheSc7XG5pbXBvcnQgeyBzaW5nbGVUb0FycmF5IH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29yZSc7XG5pbXBvcnQgY3JlYXRlRW1vdGlvbiBmcm9tICdAZW1vdGlvbi9jc3MvY3JlYXRlLWluc3RhbmNlJztcbmltcG9ydCBjcmVhdGVTdHlsZVNldCBmcm9tICcuL1N0eWxlcy9jcmVhdGVTdHlsZVNldCc7XG5pbXBvcnQgTWFya2Rvd25JdCBmcm9tICdtYXJrZG93bi1pdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge1xuICBzcGVlY2hTeW50aGVzaXMgYXMgYnlwYXNzU3BlZWNoU3ludGhlc2lzLFxuICBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgYXMgQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlXG59IGZyb20gJy4vaG9va3MvaW50ZXJuYWwvQnlwYXNzU3BlZWNoU3ludGhlc2lzUG9ueWZpbGwnO1xuaW1wb3J0IEFjdGl2aXR5VHJlZUNvbXBvc2VyIGZyb20gJy4vcHJvdmlkZXJzL0FjdGl2aXR5VHJlZS9BY3Rpdml0eVRyZWVDb21wb3Nlcic7XG5pbXBvcnQgYWRkVGFyZ2V0QmxhbmtUb0h5cGVybGlua3NNYXJrZG93biBmcm9tICcuL1V0aWxzL2FkZFRhcmdldEJsYW5rVG9IeXBlcmxpbmtzTWFya2Rvd24nO1xuaW1wb3J0IGNyZWF0ZUNTU0tleSBmcm9tICcuL1V0aWxzL2NyZWF0ZUNTU0tleSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdEFjdGl2aXR5TWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvQWN0aXZpdHkvY3JlYXRlQ29yZU1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRBY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0FjdGl2aXR5U3RhdHVzL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0QXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0F0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXIvY3JlYXRlQ29yZU1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRBdHRhY2htZW50TWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvQXR0YWNobWVudC9jcmVhdGVDb3JlTWlkZGxld2FyZSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdEF2YXRhck1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL0F2YXRhci9jcmVhdGVDb3JlTWlkZGxld2FyZSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlIGZyb20gJy4vTWlkZGxld2FyZS9DYXJkQWN0aW9uL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlIGZyb20gJy4vTWlkZGxld2FyZS9TY3JvbGxUb0VuZEJ1dHRvbi9jcmVhdGVTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRUb2FzdE1pZGRsZXdhcmUgZnJvbSAnLi9NaWRkbGV3YXJlL1RvYXN0L2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVEZWZhdWx0VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSBmcm9tICcuL01pZGRsZXdhcmUvVHlwaW5nSW5kaWNhdG9yL2NyZWF0ZUNvcmVNaWRkbGV3YXJlJztcbmltcG9ydCBEaWN0YXRpb24gZnJvbSAnLi9EaWN0YXRpb24nO1xuaW1wb3J0IGRvd25zY2FsZUltYWdlVG9EYXRhVVJMIGZyb20gJy4vVXRpbHMvZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkwnO1xuaW1wb3J0IEVycm9yQm94IGZyb20gJy4vRXJyb3JCb3gnO1xuaW1wb3J0IG1hcE1hcCBmcm9tICcuL1V0aWxzL21hcE1hcCc7XG5pbXBvcnQgU2VuZEJveENvbXBvc2VyIGZyb20gJy4vcHJvdmlkZXJzL2ludGVybmFsL1NlbmRCb3gvU2VuZEJveENvbXBvc2VyJztcbmltcG9ydCBVSVRyYWNrZXIgZnJvbSAnLi9ob29rcy9pbnRlcm5hbC9VSVRyYWNrZXInO1xuaW1wb3J0IFdlYkNoYXRVSUNvbnRleHQgZnJvbSAnLi9ob29rcy9pbnRlcm5hbC9XZWJDaGF0VUlDb250ZXh0JztcblxuaW1wb3J0IHR5cGUgeyBDb21wb3NlclByb3BzIGFzIEFQSUNvbXBvc2VyUHJvcHMgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1hcGknO1xuaW1wb3J0IHR5cGUgeyBGQywgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCB7IHVzZUdldEFjdGl2aXR5QnlLZXksIHVzZVJlZmVyZW5jZUdyYW1tYXJJRCwgdXNlU3R5bGVPcHRpb25zIH0gPSBob29rcztcblxuY29uc3Qgbm9kZV9lbnYgPSBwcm9jZXNzLmVudi5ub2RlX2VudiB8fCBwcm9jZXNzLmVudi5OT0RFX0VOVjtcblxuY29uc3QgZW1vdGlvblBvb2wgPSB7fTtcblxuZnVuY3Rpb24gc3R5bGVTZXRUb0Vtb3Rpb25PYmplY3RzKHN0eWxlVG9FbW90aW9uT2JqZWN0LCBzdHlsZVNldCkge1xuICByZXR1cm4gbWFwTWFwKHN0eWxlU2V0LCAoc3R5bGUsIGtleSkgPT4gKGtleSA9PT0gJ29wdGlvbnMnID8gc3R5bGUgOiBzdHlsZVRvRW1vdGlvbk9iamVjdChzdHlsZSkpKTtcbn1cblxudHlwZSBDb21wb3NlckNvcmVQcm9wcyA9IHtcbiAgY2hpbGRyZW4/OiBSZWFjdE5vZGU7XG4gIGV4dHJhU3R5bGVTZXQ/OiBhbnk7XG4gIG5vbmNlPzogc3RyaW5nO1xuICByZW5kZXJNYXJrZG93bj86IChcbiAgICBtYXJrZG93bjogc3RyaW5nLFxuICAgIG5ld0xpbmVPcHRpb25zOiB7IG1hcmtkb3duUmVzcGVjdENSTEY6IGJvb2xlYW4gfSxcbiAgICBsaW5rT3B0aW9uczogeyBleHRlcm5hbExpbmtBbHQ6IHN0cmluZyB9XG4gICkgPT4gc3RyaW5nO1xuICBzdHlsZVNldD86IGFueTtcbiAgc3VnZ2VzdGVkQWN0aW9uc0FjY2Vzc0tleT86IGJvb2xlYW4gfCBzdHJpbmc7XG4gIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeT86IFdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeTtcbn07XG5cbmNvbnN0IENvbXBvc2VyQ29yZTogRkM8Q29tcG9zZXJDb3JlUHJvcHM+ID0gKHtcbiAgY2hpbGRyZW4sXG4gIGV4dHJhU3R5bGVTZXQsXG4gIG5vbmNlLFxuICByZW5kZXJNYXJrZG93bixcbiAgc3R5bGVTZXQsXG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXksXG4gIHdlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeVxufSkgPT4ge1xuICBjb25zdCBbZGljdGF0ZUFib3J0YWJsZSwgc2V0RGljdGF0ZUFib3J0YWJsZV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbcmVmZXJlbmNlR3JhbW1hcklEXSA9IHVzZVJlZmVyZW5jZUdyYW1tYXJJRCgpO1xuICBjb25zdCBbc3R5bGVPcHRpb25zXSA9IHVzZVN0eWxlT3B0aW9ucygpO1xuICBjb25zdCBmb2N1c1NlbmRCb3hDYWxsYmFja3NSZWYgPSB1c2VSZWYoW10pO1xuICBjb25zdCBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWYgPSB1c2VSZWYoW10pO1xuICBjb25zdCBpbnRlcm5hbE1hcmtkb3duSXQgPSB1c2VNZW1vKCgpID0+IG5ldyBNYXJrZG93bkl0KCksIFtdKTtcbiAgY29uc3Qgc2Nyb2xsVG9DYWxsYmFja3NSZWYgPSB1c2VSZWYoW10pO1xuICBjb25zdCBzY3JvbGxUb0VuZENhbGxiYWNrc1JlZiA9IHVzZVJlZihbXSk7XG5cbiAgLy8gSW5zdGVhZCBvZiBoYXZpbmcgYSBgc2Nyb2xsVXBDYWxsYmFja3NSZWZgIGFuZCBgc2Nyb2xsRG93bkNhbGxiYWNrc1JlZmAsIHRoZXkgYXJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgYHNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzUmVmYC5cbiAgLy8gVGhlIGZpcnN0IGFyZ3VtZW50IHRlbGxzIHdoZXRoZXIgaXQgc2hvdWxkIGdvIFwidXBcIiBvciBcImRvd25cIi5cbiAgY29uc3Qgc2Nyb2xsUmVsYXRpdmVDYWxsYmFja3NSZWYgPSB1c2VSZWYoW10pO1xuXG4gIGNvbnN0IGRpY3RhdGlvbk9uRXJyb3IgPSB1c2VDYWxsYmFjayhlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGludGVybmFsUmVuZGVyTWFya2Rvd25JbmxpbmUgPSB1c2VNZW1vKFxuICAgICgpID0+IG1hcmtkb3duID0+IHtcbiAgICAgIGNvbnN0IHRyZWUgPSBpbnRlcm5hbE1hcmtkb3duSXQucGFyc2VJbmxpbmUobWFya2Rvd24pO1xuXG4gICAgICAvLyBXZSBzaG91bGQgYWRkIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiBhbmQgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIGNvbnN0IHBhdGNoZWRUcmVlID0gYWRkVGFyZ2V0QmxhbmtUb0h5cGVybGlua3NNYXJrZG93bih0cmVlKTtcblxuICAgICAgcmV0dXJuIGludGVybmFsTWFya2Rvd25JdC5yZW5kZXJlci5yZW5kZXIocGF0Y2hlZFRyZWUpO1xuICAgIH0sXG4gICAgW2ludGVybmFsTWFya2Rvd25JdF1cbiAgKTtcblxuICBjb25zdCBzdHlsZVRvRW1vdGlvbk9iamVjdCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIEVtb3Rpb24gZG9lc24ndCBoYXNoIHdpdGggbm9uY2UuIFdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgcG9vbGluZyBtZWNoYW5pc20uXG4gICAgLy8gMS4gSWYgMiBpbnN0YW5jZXMgdXNlIGRpZmZlcmVudCBub25jZSwgdGhleSBzaG91bGQgcmVzdWx0IGluIGRpZmZlcmVudCBoYXNoO1xuICAgIC8vIDIuIElmIDIgaW5zdGFuY2VzIGFyZSBiZWluZyBtb3VudGVkLCBwb29saW5nIHdpbGwgbWFrZSBzdXJlIHdlIHJlbmRlciBvbmx5IDEgc2V0IG9mIDxzdHlsZT4gdGFncywgaW5zdGVhZCBvZiAyLlxuICAgIGNvbnN0IGVtb3Rpb24gPVxuICAgICAgLy8gUHJlZml4IFwiaWQtXCIgdG8gcHJldmVudCBvYmplY3QgaW5qZWN0aW9uIGF0dGFjay5cbiAgICAgIGVtb3Rpb25Qb29sW2BpZC0ke25vbmNlfWBdIHx8XG4gICAgICAoZW1vdGlvblBvb2xbYGlkLSR7bm9uY2V9YF0gPSBjcmVhdGVFbW90aW9uKHsga2V5OiBgd2ViY2hhdC0tY3NzLSR7Y3JlYXRlQ1NTS2V5KCl9YCwgbm9uY2UgfSkpO1xuXG4gICAgcmV0dXJuIHN0eWxlID0+IGVtb3Rpb24uY3NzKHN0eWxlKTtcbiAgfSwgW25vbmNlXSk7XG5cbiAgY29uc3QgcGF0Y2hlZFN0eWxlU2V0ID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgc3R5bGVTZXRUb0Vtb3Rpb25PYmplY3RzKHN0eWxlVG9FbW90aW9uT2JqZWN0LCB7XG4gICAgICAgIC4uLihzdHlsZVNldCB8fCBjcmVhdGVTdHlsZVNldChzdHlsZU9wdGlvbnMpKSxcbiAgICAgICAgLi4uZXh0cmFTdHlsZVNldFxuICAgICAgfSksXG4gICAgW2V4dHJhU3R5bGVTZXQsIHN0eWxlT3B0aW9ucywgc3R5bGVTZXQsIHN0eWxlVG9FbW90aW9uT2JqZWN0XVxuICApO1xuXG4gIGNvbnN0IHdlYlNwZWVjaFBvbnlmaWxsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcG9ueWZpbGwgPSB3ZWJTcGVlY2hQb255ZmlsbEZhY3RvcnkgJiYgd2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5KHsgcmVmZXJlbmNlR3JhbW1hcklEIH0pO1xuICAgIGNvbnN0IHsgc3BlZWNoU3ludGhlc2lzLCBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgfSA9IHBvbnlmaWxsIHx8IHt9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBvbnlmaWxsLFxuICAgICAgc3BlZWNoU3ludGhlc2lzOiBzcGVlY2hTeW50aGVzaXMgfHwgYnlwYXNzU3BlZWNoU3ludGhlc2lzLFxuICAgICAgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlOiBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgfHwgQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlXG4gICAgfTtcbiAgfSwgW3JlZmVyZW5jZUdyYW1tYXJJRCwgd2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5XSk7XG5cbiAgY29uc3Qgc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYgPSB1c2VSZWYoW10pO1xuXG4gIGNvbnN0IGRpc3BhdGNoU2Nyb2xsUG9zaXRpb24gPSB1c2VDYWxsYmFjayhcbiAgICBldmVudCA9PiBzY3JvbGxQb3NpdGlvbk9ic2VydmVyc1JlZi5jdXJyZW50LmZvckVhY2gob2JzZXJ2ZXIgPT4gb2JzZXJ2ZXIoZXZlbnQpKSxcbiAgICBbc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWZdXG4gICk7XG5cbiAgY29uc3Qgb2JzZXJ2ZVNjcm9sbFBvc2l0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgb2JzZXJ2ZXIgPT4ge1xuICAgICAgc2Nyb2xsUG9zaXRpb25PYnNlcnZlcnNSZWYuY3VycmVudCA9IFsuLi5zY3JvbGxQb3NpdGlvbk9ic2VydmVyc1JlZi5jdXJyZW50LCBvYnNlcnZlcl07XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHNjcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmLmN1cnJlbnQgPSBzY3JvbGxQb3NpdGlvbk9ic2VydmVyc1JlZi5jdXJyZW50LmZpbHRlcih0YXJnZXQgPT4gdGFyZ2V0ICE9PSBvYnNlcnZlcik7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW3Njcm9sbFBvc2l0aW9uT2JzZXJ2ZXJzUmVmXVxuICApO1xuXG4gIGNvbnN0IHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZiA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IFtudW1UcmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnMsIHNldE51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVyc10gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCBnZXRBY3Rpdml0eUJ5S2V5ID0gdXNlR2V0QWN0aXZpdHlCeUtleSgpO1xuXG4gIGNvbnN0IGRpc3BhdGNoVHJhbnNjcmlwdEZvY3VzQnlBY3Rpdml0eUtleSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBwcmV2QWN0aXZpdHlLZXk6IHN0cmluZyB8IFN5bWJvbCB8IHVuZGVmaW5lZCA9IFN5bWJvbCgpO1xuXG4gICAgcmV0dXJuIGFjdGl2aXR5S2V5ID0+IHtcbiAgICAgIGlmIChhY3Rpdml0eUtleSAhPT0gcHJldkFjdGl2aXR5S2V5KSB7XG4gICAgICAgIHByZXZBY3Rpdml0eUtleSA9IGFjdGl2aXR5S2V5O1xuXG4gICAgICAgIGNvbnN0IGV2ZW50ID0geyBhY3Rpdml0eTogZ2V0QWN0aXZpdHlCeUtleShhY3Rpdml0eUtleSkgfTtcblxuICAgICAgICB0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudC5mb3JFYWNoKG9ic2VydmVyID0+IG9ic2VydmVyKGV2ZW50KSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2dldEFjdGl2aXR5QnlLZXksIHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZl0pO1xuXG4gIGNvbnN0IG9ic2VydmVUcmFuc2NyaXB0Rm9jdXMgPSB1c2VDYWxsYmFjayhcbiAgICBvYnNlcnZlciA9PiB7XG4gICAgICB0cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudCA9IFsuLi50cmFuc2NyaXB0Rm9jdXNPYnNlcnZlcnNSZWYuY3VycmVudCwgb2JzZXJ2ZXJdO1xuICAgICAgc2V0TnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzKHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZi5jdXJyZW50Lmxlbmd0aCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZi5jdXJyZW50ID0gdHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzUmVmLmN1cnJlbnQuZmlsdGVyKHRhcmdldCA9PiB0YXJnZXQgIT09IG9ic2VydmVyKTtcbiAgICAgICAgc2V0TnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzKHRyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZi5jdXJyZW50Lmxlbmd0aCk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgW3RyYW5zY3JpcHRGb2N1c09ic2VydmVyc1JlZiwgc2V0TnVtVHJhbnNjcmlwdEZvY3VzT2JzZXJ2ZXJzXVxuICApO1xuXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBkaWN0YXRlQWJvcnRhYmxlLFxuICAgICAgZGlzcGF0Y2hTY3JvbGxQb3NpdGlvbixcbiAgICAgIGRpc3BhdGNoVHJhbnNjcmlwdEZvY3VzQnlBY3Rpdml0eUtleSxcbiAgICAgIGZvY3VzU2VuZEJveENhbGxiYWNrc1JlZixcbiAgICAgIGZvY3VzVHJhbnNjcmlwdENhbGxiYWNrc1JlZixcbiAgICAgIGludGVybmFsTWFya2Rvd25JdFN0YXRlOiBbaW50ZXJuYWxNYXJrZG93bkl0XSxcbiAgICAgIGludGVybmFsUmVuZGVyTWFya2Rvd25JbmxpbmUsXG4gICAgICBub25jZSxcbiAgICAgIG51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyxcbiAgICAgIG9ic2VydmVTY3JvbGxQb3NpdGlvbixcbiAgICAgIG9ic2VydmVUcmFuc2NyaXB0Rm9jdXMsXG4gICAgICByZW5kZXJNYXJrZG93bixcbiAgICAgIHNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzUmVmLFxuICAgICAgc2Nyb2xsVG9DYWxsYmFja3NSZWYsXG4gICAgICBzY3JvbGxUb0VuZENhbGxiYWNrc1JlZixcbiAgICAgIHNldERpY3RhdGVBYm9ydGFibGUsXG4gICAgICBzdHlsZVNldDogcGF0Y2hlZFN0eWxlU2V0LFxuICAgICAgc3R5bGVUb0Vtb3Rpb25PYmplY3QsXG4gICAgICBzdWdnZXN0ZWRBY3Rpb25zQWNjZXNzS2V5LFxuICAgICAgd2ViU3BlZWNoUG9ueWZpbGxcbiAgICB9KSxcbiAgICBbXG4gICAgICBkaWN0YXRlQWJvcnRhYmxlLFxuICAgICAgZGlzcGF0Y2hTY3JvbGxQb3NpdGlvbixcbiAgICAgIGRpc3BhdGNoVHJhbnNjcmlwdEZvY3VzQnlBY3Rpdml0eUtleSxcbiAgICAgIGZvY3VzU2VuZEJveENhbGxiYWNrc1JlZixcbiAgICAgIGZvY3VzVHJhbnNjcmlwdENhbGxiYWNrc1JlZixcbiAgICAgIGludGVybmFsTWFya2Rvd25JdCxcbiAgICAgIGludGVybmFsUmVuZGVyTWFya2Rvd25JbmxpbmUsXG4gICAgICBub25jZSxcbiAgICAgIG51bVRyYW5zY3JpcHRGb2N1c09ic2VydmVycyxcbiAgICAgIG9ic2VydmVTY3JvbGxQb3NpdGlvbixcbiAgICAgIG9ic2VydmVUcmFuc2NyaXB0Rm9jdXMsXG4gICAgICBwYXRjaGVkU3R5bGVTZXQsXG4gICAgICByZW5kZXJNYXJrZG93bixcbiAgICAgIHNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzUmVmLFxuICAgICAgc2Nyb2xsVG9DYWxsYmFja3NSZWYsXG4gICAgICBzY3JvbGxUb0VuZENhbGxiYWNrc1JlZixcbiAgICAgIHNldERpY3RhdGVBYm9ydGFibGUsXG4gICAgICBzdHlsZVRvRW1vdGlvbk9iamVjdCxcbiAgICAgIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXksXG4gICAgICB3ZWJTcGVlY2hQb255ZmlsbFxuICAgIF1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxTYXlDb21wb3NlciBwb255ZmlsbD17d2ViU3BlZWNoUG9ueWZpbGx9PlxuICAgICAgPFdlYkNoYXRVSUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAgICB7LyogV2hlbiA8U2VuZEJveENvbXBvc2VyPiBpcyBmaW5hbGl6ZWQsIGl0IHdpbGwgYmUgdXNpbmcgYW4gaW5kZXBlbmRlbnQgaW5zdGFuY2UgdGhhdCBsaXZlcyBpbnNpZGUgPEJhc2ljU2VuZEJveD4uICovfVxuICAgICAgICA8U2VuZEJveENvbXBvc2VyPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8RGljdGF0aW9uIG9uRXJyb3I9e2RpY3RhdGlvbk9uRXJyb3J9IC8+XG4gICAgICAgIDwvU2VuZEJveENvbXBvc2VyPlxuICAgICAgPC9XZWJDaGF0VUlDb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvU2F5Q29tcG9zZXI+XG4gICk7XG59O1xuXG5Db21wb3NlckNvcmUuZGVmYXVsdFByb3BzID0ge1xuICBjaGlsZHJlbjogdW5kZWZpbmVkLFxuICBleHRyYVN0eWxlU2V0OiB1bmRlZmluZWQsXG4gIG5vbmNlOiB1bmRlZmluZWQsXG4gIHJlbmRlck1hcmtkb3duOiB1bmRlZmluZWQsXG4gIHN0eWxlU2V0OiB1bmRlZmluZWQsXG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXk6ICdBIGEgw4Ugw6UnLFxuICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk6IHVuZGVmaW5lZFxufTtcblxuQ29tcG9zZXJDb3JlLnByb3BUeXBlcyA9IHtcbiAgZXh0cmFTdHlsZVNldDogUHJvcFR5cGVzLmFueSxcbiAgbm9uY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJlbmRlck1hcmtkb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGVTZXQ6IFByb3BUeXBlcy5hbnksXG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXk6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbZmFsc2VdKSwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk6IFByb3BUeXBlcy5mdW5jXG59O1xuXG50eXBlIENvbXBvc2VyUHJvcHMgPSBBUElDb21wb3NlclByb3BzICYgQ29tcG9zZXJDb3JlUHJvcHM7XG5cbmNvbnN0IENvbXBvc2VyOiBGQzxDb21wb3NlclByb3BzPiA9ICh7XG4gIGFjdGl2aXR5TWlkZGxld2FyZSxcbiAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlLFxuICBhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSxcbiAgYXR0YWNobWVudE1pZGRsZXdhcmUsXG4gIGF2YXRhck1pZGRsZXdhcmUsXG4gIGNhcmRBY3Rpb25NaWRkbGV3YXJlLFxuICBjaGlsZHJlbixcbiAgZXh0cmFTdHlsZVNldCxcbiAgcmVuZGVyTWFya2Rvd24sXG4gIHNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSxcbiAgc3R5bGVTZXQsXG4gIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXksXG4gIHRvYXN0TWlkZGxld2FyZSxcbiAgdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSxcbiAgd2ViU3BlZWNoUG9ueWZpbGxGYWN0b3J5LFxuICAuLi5jb21wb3NlclByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHsgbm9uY2UsIG9uVGVsZW1ldHJ5IH0gPSBjb21wb3NlclByb3BzO1xuXG4gIGNvbnN0IHBhdGNoZWRBY3Rpdml0eU1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGFjdGl2aXR5TWlkZGxld2FyZSksIC4uLmNyZWF0ZURlZmF1bHRBY3Rpdml0eU1pZGRsZXdhcmUoKV0sXG4gICAgW2FjdGl2aXR5TWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkQWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShhY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0QWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlKCldLFxuICAgIFthY3Rpdml0eVN0YXR1c01pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbXG4gICAgICAuLi5zaW5nbGVUb0FycmF5KGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlKSxcbiAgICAgIC4uLmNyZWF0ZURlZmF1bHRBdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSgpXG4gICAgXSxcbiAgICBbYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShhdHRhY2htZW50TWlkZGxld2FyZSksIC4uLmNyZWF0ZURlZmF1bHRBdHRhY2htZW50TWlkZGxld2FyZSgpXSxcbiAgICBbYXR0YWNobWVudE1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF2YXRhck1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGF2YXRhck1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0QXZhdGFyTWlkZGxld2FyZSgpXSxcbiAgICBbYXZhdGFyTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkQ2FyZEFjdGlvbk1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KGNhcmRBY3Rpb25NaWRkbGV3YXJlKSwgLi4uY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlKCldLFxuICAgIFtjYXJkQWN0aW9uTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBwYXRjaGVkVG9hc3RNaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheSh0b2FzdE1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0VG9hc3RNaWRkbGV3YXJlKCldLFxuICAgIFt0b2FzdE1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUgPSB1c2VNZW1vKFxuICAgICgpID0+IFsuLi5zaW5nbGVUb0FycmF5KHR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUpLCAuLi5jcmVhdGVEZWZhdWx0VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSgpXSxcbiAgICBbdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZV1cbiAgKTtcblxuICBjb25zdCBkZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlID0gdXNlTWVtbygoKSA9PiBjcmVhdGVEZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlKCksIFtdKTtcblxuICBjb25zdCBwYXRjaGVkU2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbLi4uc2luZ2xlVG9BcnJheShzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmUpLCAuLi5kZWZhdWx0U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlXSxcbiAgICBbZGVmYXVsdFNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSwgc2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPEFQSUNvbXBvc2VyXG4gICAgICAgIGFjdGl2aXR5TWlkZGxld2FyZT17cGF0Y2hlZEFjdGl2aXR5TWlkZGxld2FyZX1cbiAgICAgICAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlPXtwYXRjaGVkQWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlfVxuICAgICAgICBhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZT17cGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlfVxuICAgICAgICBhdHRhY2htZW50TWlkZGxld2FyZT17cGF0Y2hlZEF0dGFjaG1lbnRNaWRkbGV3YXJlfVxuICAgICAgICBhdmF0YXJNaWRkbGV3YXJlPXtwYXRjaGVkQXZhdGFyTWlkZGxld2FyZX1cbiAgICAgICAgY2FyZEFjdGlvbk1pZGRsZXdhcmU9e3BhdGNoZWRDYXJkQWN0aW9uTWlkZGxld2FyZX1cbiAgICAgICAgZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkw9e2Rvd25zY2FsZUltYWdlVG9EYXRhVVJMfVxuICAgICAgICAvLyBVbmRlciBkZXYgc2VydmVyIG9mIGNyZWF0ZS1yZWFjdC1hcHAsIFwiTk9ERV9FTlZcIiB3aWxsIGJlIHNldCB0byBcImRldmVsb3BtZW50XCIuXG4gICAgICAgIGludGVybmFsRXJyb3JCb3hDbGFzcz17bm9kZV9lbnYgPT09ICdkZXZlbG9wbWVudCcgPyBFcnJvckJveCA6IHVuZGVmaW5lZH1cbiAgICAgICAgbm9uY2U9e25vbmNlfVxuICAgICAgICBzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmU9e3BhdGNoZWRTY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmV9XG4gICAgICAgIHRvYXN0TWlkZGxld2FyZT17cGF0Y2hlZFRvYXN0TWlkZGxld2FyZX1cbiAgICAgICAgdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZT17cGF0Y2hlZFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmV9XG4gICAgICAgIHsuLi5jb21wb3NlclByb3BzfVxuICAgICAgPlxuICAgICAgICA8QWN0aXZpdHlUcmVlQ29tcG9zZXI+XG4gICAgICAgICAgPENvbXBvc2VyQ29yZVxuICAgICAgICAgICAgZXh0cmFTdHlsZVNldD17ZXh0cmFTdHlsZVNldH1cbiAgICAgICAgICAgIG5vbmNlPXtub25jZX1cbiAgICAgICAgICAgIHJlbmRlck1hcmtkb3duPXtyZW5kZXJNYXJrZG93bn1cbiAgICAgICAgICAgIHN0eWxlU2V0PXtzdHlsZVNldH1cbiAgICAgICAgICAgIHN1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXk9e3N1Z2dlc3RlZEFjdGlvbnNBY2Nlc3NLZXl9XG4gICAgICAgICAgICB3ZWJTcGVlY2hQb255ZmlsbEZhY3Rvcnk9e3dlYlNwZWVjaFBvbnlmaWxsRmFjdG9yeX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICB7b25UZWxlbWV0cnkgJiYgPFVJVHJhY2tlciAvPn1cbiAgICAgICAgICA8L0NvbXBvc2VyQ29yZT5cbiAgICAgICAgPC9BY3Rpdml0eVRyZWVDb21wb3Nlcj5cbiAgICAgIDwvQVBJQ29tcG9zZXI+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbn07XG5cbkNvbXBvc2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgLi4uQVBJQ29tcG9zZXIuZGVmYXVsdFByb3BzLFxuICAuLi5Db21wb3NlckNvcmUuZGVmYXVsdFByb3BzLFxuICBjaGlsZHJlbjogdW5kZWZpbmVkXG59O1xuXG5Db21wb3Nlci5wcm9wVHlwZXMgPSB7XG4gIC4uLkFQSUNvbXBvc2VyLnByb3BUeXBlcyxcbiAgLi4uQ29tcG9zZXJDb3JlLnByb3BUeXBlcyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvc2VyO1xuXG5leHBvcnQgdHlwZSB7IENvbXBvc2VyUHJvcHMgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBSUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLElBQVFBLG1CQUFSLEdBQXdFQyw2QkFBeEUsQ0FBUUQsbUJBQVI7QUFBQSxJQUE2QkUscUJBQTdCLEdBQXdFRCw2QkFBeEUsQ0FBNkJDLHFCQUE3QjtBQUFBLElBQW9EQyxlQUFwRCxHQUF3RUYsNkJBQXhFLENBQW9ERSxlQUFwRDtBQUVBLElBQU1DLFFBQVEsR0FBRyx5QkFBakI7QUFFQSxJQUFNQyxXQUFXLEdBQUcsRUFBcEI7O0FBRUEsU0FBU0Msd0JBQVQsQ0FBa0NDLG9CQUFsQyxFQUF3REMs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