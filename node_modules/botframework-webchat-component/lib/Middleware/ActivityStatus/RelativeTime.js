"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _ScreenReaderText = _interopRequireDefault(require("../../ScreenReaderText"));

var _useForceRenderAtInterval = _interopRequireDefault(require("../../hooks/internal/useForceRenderAtInterval"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var useDateFormatter = _botframeworkWebchatApi.hooks.useDateFormatter,
    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer,
    useRelativeTimeFormatter = _botframeworkWebchatApi.hooks.useRelativeTimeFormatter;
var TIMER_INTERVAL = 60000;

var RelativeTime = function RelativeTime(_ref) {
  var value = _ref.value;
  var formatDate = useDateFormatter();
  var formatRelativeTime = useRelativeTimeFormatter();
  var localize = useLocalizer();
  (0, _useForceRenderAtInterval.default)(value, TIMER_INTERVAL);
  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {
    text: localize('ACTIVITY_STATUS_SEND_STATUS_ALT_SENT_AT', formatDate(value))
  }), /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": true
  }, formatRelativeTime(value)));
};

RelativeTime.propTypes = {
  value: _propTypes.default.string.isRequired
};
var _default = RelativeTime;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VEYXRlRm9ybWF0dGVyIiwiaG9va3MiLCJ1c2VMb2NhbGl6ZXIiLCJ1c2VSZWxhdGl2ZVRpbWVGb3JtYXR0ZXIiLCJUSU1FUl9JTlRFUlZBTCIsIlJlbGF0aXZlVGltZSIsInZhbHVlIiwiZm9ybWF0RGF0ZSIsImZvcm1hdFJlbGF0aXZlVGltZSIsImxvY2FsaXplIiwidXNlRm9yY2VSZW5kZXJBdEludGVydmFsIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01pZGRsZXdhcmUvQWN0aXZpdHlTdGF0dXMvUmVsYXRpdmVUaW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhvb2tzIH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtYXBpJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgU2NyZWVuUmVhZGVyVGV4dCBmcm9tICcuLi8uLi9TY3JlZW5SZWFkZXJUZXh0JztcbmltcG9ydCB1c2VGb3JjZVJlbmRlckF0SW50ZXJ2YWwgZnJvbSAnLi4vLi4vaG9va3MvaW50ZXJuYWwvdXNlRm9yY2VSZW5kZXJBdEludGVydmFsJztcblxuY29uc3QgeyB1c2VEYXRlRm9ybWF0dGVyLCB1c2VMb2NhbGl6ZXIsIHVzZVJlbGF0aXZlVGltZUZvcm1hdHRlciB9ID0gaG9va3M7XG5cbmNvbnN0IFRJTUVSX0lOVEVSVkFMID0gNjAwMDA7XG5cbmNvbnN0IFJlbGF0aXZlVGltZSA9ICh7IHZhbHVlIH0pID0+IHtcbiAgY29uc3QgZm9ybWF0RGF0ZSA9IHVzZURhdGVGb3JtYXR0ZXIoKTtcbiAgY29uc3QgZm9ybWF0UmVsYXRpdmVUaW1lID0gdXNlUmVsYXRpdmVUaW1lRm9ybWF0dGVyKCk7XG4gIGNvbnN0IGxvY2FsaXplID0gdXNlTG9jYWxpemVyKCk7XG5cbiAgdXNlRm9yY2VSZW5kZXJBdEludGVydmFsKHZhbHVlLCBUSU1FUl9JTlRFUlZBTCk7XG5cbiAgcmV0dXJuIChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8U2NyZWVuUmVhZGVyVGV4dCB0ZXh0PXtsb2NhbGl6ZSgnQUNUSVZJVFlfU1RBVFVTX1NFTkRfU1RBVFVTX0FMVF9TRU5UX0FUJywgZm9ybWF0RGF0ZSh2YWx1ZSkpfSAvPlxuICAgICAgPHNwYW4gYXJpYS1oaWRkZW49e3RydWV9Pntmb3JtYXRSZWxhdGl2ZVRpbWUodmFsdWUpfTwvc3Bhbj5cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcblxuUmVsYXRpdmVUaW1lLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVsYXRpdmVUaW1lO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFFQSxJQUFRQSxnQkFBUixHQUFxRUMsNkJBQXJFLENBQVFELGdCQUFSO0FBQUEsSUFBMEJFLFlBQTFCLEdBQXFFRCw2QkFBckUsQ0FBMEJDLFlBQTFCO0FBQUEsSUFBd0NDLHdCQUF4QyxHQUFxRUYsNkJBQXJFLENBQXdDRSx3QkFBeEM7QUFFQSxJQUFNQyxjQUFjLEdBQUcsS0FBdkI7O0FBRUEsSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsT0FBZTtFQUFBLElBQVpDLEtBQVksUUFBWkEsS0FBWTtFQUNsQyxJQUFNQyxVQUFVLEdBQUdQLGdCQUFnQixFQUFuQztFQUNBLElBQU1RLGtCQUFrQixHQUFHTCx3QkFBd0IsRUFBbkQ7RUFDQSxJQUFNTSxRQUFRLEdBQUdQLFlBQVksRUFBN0I7RUFFQSxJQUFBUSxpQ0FBQSxFQUF5QkosS0FBekIsRUFBZ0NGLGNBQWhDO0VBRUEsb0JBQ0UsNkJBQUMsY0FBRCxDQUFPLFFBQVAscUJBQ0UsNkJBQUMseUJBQUQ7SUFBa0IsSUFBSSxFQUFFSyxRQUFRLENBQUMseUNBQUQsRUFBNENGLFVBQVUsQ0FBQ0QsS0FBRCxDQUF0RDtFQUFoQyxFQURGLGVBRUU7SUFBTSxlQUFhO0VBQW5CLEdBQTBCRSxrQkFBa0IsQ0FBQ0YsS0FBRCxDQUE1QyxDQUZGLENBREY7QUFNRCxDQWJEOztBQWVBRCxZQUFZLENBQUNNLFNBQWIsR0FBeUI7RUFDdkJMLEtBQUssRUFBRU0sa0JBQUEsQ0FBVUMsTUFBVixDQUFpQkM7QUFERCxDQUF6QjtlQUllVCxZIn0=