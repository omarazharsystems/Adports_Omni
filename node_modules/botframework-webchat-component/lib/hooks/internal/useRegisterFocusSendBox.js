"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useRegisterFocusSendBox;

var _react = require("react");

var _removeInline = _interopRequireDefault(require("../../Utils/removeInline"));

var _useWebChatUIContext2 = _interopRequireDefault(require("./useWebChatUIContext"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// This hook is for registering and unregister a callback, used by <BasicSendBox>.
// When called, the callback should focus on the text box of the send box.
function useRegisterFocusSendBox(callback) {
  var _useWebChatUIContext = (0, _useWebChatUIContext2.default)(),
      focusSendBoxCallbacksRef = _useWebChatUIContext.focusSendBoxCallbacksRef;

  (0, _react.useEffect)(function () {
    if (callback) {
      var focusSendBoxCallbacks = focusSendBoxCallbacksRef.current;
      focusSendBoxCallbacks.push(callback);
      return function () {
        return (0, _removeInline.default)(focusSendBoxCallbacks, callback);
      };
    }
  }, [callback, focusSendBoxCallbacksRef]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VSZWdpc3RlckZvY3VzU2VuZEJveCIsImNhbGxiYWNrIiwidXNlV2ViQ2hhdFVJQ29udGV4dCIsImZvY3VzU2VuZEJveENhbGxiYWNrc1JlZiIsInVzZUVmZmVjdCIsImZvY3VzU2VuZEJveENhbGxiYWNrcyIsImN1cnJlbnQiLCJwdXNoIiwicmVtb3ZlSW5saW5lIl0sInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvaW50ZXJuYWwvdXNlUmVnaXN0ZXJGb2N1c1NlbmRCb3guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgcmVtb3ZlSW5saW5lIGZyb20gJy4uLy4uL1V0aWxzL3JlbW92ZUlubGluZSc7XG5pbXBvcnQgdXNlV2ViQ2hhdFVJQ29udGV4dCBmcm9tICcuL3VzZVdlYkNoYXRVSUNvbnRleHQnO1xuXG4vLyBUaGlzIGhvb2sgaXMgZm9yIHJlZ2lzdGVyaW5nIGFuZCB1bnJlZ2lzdGVyIGEgY2FsbGJhY2ssIHVzZWQgYnkgPEJhc2ljU2VuZEJveD4uXG4vLyBXaGVuIGNhbGxlZCwgdGhlIGNhbGxiYWNrIHNob3VsZCBmb2N1cyBvbiB0aGUgdGV4dCBib3ggb2YgdGhlIHNlbmQgYm94LlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VSZWdpc3RlckZvY3VzU2VuZEJveChjYWxsYmFjaykge1xuICBjb25zdCB7IGZvY3VzU2VuZEJveENhbGxiYWNrc1JlZiB9ID0gdXNlV2ViQ2hhdFVJQ29udGV4dCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnQ6IGZvY3VzU2VuZEJveENhbGxiYWNrcyB9ID0gZm9jdXNTZW5kQm94Q2FsbGJhY2tzUmVmO1xuXG4gICAgICBmb2N1c1NlbmRCb3hDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cbiAgICAgIHJldHVybiAoKSA9PiByZW1vdmVJbmxpbmUoZm9jdXNTZW5kQm94Q2FsbGJhY2tzLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCBbY2FsbGJhY2ssIGZvY3VzU2VuZEJveENhbGxiYWNrc1JlZl0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7Ozs7QUFFQTtBQUNBO0FBRWUsU0FBU0EsdUJBQVQsQ0FBaUNDLFFBQWpDLEVBQTJDO0VBQ3hELDJCQUFxQyxJQUFBQyw2QkFBQSxHQUFyQztFQUFBLElBQVFDLHdCQUFSLHdCQUFRQSx3QkFBUjs7RUFFQSxJQUFBQyxnQkFBQSxFQUFVLFlBQU07SUFDZCxJQUFJSCxRQUFKLEVBQWM7TUFDWixJQUFpQkkscUJBQWpCLEdBQTJDRix3QkFBM0MsQ0FBUUcsT0FBUjtNQUVBRCxxQkFBcUIsQ0FBQ0UsSUFBdEIsQ0FBMkJOLFFBQTNCO01BRUEsT0FBTztRQUFBLE9BQU0sSUFBQU8scUJBQUEsRUFBYUgscUJBQWIsRUFBb0NKLFFBQXBDLENBQU47TUFBQSxDQUFQO0lBQ0Q7RUFDRixDQVJELEVBUUcsQ0FBQ0EsUUFBRCxFQUFXRSx3QkFBWCxDQVJIO0FBU0QifQ==