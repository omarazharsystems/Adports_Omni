"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useRegisterFocusTranscript;

var _react = require("react");

var _removeInline = _interopRequireDefault(require("../../Utils/removeInline"));

var _useWebChatUIContext2 = _interopRequireDefault(require("./useWebChatUIContext"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// This hook is for registering and unregister a callback, used by <BasicTranscript>.
// When called, the callback should focus on the transcript.
function useRegisterFocusTranscript(callback) {
  var _useWebChatUIContext = (0, _useWebChatUIContext2.default)(),
      focusTranscriptCallbacksRef = _useWebChatUIContext.focusTranscriptCallbacksRef;

  (0, _react.useEffect)(function () {
    if (callback) {
      var focusTranscriptCallbacks = focusTranscriptCallbacksRef.current;
      focusTranscriptCallbacks.push(callback);
      return function () {
        return (0, _removeInline.default)(focusTranscriptCallbacks, callback);
      };
    }
  }, [callback, focusTranscriptCallbacksRef]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VSZWdpc3RlckZvY3VzVHJhbnNjcmlwdCIsImNhbGxiYWNrIiwidXNlV2ViQ2hhdFVJQ29udGV4dCIsImZvY3VzVHJhbnNjcmlwdENhbGxiYWNrc1JlZiIsInVzZUVmZmVjdCIsImZvY3VzVHJhbnNjcmlwdENhbGxiYWNrcyIsImN1cnJlbnQiLCJwdXNoIiwicmVtb3ZlSW5saW5lIl0sInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvaW50ZXJuYWwvdXNlUmVnaXN0ZXJGb2N1c1RyYW5zY3JpcHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgcmVtb3ZlSW5saW5lIGZyb20gJy4uLy4uL1V0aWxzL3JlbW92ZUlubGluZSc7XG5pbXBvcnQgdXNlV2ViQ2hhdFVJQ29udGV4dCBmcm9tICcuL3VzZVdlYkNoYXRVSUNvbnRleHQnO1xuXG4vLyBUaGlzIGhvb2sgaXMgZm9yIHJlZ2lzdGVyaW5nIGFuZCB1bnJlZ2lzdGVyIGEgY2FsbGJhY2ssIHVzZWQgYnkgPEJhc2ljVHJhbnNjcmlwdD4uXG4vLyBXaGVuIGNhbGxlZCwgdGhlIGNhbGxiYWNrIHNob3VsZCBmb2N1cyBvbiB0aGUgdHJhbnNjcmlwdC5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlUmVnaXN0ZXJGb2N1c1RyYW5zY3JpcHQoY2FsbGJhY2spIHtcbiAgY29uc3QgeyBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWYgfSA9IHVzZVdlYkNoYXRVSUNvbnRleHQoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY29uc3QgeyBjdXJyZW50OiBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3MgfSA9IGZvY3VzVHJhbnNjcmlwdENhbGxiYWNrc1JlZjtcblxuICAgICAgZm9jdXNUcmFuc2NyaXB0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXG4gICAgICByZXR1cm4gKCkgPT4gcmVtb3ZlSW5saW5lKGZvY3VzVHJhbnNjcmlwdENhbGxiYWNrcywgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwgW2NhbGxiYWNrLCBmb2N1c1RyYW5zY3JpcHRDYWxsYmFja3NSZWZdKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRUE7QUFDQTtBQUVlLFNBQVNBLDBCQUFULENBQW9DQyxRQUFwQyxFQUE4QztFQUMzRCwyQkFBd0MsSUFBQUMsNkJBQUEsR0FBeEM7RUFBQSxJQUFRQywyQkFBUix3QkFBUUEsMkJBQVI7O0VBRUEsSUFBQUMsZ0JBQUEsRUFBVSxZQUFNO0lBQ2QsSUFBSUgsUUFBSixFQUFjO01BQ1osSUFBaUJJLHdCQUFqQixHQUE4Q0YsMkJBQTlDLENBQVFHLE9BQVI7TUFFQUQsd0JBQXdCLENBQUNFLElBQXpCLENBQThCTixRQUE5QjtNQUVBLE9BQU87UUFBQSxPQUFNLElBQUFPLHFCQUFBLEVBQWFILHdCQUFiLEVBQXVDSixRQUF2QyxDQUFOO01BQUEsQ0FBUDtJQUNEO0VBQ0YsQ0FSRCxFQVFHLENBQUNBLFFBQUQsRUFBV0UsMkJBQVgsQ0FSSDtBQVNEIn0=