"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useMemoWithPrevious;

var _react = require("react");

function useMemoWithPrevious(factory, deps) {
  var prevValueRef = (0, _react.useRef)(); // We are building a `useMemo`-like hook, `deps` is passed as-is and `factory` is not one fo the dependencies.
  // eslint-disable-next-line react-hooks/exhaustive-deps

  var value = (0, _react.useMemo)(function () {
    return factory(prevValueRef.current);
  }, deps);
  (0, _react.useEffect)(function () {
    prevValueRef.current = value;
  });
  return value;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VNZW1vV2l0aFByZXZpb3VzIiwiZmFjdG9yeSIsImRlcHMiLCJwcmV2VmFsdWVSZWYiLCJ1c2VSZWYiLCJ2YWx1ZSIsInVzZU1lbW8iLCJjdXJyZW50IiwidXNlRWZmZWN0Il0sInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvaW50ZXJuYWwvdXNlTWVtb1dpdGhQcmV2aW91cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHR5cGUgeyBEZXBlbmRlbmN5TGlzdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTWVtb1dpdGhQcmV2aW91czxUPihmYWN0b3J5OiAocHJldlZhbHVlOiBUKSA9PiBULCBkZXBzOiBEZXBlbmRlbmN5TGlzdCk6IFQge1xuICBjb25zdCBwcmV2VmFsdWVSZWYgPSB1c2VSZWY8VD4oKTtcbiAgLy8gV2UgYXJlIGJ1aWxkaW5nIGEgYHVzZU1lbW9gLWxpa2UgaG9vaywgYGRlcHNgIGlzIHBhc3NlZCBhcy1pcyBhbmQgYGZhY3RvcnlgIGlzIG5vdCBvbmUgZm8gdGhlIGRlcGVuZGVuY2llcy5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW88VD4oKCkgPT4gZmFjdG9yeShwcmV2VmFsdWVSZWYuY3VycmVudCksIGRlcHMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJldlZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBSWUsU0FBU0EsbUJBQVQsQ0FBZ0NDLE9BQWhDLEVBQThEQyxJQUE5RCxFQUF1RjtFQUNwRyxJQUFNQyxZQUFZLEdBQUcsSUFBQUMsYUFBQSxHQUFyQixDQURvRyxDQUVwRztFQUNBOztFQUNBLElBQU1DLEtBQUssR0FBRyxJQUFBQyxjQUFBLEVBQVc7SUFBQSxPQUFNTCxPQUFPLENBQUNFLFlBQVksQ0FBQ0ksT0FBZCxDQUFiO0VBQUEsQ0FBWCxFQUFnREwsSUFBaEQsQ0FBZDtFQUVBLElBQUFNLGdCQUFBLEVBQVUsWUFBTTtJQUNkTCxZQUFZLENBQUNJLE9BQWIsR0FBdUJGLEtBQXZCO0VBQ0QsQ0FGRDtFQUlBLE9BQU9BLEtBQVA7QUFDRCJ9