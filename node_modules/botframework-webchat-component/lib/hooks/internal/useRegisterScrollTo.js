"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useRegisterScrollTo;

var _react = require("react");

var _removeInline = _interopRequireDefault(require("../../Utils/removeInline"));

var _useWebChatUIContext2 = _interopRequireDefault(require("./useWebChatUIContext"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// This hook is for registering and unregister a callback, used by <BasicTranscript>.
// When called, the callback should scroll the transcript to a specific position, for example, to an activity of specified ID.
function useRegisterScrollTo(callback) {
  var _useWebChatUIContext = (0, _useWebChatUIContext2.default)(),
      scrollToCallbacksRef = _useWebChatUIContext.scrollToCallbacksRef;

  (0, _react.useEffect)(function () {
    if (callback) {
      var scrollToCallbacks = scrollToCallbacksRef.current;
      scrollToCallbacks.push(callback);
      return function () {
        return (0, _removeInline.default)(scrollToCallbacks, callback);
      };
    }
  }, [callback, scrollToCallbacksRef]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VSZWdpc3RlclNjcm9sbFRvIiwiY2FsbGJhY2siLCJ1c2VXZWJDaGF0VUlDb250ZXh0Iiwic2Nyb2xsVG9DYWxsYmFja3NSZWYiLCJ1c2VFZmZlY3QiLCJzY3JvbGxUb0NhbGxiYWNrcyIsImN1cnJlbnQiLCJwdXNoIiwicmVtb3ZlSW5saW5lIl0sInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvaW50ZXJuYWwvdXNlUmVnaXN0ZXJTY3JvbGxUby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCByZW1vdmVJbmxpbmUgZnJvbSAnLi4vLi4vVXRpbHMvcmVtb3ZlSW5saW5lJztcbmltcG9ydCB1c2VXZWJDaGF0VUlDb250ZXh0IGZyb20gJy4vdXNlV2ViQ2hhdFVJQ29udGV4dCc7XG5cbi8vIFRoaXMgaG9vayBpcyBmb3IgcmVnaXN0ZXJpbmcgYW5kIHVucmVnaXN0ZXIgYSBjYWxsYmFjaywgdXNlZCBieSA8QmFzaWNUcmFuc2NyaXB0Pi5cbi8vIFdoZW4gY2FsbGVkLCB0aGUgY2FsbGJhY2sgc2hvdWxkIHNjcm9sbCB0aGUgdHJhbnNjcmlwdCB0byBhIHNwZWNpZmljIHBvc2l0aW9uLCBmb3IgZXhhbXBsZSwgdG8gYW4gYWN0aXZpdHkgb2Ygc3BlY2lmaWVkIElELlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VSZWdpc3RlclNjcm9sbFRvKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHsgc2Nyb2xsVG9DYWxsYmFja3NSZWYgfSA9IHVzZVdlYkNoYXRVSUNvbnRleHQoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY29uc3QgeyBjdXJyZW50OiBzY3JvbGxUb0NhbGxiYWNrcyB9ID0gc2Nyb2xsVG9DYWxsYmFja3NSZWY7XG5cbiAgICAgIHNjcm9sbFRvQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXG4gICAgICByZXR1cm4gKCkgPT4gcmVtb3ZlSW5saW5lKHNjcm9sbFRvQ2FsbGJhY2tzLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCBbY2FsbGJhY2ssIHNjcm9sbFRvQ2FsbGJhY2tzUmVmXSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFDQTs7OztBQUVBO0FBQ0E7QUFFZSxTQUFTQSxtQkFBVCxDQUE2QkMsUUFBN0IsRUFBdUM7RUFDcEQsMkJBQWlDLElBQUFDLDZCQUFBLEdBQWpDO0VBQUEsSUFBUUMsb0JBQVIsd0JBQVFBLG9CQUFSOztFQUVBLElBQUFDLGdCQUFBLEVBQVUsWUFBTTtJQUNkLElBQUlILFFBQUosRUFBYztNQUNaLElBQWlCSSxpQkFBakIsR0FBdUNGLG9CQUF2QyxDQUFRRyxPQUFSO01BRUFELGlCQUFpQixDQUFDRSxJQUFsQixDQUF1Qk4sUUFBdkI7TUFFQSxPQUFPO1FBQUEsT0FBTSxJQUFBTyxxQkFBQSxFQUFhSCxpQkFBYixFQUFnQ0osUUFBaEMsQ0FBTjtNQUFBLENBQVA7SUFDRDtFQUNGLENBUkQsRUFRRyxDQUFDQSxRQUFELEVBQVdFLG9CQUFYLENBUkg7QUFTRCJ9