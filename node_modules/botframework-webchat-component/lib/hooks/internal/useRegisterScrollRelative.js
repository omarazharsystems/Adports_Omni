"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useRegisterScrollRelative;

var _react = require("react");

var _removeInline = _interopRequireDefault(require("../../Utils/removeInline"));

var _useWebChatUIContext2 = _interopRequireDefault(require("./useWebChatUIContext"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// This hook is for registering and unregister a callback, used by <BasicTranscript>.
// When called, the callback should scroll the transcript in a relative motion, for example, page up and down.
function useRegisterScrollRelative(callback) {
  var _useWebChatUIContext = (0, _useWebChatUIContext2.default)(),
      scrollRelativeCallbacksRef = _useWebChatUIContext.scrollRelativeCallbacksRef;

  (0, _react.useEffect)(function () {
    if (callback) {
      var scrollRelativeCallbacks = scrollRelativeCallbacksRef.current;
      scrollRelativeCallbacks.push(callback);
      return function () {
        return (0, _removeInline.default)(scrollRelativeCallbacks, callback);
      };
    }
  }, [callback, scrollRelativeCallbacksRef]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VSZWdpc3RlclNjcm9sbFJlbGF0aXZlIiwiY2FsbGJhY2siLCJ1c2VXZWJDaGF0VUlDb250ZXh0Iiwic2Nyb2xsUmVsYXRpdmVDYWxsYmFja3NSZWYiLCJ1c2VFZmZlY3QiLCJzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrcyIsImN1cnJlbnQiLCJwdXNoIiwicmVtb3ZlSW5saW5lIl0sInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaG9va3MvaW50ZXJuYWwvdXNlUmVnaXN0ZXJTY3JvbGxSZWxhdGl2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCByZW1vdmVJbmxpbmUgZnJvbSAnLi4vLi4vVXRpbHMvcmVtb3ZlSW5saW5lJztcbmltcG9ydCB1c2VXZWJDaGF0VUlDb250ZXh0IGZyb20gJy4vdXNlV2ViQ2hhdFVJQ29udGV4dCc7XG5cbi8vIFRoaXMgaG9vayBpcyBmb3IgcmVnaXN0ZXJpbmcgYW5kIHVucmVnaXN0ZXIgYSBjYWxsYmFjaywgdXNlZCBieSA8QmFzaWNUcmFuc2NyaXB0Pi5cbi8vIFdoZW4gY2FsbGVkLCB0aGUgY2FsbGJhY2sgc2hvdWxkIHNjcm9sbCB0aGUgdHJhbnNjcmlwdCBpbiBhIHJlbGF0aXZlIG1vdGlvbiwgZm9yIGV4YW1wbGUsIHBhZ2UgdXAgYW5kIGRvd24uXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVJlZ2lzdGVyU2Nyb2xsUmVsYXRpdmUoY2FsbGJhY2spIHtcbiAgY29uc3QgeyBzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrc1JlZiB9ID0gdXNlV2ViQ2hhdFVJQ29udGV4dCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnQ6IHNjcm9sbFJlbGF0aXZlQ2FsbGJhY2tzIH0gPSBzY3JvbGxSZWxhdGl2ZUNhbGxiYWNrc1JlZjtcblxuICAgICAgc2Nyb2xsUmVsYXRpdmVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cbiAgICAgIHJldHVybiAoKSA9PiByZW1vdmVJbmxpbmUoc2Nyb2xsUmVsYXRpdmVDYWxsYmFja3MsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIFtjYWxsYmFjaywgc2Nyb2xsUmVsYXRpdmVDYWxsYmFja3NSZWZdKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRUE7QUFDQTtBQUVlLFNBQVNBLHlCQUFULENBQW1DQyxRQUFuQyxFQUE2QztFQUMxRCwyQkFBdUMsSUFBQUMsNkJBQUEsR0FBdkM7RUFBQSxJQUFRQywwQkFBUix3QkFBUUEsMEJBQVI7O0VBRUEsSUFBQUMsZ0JBQUEsRUFBVSxZQUFNO0lBQ2QsSUFBSUgsUUFBSixFQUFjO01BQ1osSUFBaUJJLHVCQUFqQixHQUE2Q0YsMEJBQTdDLENBQVFHLE9BQVI7TUFFQUQsdUJBQXVCLENBQUNFLElBQXhCLENBQTZCTixRQUE3QjtNQUVBLE9BQU87UUFBQSxPQUFNLElBQUFPLHFCQUFBLEVBQWFILHVCQUFiLEVBQXNDSixRQUF0QyxDQUFOO01BQUEsQ0FBUDtJQUNEO0VBQ0YsQ0FSRCxFQVFHLENBQUNBLFFBQUQsRUFBV0UsMEJBQVgsQ0FSSDtBQVNEIn0=