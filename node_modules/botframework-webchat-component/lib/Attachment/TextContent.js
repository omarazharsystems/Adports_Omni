"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _useRenderMarkdownAsHTML = _interopRequireDefault(require("../hooks/useRenderMarkdownAsHTML"));

var _useStyleSet3 = _interopRequireDefault(require("../hooks/useStyleSet"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var TextContent = function TextContent(_ref) {
  var contentType = _ref.contentType,
      text = _ref.text;

  var _useStyleSet = (0, _useStyleSet3.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      textContentStyleSet = _useStyleSet2[0].textContent;

  var renderMarkdownAsHTML = (0, _useRenderMarkdownAsHTML.default)();
  var contentTypeMarkdown = contentType === 'text/markdown';
  return contentTypeMarkdown && renderMarkdownAsHTML ? /*#__PURE__*/_react.default.createElement("div", {
    className: (0, _classnames.default)('markdown', textContentStyleSet + ''),
    dangerouslySetInnerHTML: {
      __html: renderMarkdownAsHTML(text || '')
    }
  }) : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, (text || '').split('\n').map(function (line, index) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: (0, _classnames.default)('plain', textContentStyleSet + ''),
      key: index
    }, line.trim());
  }));
};

TextContent.defaultProps = {
  contentType: 'text/markdown'
};
TextContent.propTypes = {
  contentType: _propTypes.default.string,
  text: _propTypes.default.string.isRequired
};
var _default = TextContent;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUZXh0Q29udGVudCIsImNvbnRlbnRUeXBlIiwidGV4dCIsInVzZVN0eWxlU2V0IiwidGV4dENvbnRlbnRTdHlsZVNldCIsInRleHRDb250ZW50IiwicmVuZGVyTWFya2Rvd25Bc0hUTUwiLCJ1c2VSZW5kZXJNYXJrZG93bkFzSFRNTCIsImNvbnRlbnRUeXBlTWFya2Rvd24iLCJjbGFzc05hbWVzIiwiX19odG1sIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwiaW5kZXgiLCJ0cmltIiwiZGVmYXVsdFByb3BzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0F0dGFjaG1lbnQvVGV4dENvbnRlbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCByZWFjdC9uby1kYW5nZXI6IFwib2ZmXCIgKi9cbi8qIGVzbGludCByZWFjdC9uby1hcnJheS1pbmRleC1rZXk6IFwib2ZmXCIgKi9cblxuLy8gVGhlIGNvbnRlbnQgcmVuZGVyZWQgaGVyZSBpcyBzYW5pdGl6ZWQuXG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyBGQyB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHVzZVJlbmRlck1hcmtkb3duQXNIVE1MIGZyb20gJy4uL2hvb2tzL3VzZVJlbmRlck1hcmtkb3duQXNIVE1MJztcbmltcG9ydCB1c2VTdHlsZVNldCBmcm9tICcuLi9ob29rcy91c2VTdHlsZVNldCc7XG5cbnR5cGUgVGV4dENvbnRlbnRQcm9wcyA9IHtcbiAgY29udGVudFR5cGU/OiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbn07XG5cbmNvbnN0IFRleHRDb250ZW50OiBGQzxUZXh0Q29udGVudFByb3BzPiA9ICh7IGNvbnRlbnRUeXBlLCB0ZXh0IH0pID0+IHtcbiAgY29uc3QgW3sgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50U3R5bGVTZXQgfV0gPSB1c2VTdHlsZVNldCgpO1xuICBjb25zdCByZW5kZXJNYXJrZG93bkFzSFRNTCA9IHVzZVJlbmRlck1hcmtkb3duQXNIVE1MKCk7XG4gIGNvbnN0IGNvbnRlbnRUeXBlTWFya2Rvd24gPSBjb250ZW50VHlwZSA9PT0gJ3RleHQvbWFya2Rvd24nO1xuXG4gIHJldHVybiBjb250ZW50VHlwZU1hcmtkb3duICYmIHJlbmRlck1hcmtkb3duQXNIVE1MID8gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFya2Rvd24nLCB0ZXh0Q29udGVudFN0eWxlU2V0ICsgJycpfVxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiByZW5kZXJNYXJrZG93bkFzSFRNTCh0ZXh0IHx8ICcnKSB9fVxuICAgIC8+XG4gICkgOiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgeyh0ZXh0IHx8ICcnKS5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpbmRleCkgPT4gKFxuICAgICAgICA8cCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3BsYWluJywgdGV4dENvbnRlbnRTdHlsZVNldCArICcnKX0ga2V5PXtpbmRleH0+XG4gICAgICAgICAge2xpbmUudHJpbSgpfVxuICAgICAgICA8L3A+XG4gICAgICApKX1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufTtcblxuVGV4dENvbnRlbnQuZGVmYXVsdFByb3BzID0ge1xuICBjb250ZW50VHlwZTogJ3RleHQvbWFya2Rvd24nXG59O1xuXG5UZXh0Q29udGVudC5wcm9wVHlwZXMgPSB7XG4gIGNvbnRlbnRUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0ZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRDb250ZW50O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBS0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQSxJQUFNQSxXQUFpQyxHQUFHLFNBQXBDQSxXQUFvQyxPQUEyQjtFQUFBLElBQXhCQyxXQUF3QixRQUF4QkEsV0FBd0I7RUFBQSxJQUFYQyxJQUFXLFFBQVhBLElBQVc7O0VBQ25FLG1CQUErQyxJQUFBQyxxQkFBQSxHQUEvQztFQUFBO0VBQUEsSUFBc0JDLG1CQUF0QixvQkFBU0MsV0FBVDs7RUFDQSxJQUFNQyxvQkFBb0IsR0FBRyxJQUFBQyxnQ0FBQSxHQUE3QjtFQUNBLElBQU1DLG1CQUFtQixHQUFHUCxXQUFXLEtBQUssZUFBNUM7RUFFQSxPQUFPTyxtQkFBbUIsSUFBSUYsb0JBQXZCLGdCQUNMO0lBQ0UsU0FBUyxFQUFFLElBQUFHLG1CQUFBLEVBQVcsVUFBWCxFQUF1QkwsbUJBQW1CLEdBQUcsRUFBN0MsQ0FEYjtJQUVFLHVCQUF1QixFQUFFO01BQUVNLE1BQU0sRUFBRUosb0JBQW9CLENBQUNKLElBQUksSUFBSSxFQUFUO0lBQTlCO0VBRjNCLEVBREssZ0JBTUwsNkJBQUMsY0FBRCxDQUFPLFFBQVAsUUFDRyxDQUFDQSxJQUFJLElBQUksRUFBVCxFQUFhUyxLQUFiLENBQW1CLElBQW5CLEVBQXlCQyxHQUF6QixDQUE2QixVQUFDQyxJQUFELEVBQU9DLEtBQVA7SUFBQSxvQkFDNUI7TUFBRyxTQUFTLEVBQUUsSUFBQUwsbUJBQUEsRUFBVyxPQUFYLEVBQW9CTCxtQkFBbUIsR0FBRyxFQUExQyxDQUFkO01BQTZELEdBQUcsRUFBRVU7SUFBbEUsR0FDR0QsSUFBSSxDQUFDRSxJQUFMLEVBREgsQ0FENEI7RUFBQSxDQUE3QixDQURILENBTkY7QUFjRCxDQW5CRDs7QUFxQkFmLFdBQVcsQ0FBQ2dCLFlBQVosR0FBMkI7RUFDekJmLFdBQVcsRUFBRTtBQURZLENBQTNCO0FBSUFELFdBQVcsQ0FBQ2lCLFNBQVosR0FBd0I7RUFDdEJoQixXQUFXLEVBQUVpQixrQkFBQSxDQUFVQyxNQUREO0VBRXRCakIsSUFBSSxFQUFFZ0Isa0JBQUEsQ0FBVUMsTUFBVixDQUFpQkM7QUFGRCxDQUF4QjtlQUtlcEIsVyJ9