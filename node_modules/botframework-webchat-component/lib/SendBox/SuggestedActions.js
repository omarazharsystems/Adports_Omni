"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.connectSuggestedActions = void 0;

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _reactFilm = _interopRequireWildcard(require("react-film"));

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _computeSuggestedActionText = _interopRequireDefault(require("../Utils/computeSuggestedActionText"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

var _RovingTabIndexComposer = _interopRequireDefault(require("../providers/RovingTabIndex/RovingTabIndexComposer"));

var _SuggestedAction = _interopRequireDefault(require("./SuggestedAction"));

var _useFocus = _interopRequireDefault(require("../hooks/useFocus"));

var _useFocusWithin3 = _interopRequireDefault(require("../hooks/internal/useFocusWithin"));

var _useNonce3 = _interopRequireDefault(require("../hooks/internal/useNonce"));

var _useStyleSet7 = _interopRequireDefault(require("../hooks/useStyleSet"));

var _useStyleToEmotionObject = _interopRequireDefault(require("../hooks/internal/useStyleToEmotionObject"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var useDirection = _botframeworkWebchatApi.hooks.useDirection,
    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer,
    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions;
var ROOT_STYLE = {
  '&.webchat__suggested-actions': {
    '&.webchat__suggested-actions--flow-layout .webchat__suggested-actions__flow-box': {
      display: 'flex',
      flexWrap: 'wrap'
    },
    '&.webchat__suggested-actions--stack-layout .webchat__suggested-actions__stack': {
      display: 'flex',
      flexDirection: 'column'
    }
  }
};

var connectSuggestedActions = function connectSuggestedActions() {
  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(void 0, [function (_ref) {
    var language = _ref.language,
        suggestedActions = _ref.suggestedActions;
    return {
      language: language,
      suggestedActions: suggestedActions
    };
  }].concat(selectors));
};

exports.connectSuggestedActions = connectSuggestedActions;

var SuggestedActionCarouselContainer = function SuggestedActionCarouselContainer(_ref2) {
  var children = _ref2.children,
      className = _ref2.className,
      label = _ref2.label;

  var _useStyleOptions = useStyleOptions(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      _useStyleOptions2$ = _useStyleOptions2[0],
      suggestedActionsCarouselFlipperBoxWidth = _useStyleOptions2$.suggestedActionsCarouselFlipperBoxWidth,
      suggestedActionsCarouselFlipperCursor = _useStyleOptions2$.suggestedActionsCarouselFlipperCursor,
      suggestedActionsCarouselFlipperSize = _useStyleOptions2$.suggestedActionsCarouselFlipperSize;

  var _useStyleSet = (0, _useStyleSet7.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      suggestedActionsStyleSet = _useStyleSet2[0].suggestedActions;

  var _useDirection = useDirection(),
      _useDirection2 = _slicedToArray(_useDirection, 1),
      direction = _useDirection2[0];

  var _useNonce = (0, _useNonce3.default)(),
      _useNonce2 = _slicedToArray(_useNonce, 1),
      nonce = _useNonce2[0];

  var localize = useLocalizer();
  var ref = (0, _react.useRef)();
  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';
  var filmStyleSet = (0, _react.useMemo)(function () {
    return (0, _reactFilm.createBasicStyleSet)({
      autoHide: false,
      cursor: suggestedActionsCarouselFlipperCursor,
      flipperBoxWidth: suggestedActionsCarouselFlipperBoxWidth,
      flipperSize: suggestedActionsCarouselFlipperSize
    });
  }, [suggestedActionsCarouselFlipperBoxWidth, suggestedActionsCarouselFlipperCursor, suggestedActionsCarouselFlipperSize]);
  var nextFlipperAriaLabel = localize('SUGGESTED_ACTIONS_FLIPPER_NEXT_ALT');
  var previousFlipperAriaLabel = localize('SUGGESTED_ACTIONS_FLIPPER_PREVIOUS_ALT');

  var _useFocusWithin = (0, _useFocusWithin3.default)(ref),
      _useFocusWithin2 = _slicedToArray(_useFocusWithin, 1),
      focusedWithin = _useFocusWithin2[0];

  var leftFlipperAriaLabel = direction === 'rtl' ? nextFlipperAriaLabel : previousFlipperAriaLabel;
  var rightFlipperAriaLabel = direction === 'rtl' ? previousFlipperAriaLabel : nextFlipperAriaLabel;
  return (
    /*#__PURE__*/
    // TODO: The content of suggested actions should be the labelled by the activity.
    //       That means, when the user focus into the suggested actions, it should read similar to "Bot said, what's your preference of today? Suggested actions has items: apple button, orange button, banana button."
    _react.default.createElement("div", {
      "aria-label": label,
      "aria-orientation": "horizontal",
      className: (0, _classnames.default)('webchat__suggested-actions', 'webchat__suggested-actions--carousel-layout', {
        'webchat__suggested-actions--focus-within': focusedWithin,
        'webchat__suggested-actions--rtl': direction === 'rtl'
      }, rootClassName, suggestedActionsStyleSet + '', (className || '') + ''),
      ref: ref,
      role: "toolbar"
    }, !!children && !!_react.default.Children.count(children) && /*#__PURE__*/_react.default.createElement(_reactFilm.default, {
      autoCenter: false,
      className: "webchat__suggested-actions__carousel",
      dir: direction,
      flipperBlurFocusOnClick: true,
      leftFlipperAriaLabel: leftFlipperAriaLabel,
      nonce: nonce,
      rightFlipperAriaLabel: rightFlipperAriaLabel,
      showDots: false,
      showScrollBar: false,
      styleSet: filmStyleSet
    }, children), /*#__PURE__*/_react.default.createElement("div", {
      className: "webchat__suggested-actions__focus-indicator"
    }))
  );
};

SuggestedActionCarouselContainer.defaultProps = {
  children: undefined,
  className: undefined
};
SuggestedActionCarouselContainer.propTypes = {
  children: _propTypes.default.any,
  className: _propTypes.default.string,
  label: _propTypes.default.string.isRequired
};

var SuggestedActionFlowContainer = function SuggestedActionFlowContainer(_ref3) {
  var children = _ref3.children,
      className = _ref3.className,
      label = _ref3.label;

  var _useStyleSet3 = (0, _useStyleSet7.default)(),
      _useStyleSet4 = _slicedToArray(_useStyleSet3, 1),
      suggestedActionsStyleSet = _useStyleSet4[0].suggestedActions;

  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';
  return /*#__PURE__*/_react.default.createElement("div", {
    "aria-label": label,
    "aria-live": "polite",
    "aria-orientation": "horizontal",
    className: (0, _classnames.default)('webchat__suggested-actions', 'webchat__suggested-actions--flow-layout', rootClassName, suggestedActionsStyleSet + '', (className || '') + ''),
    role: "toolbar"
  }, !!children && !!_react.default.Children.count(children) && /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__suggested-actions__flow-box"
  }, _react.default.Children.map(children, function (child) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "webchat__suggested-actions__flow-item-box"
    }, child);
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__suggested-actions__focus-indicator"
  }));
};

SuggestedActionFlowContainer.defaultProps = {
  children: undefined,
  className: undefined
};
SuggestedActionFlowContainer.propTypes = {
  children: _propTypes.default.any,
  className: _propTypes.default.string,
  label: _propTypes.default.string.isRequired
};

var SuggestedActionStackedContainer = function SuggestedActionStackedContainer(_ref4) {
  var children = _ref4.children,
      className = _ref4.className,
      label = _ref4.label;

  var _useStyleSet5 = (0, _useStyleSet7.default)(),
      _useStyleSet6 = _slicedToArray(_useStyleSet5, 1),
      suggestedActionsStyleSet = _useStyleSet6[0].suggestedActions;

  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';
  return /*#__PURE__*/_react.default.createElement("div", {
    "aria-label": label,
    "aria-live": "polite",
    "aria-orientation": "vertical",
    className: (0, _classnames.default)('webchat__suggested-actions', 'webchat__suggested-actions--stacked-layout', rootClassName, suggestedActionsStyleSet + '', (className || '') + ''),
    role: "toolbar"
  }, !!children && !!_react.default.Children.count(children) && /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__suggested-actions__stack"
  }, children), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__suggested-actions__focus-indicator"
  }));
};

SuggestedActionStackedContainer.defaultProps = {
  children: undefined,
  className: undefined
};
SuggestedActionStackedContainer.propTypes = {
  children: _propTypes.default.any,
  className: _propTypes.default.string,
  label: _propTypes.default.string.isRequired
};

var SuggestedActions = function SuggestedActions(_ref5) {
  var className = _ref5.className,
      _ref5$suggestedAction = _ref5.suggestedActions,
      suggestedActions = _ref5$suggestedAction === void 0 ? [] : _ref5$suggestedAction;

  var _useStyleOptions3 = useStyleOptions(),
      _useStyleOptions4 = _slicedToArray(_useStyleOptions3, 1),
      _useStyleOptions4$ = _useStyleOptions4[0],
      suggestedActionLayout = _useStyleOptions4$.suggestedActionLayout,
      suggestedActionsStackedLayoutButtonTextWrap = _useStyleOptions4$.suggestedActionsStackedLayoutButtonTextWrap;

  var localize = useLocalizer();
  var focus = (0, _useFocus.default)();
  var handleEscapeKey = (0, _react.useCallback)(function () {
    focus('sendBox');
  }, [focus]);
  var label = localize('SUGGESTED_ACTIONS_LABEL_ALT');
  var children = suggestedActions.map(function (cardAction, index) {
    var _ref6 = cardAction,
        displayText = _ref6.displayText,
        image = _ref6.image,
        imageAltText = _ref6.imageAltText,
        text = _ref6.text,
        type = _ref6.type,
        value = _ref6.value;
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "webchat__suggested-actions__item-box",
      key: index
    }, /*#__PURE__*/_react.default.createElement(_SuggestedAction.default, {
      buttonText: (0, _computeSuggestedActionText.default)(cardAction),
      className: "webchat__suggested-actions__button",
      displayText: displayText,
      image: image // Image alt text should use `imageAltText` field and fallback to `text` field.
      // https://github.com/microsoft/botframework-sdk/blob/main/specs/botframework-activity/botframework-activity.md#image-alt-text
      ,
      imageAlt: image && (imageAltText || text),
      itemIndex: index,
      text: text,
      textClassName: suggestedActionLayout === 'stacked' && suggestedActionsStackedLayoutButtonTextWrap ? 'webchat__suggested-actions__button-text-stacked-text-wrap' : 'webchat__suggested-actions__button-text',
      type: type,
      value: value
    }));
  }); // If there are no suggested actions, we will render nothing.

  if (!children.length) {
    return null;
  }

  if (suggestedActionLayout === 'flow') {
    return /*#__PURE__*/_react.default.createElement(_RovingTabIndexComposer.default, {
      onEscapeKey: handleEscapeKey
    }, /*#__PURE__*/_react.default.createElement(SuggestedActionFlowContainer, {
      className: className,
      label: label
    }, children));
  } else if (suggestedActionLayout === 'stacked') {
    return /*#__PURE__*/_react.default.createElement(_RovingTabIndexComposer.default, {
      onEscapeKey: handleEscapeKey,
      orientation: "vertical"
    }, /*#__PURE__*/_react.default.createElement(SuggestedActionStackedContainer, {
      className: className,
      label: label
    }, children));
  }

  return /*#__PURE__*/_react.default.createElement(_RovingTabIndexComposer.default, {
    onEscapeKey: handleEscapeKey
  }, /*#__PURE__*/_react.default.createElement(SuggestedActionCarouselContainer, {
    className: className,
    label: label
  }, children));
};

SuggestedActions.defaultProps = {
  className: ''
};
SuggestedActions.propTypes = {
  className: _propTypes.default.string,
  // TypeScript class is not mappable to PropTypes.func
  // @ts-ignore
  suggestedActions: _propTypes.default.arrayOf(_propTypes.default.shape({
    displayText: _propTypes.default.string,
    image: _propTypes.default.string,
    imageAltText: _propTypes.default.string,
    text: _propTypes.default.string,
    title: _propTypes.default.string,
    type: _propTypes.default.string.isRequired,
    value: _propTypes.default.any
  })).isRequired
};

var _default = connectSuggestedActions()(SuggestedActions);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VEaXJlY3Rpb24iLCJob29rcyIsInVzZUxvY2FsaXplciIsInVzZVN0eWxlT3B0aW9ucyIsIlJPT1RfU1RZTEUiLCJkaXNwbGF5IiwiZmxleFdyYXAiLCJmbGV4RGlyZWN0aW9uIiwiY29ubmVjdFN1Z2dlc3RlZEFjdGlvbnMiLCJzZWxlY3RvcnMiLCJjb25uZWN0VG9XZWJDaGF0IiwibGFuZ3VhZ2UiLCJzdWdnZXN0ZWRBY3Rpb25zIiwiU3VnZ2VzdGVkQWN0aW9uQ2Fyb3VzZWxDb250YWluZXIiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImxhYmVsIiwic3VnZ2VzdGVkQWN0aW9uc0Nhcm91c2VsRmxpcHBlckJveFdpZHRoIiwic3VnZ2VzdGVkQWN0aW9uc0Nhcm91c2VsRmxpcHBlckN1cnNvciIsInN1Z2dlc3RlZEFjdGlvbnNDYXJvdXNlbEZsaXBwZXJTaXplIiwidXNlU3R5bGVTZXQiLCJzdWdnZXN0ZWRBY3Rpb25zU3R5bGVTZXQiLCJkaXJlY3Rpb24iLCJ1c2VOb25jZSIsIm5vbmNlIiwibG9jYWxpemUiLCJyZWYiLCJ1c2VSZWYiLCJyb290Q2xhc3NOYW1lIiwidXNlU3R5bGVUb0Vtb3Rpb25PYmplY3QiLCJmaWxtU3R5bGVTZXQiLCJ1c2VNZW1vIiwiY3JlYXRlQmFzaWNTdHlsZVNldEZvclJlYWN0RmlsbSIsImF1dG9IaWRlIiwiY3Vyc29yIiwiZmxpcHBlckJveFdpZHRoIiwiZmxpcHBlclNpemUiLCJuZXh0RmxpcHBlckFyaWFMYWJlbCIsInByZXZpb3VzRmxpcHBlckFyaWFMYWJlbCIsInVzZUZvY3VzV2l0aGluIiwiZm9jdXNlZFdpdGhpbiIsImxlZnRGbGlwcGVyQXJpYUxhYmVsIiwicmlnaHRGbGlwcGVyQXJpYUxhYmVsIiwiY2xhc3NOYW1lcyIsIlJlYWN0IiwiQ2hpbGRyZW4iLCJjb3VudCIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJTdWdnZXN0ZWRBY3Rpb25GbG93Q29udGFpbmVyIiwibWFwIiwiY2hpbGQiLCJTdWdnZXN0ZWRBY3Rpb25TdGFja2VkQ29udGFpbmVyIiwiU3VnZ2VzdGVkQWN0aW9ucyIsInN1Z2dlc3RlZEFjdGlvbkxheW91dCIsInN1Z2dlc3RlZEFjdGlvbnNTdGFja2VkTGF5b3V0QnV0dG9uVGV4dFdyYXAiLCJmb2N1cyIsInVzZUZvY3VzIiwiaGFuZGxlRXNjYXBlS2V5IiwidXNlQ2FsbGJhY2siLCJjYXJkQWN0aW9uIiwiaW5kZXgiLCJkaXNwbGF5VGV4dCIsImltYWdlIiwiaW1hZ2VBbHRUZXh0IiwidGV4dCIsInR5cGUiLCJ2YWx1ZSIsImNvbXB1dGVTdWdnZXN0ZWRBY3Rpb25UZXh0IiwibGVuZ3RoIiwiYXJyYXlPZiIsInNoYXBlIiwidGl0bGUiXSwic291cmNlUm9vdCI6ImNvbXBvbmVudDovLy8iLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9TZW5kQm94L1N1Z2dlc3RlZEFjdGlvbnMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCByZWFjdC9uby1hcnJheS1pbmRleC1rZXk6IFwib2ZmXCIgKi9cblxuaW1wb3J0IHsgaG9va3MgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1hcGknO1xuaW1wb3J0IEJhc2ljRmlsbSwgeyBjcmVhdGVCYXNpY1N0eWxlU2V0IGFzIGNyZWF0ZUJhc2ljU3R5bGVTZXRGb3JSZWFjdEZpbG0gfSBmcm9tICdyZWFjdC1maWxtJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyBGQywgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgRGlyZWN0TGluZUNhcmRBY3Rpb24gfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb3JlJztcblxuaW1wb3J0IGNvbXB1dGVTdWdnZXN0ZWRBY3Rpb25UZXh0IGZyb20gJy4uL1V0aWxzL2NvbXB1dGVTdWdnZXN0ZWRBY3Rpb25UZXh0JztcbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4uL2Nvbm5lY3RUb1dlYkNoYXQnO1xuaW1wb3J0IFJvdmluZ1RhYkluZGV4Q29tcG9zZXIgZnJvbSAnLi4vcHJvdmlkZXJzL1JvdmluZ1RhYkluZGV4L1JvdmluZ1RhYkluZGV4Q29tcG9zZXInO1xuaW1wb3J0IFN1Z2dlc3RlZEFjdGlvbiBmcm9tICcuL1N1Z2dlc3RlZEFjdGlvbic7XG5pbXBvcnQgdXNlRm9jdXMgZnJvbSAnLi4vaG9va3MvdXNlRm9jdXMnO1xuaW1wb3J0IHVzZUZvY3VzV2l0aGluIGZyb20gJy4uL2hvb2tzL2ludGVybmFsL3VzZUZvY3VzV2l0aGluJztcbmltcG9ydCB1c2VOb25jZSBmcm9tICcuLi9ob29rcy9pbnRlcm5hbC91c2VOb25jZSc7XG5pbXBvcnQgdXNlU3R5bGVTZXQgZnJvbSAnLi4vaG9va3MvdXNlU3R5bGVTZXQnO1xuaW1wb3J0IHVzZVN0eWxlVG9FbW90aW9uT2JqZWN0IGZyb20gJy4uL2hvb2tzL2ludGVybmFsL3VzZVN0eWxlVG9FbW90aW9uT2JqZWN0JztcblxuY29uc3QgeyB1c2VEaXJlY3Rpb24sIHVzZUxvY2FsaXplciwgdXNlU3R5bGVPcHRpb25zIH0gPSBob29rcztcblxuY29uc3QgUk9PVF9TVFlMRSA9IHtcbiAgJyYud2ViY2hhdF9fc3VnZ2VzdGVkLWFjdGlvbnMnOiB7XG4gICAgJyYud2ViY2hhdF9fc3VnZ2VzdGVkLWFjdGlvbnMtLWZsb3ctbGF5b3V0IC53ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9uc19fZmxvdy1ib3gnOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4V3JhcDogJ3dyYXAnXG4gICAgfSxcblxuICAgICcmLndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zLS1zdGFjay1sYXlvdXQgLndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zX19zdGFjayc6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBjb25uZWN0U3VnZ2VzdGVkQWN0aW9ucyA9ICguLi5zZWxlY3RvcnMpID0+XG4gIGNvbm5lY3RUb1dlYkNoYXQoXG4gICAgKHsgbGFuZ3VhZ2UsIHN1Z2dlc3RlZEFjdGlvbnMgfSkgPT4gKHtcbiAgICAgIGxhbmd1YWdlLFxuICAgICAgc3VnZ2VzdGVkQWN0aW9uc1xuICAgIH0pLFxuICAgIC4uLnNlbGVjdG9yc1xuICApO1xuXG5jb25zdCBTdWdnZXN0ZWRBY3Rpb25DYXJvdXNlbENvbnRhaW5lciA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGxhYmVsIH0pID0+IHtcbiAgY29uc3QgW1xuICAgIHtcbiAgICAgIHN1Z2dlc3RlZEFjdGlvbnNDYXJvdXNlbEZsaXBwZXJCb3hXaWR0aCxcbiAgICAgIHN1Z2dlc3RlZEFjdGlvbnNDYXJvdXNlbEZsaXBwZXJDdXJzb3IsXG4gICAgICBzdWdnZXN0ZWRBY3Rpb25zQ2Fyb3VzZWxGbGlwcGVyU2l6ZVxuICAgIH1cbiAgXSA9IHVzZVN0eWxlT3B0aW9ucygpO1xuICBjb25zdCBbeyBzdWdnZXN0ZWRBY3Rpb25zOiBzdWdnZXN0ZWRBY3Rpb25zU3R5bGVTZXQgfV0gPSB1c2VTdHlsZVNldCgpO1xuICBjb25zdCBbZGlyZWN0aW9uXSA9IHVzZURpcmVjdGlvbigpO1xuICBjb25zdCBbbm9uY2VdID0gdXNlTm9uY2UoKTtcbiAgY29uc3QgbG9jYWxpemUgPSB1c2VMb2NhbGl6ZXIoKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHJvb3RDbGFzc05hbWUgPSB1c2VTdHlsZVRvRW1vdGlvbk9iamVjdCgpKFJPT1RfU1RZTEUpICsgJyc7XG5cbiAgY29uc3QgZmlsbVN0eWxlU2V0ID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgY3JlYXRlQmFzaWNTdHlsZVNldEZvclJlYWN0RmlsbSh7XG4gICAgICAgIGF1dG9IaWRlOiBmYWxzZSxcbiAgICAgICAgY3Vyc29yOiBzdWdnZXN0ZWRBY3Rpb25zQ2Fyb3VzZWxGbGlwcGVyQ3Vyc29yLFxuICAgICAgICBmbGlwcGVyQm94V2lkdGg6IHN1Z2dlc3RlZEFjdGlvbnNDYXJvdXNlbEZsaXBwZXJCb3hXaWR0aCxcbiAgICAgICAgZmxpcHBlclNpemU6IHN1Z2dlc3RlZEFjdGlvbnNDYXJvdXNlbEZsaXBwZXJTaXplXG4gICAgICB9KSxcbiAgICBbXG4gICAgICBzdWdnZXN0ZWRBY3Rpb25zQ2Fyb3VzZWxGbGlwcGVyQm94V2lkdGgsXG4gICAgICBzdWdnZXN0ZWRBY3Rpb25zQ2Fyb3VzZWxGbGlwcGVyQ3Vyc29yLFxuICAgICAgc3VnZ2VzdGVkQWN0aW9uc0Nhcm91c2VsRmxpcHBlclNpemVcbiAgICBdXG4gICk7XG4gIGNvbnN0IG5leHRGbGlwcGVyQXJpYUxhYmVsID0gbG9jYWxpemUoJ1NVR0dFU1RFRF9BQ1RJT05TX0ZMSVBQRVJfTkVYVF9BTFQnKTtcbiAgY29uc3QgcHJldmlvdXNGbGlwcGVyQXJpYUxhYmVsID0gbG9jYWxpemUoJ1NVR0dFU1RFRF9BQ1RJT05TX0ZMSVBQRVJfUFJFVklPVVNfQUxUJyk7XG5cbiAgY29uc3QgW2ZvY3VzZWRXaXRoaW5dID0gdXNlRm9jdXNXaXRoaW4ocmVmKTtcbiAgY29uc3QgbGVmdEZsaXBwZXJBcmlhTGFiZWwgPSBkaXJlY3Rpb24gPT09ICdydGwnID8gbmV4dEZsaXBwZXJBcmlhTGFiZWwgOiBwcmV2aW91c0ZsaXBwZXJBcmlhTGFiZWw7XG4gIGNvbnN0IHJpZ2h0RmxpcHBlckFyaWFMYWJlbCA9IGRpcmVjdGlvbiA9PT0gJ3J0bCcgPyBwcmV2aW91c0ZsaXBwZXJBcmlhTGFiZWwgOiBuZXh0RmxpcHBlckFyaWFMYWJlbDtcblxuICByZXR1cm4gKFxuICAgIC8vIFRPRE86IFRoZSBjb250ZW50IG9mIHN1Z2dlc3RlZCBhY3Rpb25zIHNob3VsZCBiZSB0aGUgbGFiZWxsZWQgYnkgdGhlIGFjdGl2aXR5LlxuICAgIC8vICAgICAgIFRoYXQgbWVhbnMsIHdoZW4gdGhlIHVzZXIgZm9jdXMgaW50byB0aGUgc3VnZ2VzdGVkIGFjdGlvbnMsIGl0IHNob3VsZCByZWFkIHNpbWlsYXIgdG8gXCJCb3Qgc2FpZCwgd2hhdCdzIHlvdXIgcHJlZmVyZW5jZSBvZiB0b2RheT8gU3VnZ2VzdGVkIGFjdGlvbnMgaGFzIGl0ZW1zOiBhcHBsZSBidXR0b24sIG9yYW5nZSBidXR0b24sIGJhbmFuYSBidXR0b24uXCJcbiAgICA8ZGl2XG4gICAgICBhcmlhLWxhYmVsPXtsYWJlbH1cbiAgICAgIGFyaWEtb3JpZW50YXRpb249XCJob3Jpem9udGFsXCJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgJ3dlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zJyxcbiAgICAgICAgJ3dlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zLS1jYXJvdXNlbC1sYXlvdXQnLFxuICAgICAgICB7XG4gICAgICAgICAgJ3dlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zLS1mb2N1cy13aXRoaW4nOiBmb2N1c2VkV2l0aGluLFxuICAgICAgICAgICd3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9ucy0tcnRsJzogZGlyZWN0aW9uID09PSAncnRsJ1xuICAgICAgICB9LFxuICAgICAgICByb290Q2xhc3NOYW1lLFxuICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zU3R5bGVTZXQgKyAnJyxcbiAgICAgICAgKGNsYXNzTmFtZSB8fCAnJykgKyAnJ1xuICAgICAgKX1cbiAgICAgIHJlZj17cmVmfVxuICAgICAgcm9sZT1cInRvb2xiYXJcIlxuICAgID5cbiAgICAgIHshIWNoaWxkcmVuICYmICEhUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pICYmIChcbiAgICAgICAgPEJhc2ljRmlsbVxuICAgICAgICAgIGF1dG9DZW50ZXI9e2ZhbHNlfVxuICAgICAgICAgIGNsYXNzTmFtZT1cIndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zX19jYXJvdXNlbFwiXG4gICAgICAgICAgZGlyPXtkaXJlY3Rpb259XG4gICAgICAgICAgZmxpcHBlckJsdXJGb2N1c09uQ2xpY2s9e3RydWV9XG4gICAgICAgICAgbGVmdEZsaXBwZXJBcmlhTGFiZWw9e2xlZnRGbGlwcGVyQXJpYUxhYmVsfVxuICAgICAgICAgIG5vbmNlPXtub25jZX1cbiAgICAgICAgICByaWdodEZsaXBwZXJBcmlhTGFiZWw9e3JpZ2h0RmxpcHBlckFyaWFMYWJlbH1cbiAgICAgICAgICBzaG93RG90cz17ZmFsc2V9XG4gICAgICAgICAgc2hvd1Njcm9sbEJhcj17ZmFsc2V9XG4gICAgICAgICAgc3R5bGVTZXQ9e2ZpbG1TdHlsZVNldH1cbiAgICAgICAgPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9CYXNpY0ZpbG0+XG4gICAgICApfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9uc19fZm9jdXMtaW5kaWNhdG9yXCIgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblN1Z2dlc3RlZEFjdGlvbkNhcm91c2VsQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG5cblN1Z2dlc3RlZEFjdGlvbkNhcm91c2VsQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufTtcblxuY29uc3QgU3VnZ2VzdGVkQWN0aW9uRmxvd0NvbnRhaW5lciA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGxhYmVsIH0pID0+IHtcbiAgY29uc3QgW3sgc3VnZ2VzdGVkQWN0aW9uczogc3VnZ2VzdGVkQWN0aW9uc1N0eWxlU2V0IH1dID0gdXNlU3R5bGVTZXQoKTtcbiAgY29uc3Qgcm9vdENsYXNzTmFtZSA9IHVzZVN0eWxlVG9FbW90aW9uT2JqZWN0KCkoUk9PVF9TVFlMRSkgKyAnJztcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgIGFyaWEtb3JpZW50YXRpb249XCJob3Jpem9udGFsXCJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcbiAgICAgICAgJ3dlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zJyxcbiAgICAgICAgJ3dlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zLS1mbG93LWxheW91dCcsXG4gICAgICAgIHJvb3RDbGFzc05hbWUsXG4gICAgICAgIHN1Z2dlc3RlZEFjdGlvbnNTdHlsZVNldCArICcnLFxuICAgICAgICAoY2xhc3NOYW1lIHx8ICcnKSArICcnXG4gICAgICApfVxuICAgICAgcm9sZT1cInRvb2xiYXJcIlxuICAgID5cbiAgICAgIHshIWNoaWxkcmVuICYmICEhUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9uc19fZmxvdy1ib3hcIj5cbiAgICAgICAgICB7UmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBjaGlsZCA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zX19mbG93LWl0ZW0tYm94XCI+e2NoaWxkfTwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zX19mb2N1cy1pbmRpY2F0b3JcIiAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuU3VnZ2VzdGVkQWN0aW9uRmxvd0NvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoaWxkcmVuOiB1bmRlZmluZWQsXG4gIGNsYXNzTmFtZTogdW5kZWZpbmVkXG59O1xuXG5TdWdnZXN0ZWRBY3Rpb25GbG93Q29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufTtcblxuY29uc3QgU3VnZ2VzdGVkQWN0aW9uU3RhY2tlZENvbnRhaW5lciA9ICh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGxhYmVsIH0pID0+IHtcbiAgY29uc3QgW3sgc3VnZ2VzdGVkQWN0aW9uczogc3VnZ2VzdGVkQWN0aW9uc1N0eWxlU2V0IH1dID0gdXNlU3R5bGVTZXQoKTtcbiAgY29uc3Qgcm9vdENsYXNzTmFtZSA9IHVzZVN0eWxlVG9FbW90aW9uT2JqZWN0KCkoUk9PVF9TVFlMRSkgKyAnJztcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgIGFyaWEtb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXG4gICAgICAgICd3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9ucycsXG4gICAgICAgICd3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9ucy0tc3RhY2tlZC1sYXlvdXQnLFxuICAgICAgICByb290Q2xhc3NOYW1lLFxuICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zU3R5bGVTZXQgKyAnJyxcbiAgICAgICAgKGNsYXNzTmFtZSB8fCAnJykgKyAnJ1xuICAgICAgKX1cbiAgICAgIHJvbGU9XCJ0b29sYmFyXCJcbiAgICA+XG4gICAgICB7ISFjaGlsZHJlbiAmJiAhIVJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2ViY2hhdF9fc3VnZ2VzdGVkLWFjdGlvbnNfX3N0YWNrXCI+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2ViY2hhdF9fc3VnZ2VzdGVkLWFjdGlvbnNfX2ZvY3VzLWluZGljYXRvclwiIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5TdWdnZXN0ZWRBY3Rpb25TdGFja2VkQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG5cblN1Z2dlc3RlZEFjdGlvblN0YWNrZWRDb250YWluZXIucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG59O1xuXG50eXBlIFN1Z2dlc3RlZEFjdGlvbnNQcm9wcyA9IHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBzdWdnZXN0ZWRBY3Rpb25zPzogRGlyZWN0TGluZUNhcmRBY3Rpb25bXTtcbn07XG5cbmNvbnN0IFN1Z2dlc3RlZEFjdGlvbnM6IEZDPFN1Z2dlc3RlZEFjdGlvbnNQcm9wcz4gPSAoeyBjbGFzc05hbWUsIHN1Z2dlc3RlZEFjdGlvbnMgPSBbXSB9KSA9PiB7XG4gIGNvbnN0IFt7IHN1Z2dlc3RlZEFjdGlvbkxheW91dCwgc3VnZ2VzdGVkQWN0aW9uc1N0YWNrZWRMYXlvdXRCdXR0b25UZXh0V3JhcCB9XSA9IHVzZVN0eWxlT3B0aW9ucygpO1xuICBjb25zdCBsb2NhbGl6ZSA9IHVzZUxvY2FsaXplcigpO1xuICBjb25zdCBmb2N1cyA9IHVzZUZvY3VzKCk7XG5cbiAgY29uc3QgaGFuZGxlRXNjYXBlS2V5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGZvY3VzKCdzZW5kQm94Jyk7XG4gIH0sIFtmb2N1c10pO1xuXG4gIGNvbnN0IGxhYmVsID0gbG9jYWxpemUoJ1NVR0dFU1RFRF9BQ1RJT05TX0xBQkVMX0FMVCcpO1xuXG4gIGNvbnN0IGNoaWxkcmVuID0gc3VnZ2VzdGVkQWN0aW9ucy5tYXAoKGNhcmRBY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgeyBkaXNwbGF5VGV4dCwgaW1hZ2UsIGltYWdlQWx0VGV4dCwgdGV4dCwgdHlwZSwgdmFsdWUgfSA9IGNhcmRBY3Rpb24gYXMge1xuICAgICAgZGlzcGxheVRleHQ/OiBzdHJpbmc7XG4gICAgICBpbWFnZT86IHN0cmluZztcbiAgICAgIGltYWdlQWx0VGV4dD86IHN0cmluZztcbiAgICAgIHRleHQ/OiBzdHJpbmc7XG4gICAgICB0eXBlOlxuICAgICAgICB8ICdjYWxsJ1xuICAgICAgICB8ICdkb3dubG9hZEZpbGUnXG4gICAgICAgIHwgJ2ltQmFjaydcbiAgICAgICAgfCAnbWVzc2FnZUJhY2snXG4gICAgICAgIHwgJ29wZW5VcmwnXG4gICAgICAgIHwgJ3BsYXlBdWRpbydcbiAgICAgICAgfCAncGxheVZpZGVvJ1xuICAgICAgICB8ICdwb3N0QmFjaydcbiAgICAgICAgfCAnc2hvd0ltYWdlJ1xuICAgICAgICB8ICdzaWduaW4nO1xuICAgICAgdmFsdWU/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHwgc3RyaW5nO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9uc19faXRlbS1ib3hcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgPFN1Z2dlc3RlZEFjdGlvblxuICAgICAgICAgIGJ1dHRvblRleHQ9e2NvbXB1dGVTdWdnZXN0ZWRBY3Rpb25UZXh0KGNhcmRBY3Rpb24pfVxuICAgICAgICAgIGNsYXNzTmFtZT1cIndlYmNoYXRfX3N1Z2dlc3RlZC1hY3Rpb25zX19idXR0b25cIlxuICAgICAgICAgIGRpc3BsYXlUZXh0PXtkaXNwbGF5VGV4dH1cbiAgICAgICAgICBpbWFnZT17aW1hZ2V9XG4gICAgICAgICAgLy8gSW1hZ2UgYWx0IHRleHQgc2hvdWxkIHVzZSBgaW1hZ2VBbHRUZXh0YCBmaWVsZCBhbmQgZmFsbGJhY2sgdG8gYHRleHRgIGZpZWxkLlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvYm90ZnJhbWV3b3JrLXNkay9ibG9iL21haW4vc3BlY3MvYm90ZnJhbWV3b3JrLWFjdGl2aXR5L2JvdGZyYW1ld29yay1hY3Rpdml0eS5tZCNpbWFnZS1hbHQtdGV4dFxuICAgICAgICAgIGltYWdlQWx0PXtpbWFnZSAmJiAoaW1hZ2VBbHRUZXh0IHx8IHRleHQpfVxuICAgICAgICAgIGl0ZW1JbmRleD17aW5kZXh9XG4gICAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXtcbiAgICAgICAgICAgIHN1Z2dlc3RlZEFjdGlvbkxheW91dCA9PT0gJ3N0YWNrZWQnICYmIHN1Z2dlc3RlZEFjdGlvbnNTdGFja2VkTGF5b3V0QnV0dG9uVGV4dFdyYXBcbiAgICAgICAgICAgICAgPyAnd2ViY2hhdF9fc3VnZ2VzdGVkLWFjdGlvbnNfX2J1dHRvbi10ZXh0LXN0YWNrZWQtdGV4dC13cmFwJ1xuICAgICAgICAgICAgICA6ICd3ZWJjaGF0X19zdWdnZXN0ZWQtYWN0aW9uc19fYnV0dG9uLXRleHQnXG4gICAgICAgICAgfVxuICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gSWYgdGhlcmUgYXJlIG5vIHN1Z2dlc3RlZCBhY3Rpb25zLCB3ZSB3aWxsIHJlbmRlciBub3RoaW5nLlxuICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHN1Z2dlc3RlZEFjdGlvbkxheW91dCA9PT0gJ2Zsb3cnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSb3ZpbmdUYWJJbmRleENvbXBvc2VyIG9uRXNjYXBlS2V5PXtoYW5kbGVFc2NhcGVLZXl9PlxuICAgICAgICA8U3VnZ2VzdGVkQWN0aW9uRmxvd0NvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzTmFtZX0gbGFiZWw9e2xhYmVsfT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU3VnZ2VzdGVkQWN0aW9uRmxvd0NvbnRhaW5lcj5cbiAgICAgIDwvUm92aW5nVGFiSW5kZXhDb21wb3Nlcj5cbiAgICApO1xuICB9IGVsc2UgaWYgKHN1Z2dlc3RlZEFjdGlvbkxheW91dCA9PT0gJ3N0YWNrZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSb3ZpbmdUYWJJbmRleENvbXBvc2VyIG9uRXNjYXBlS2V5PXtoYW5kbGVFc2NhcGVLZXl9IG9yaWVudGF0aW9uPVwidmVydGljYWxcIj5cbiAgICAgICAgPFN1Z2dlc3RlZEFjdGlvblN0YWNrZWRDb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGxhYmVsPXtsYWJlbH0+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1N1Z2dlc3RlZEFjdGlvblN0YWNrZWRDb250YWluZXI+XG4gICAgICA8L1JvdmluZ1RhYkluZGV4Q29tcG9zZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJvdmluZ1RhYkluZGV4Q29tcG9zZXIgb25Fc2NhcGVLZXk9e2hhbmRsZUVzY2FwZUtleX0+XG4gICAgICA8U3VnZ2VzdGVkQWN0aW9uQ2Fyb3VzZWxDb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGxhYmVsPXtsYWJlbH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU3VnZ2VzdGVkQWN0aW9uQ2Fyb3VzZWxDb250YWluZXI+XG4gICAgPC9Sb3ZpbmdUYWJJbmRleENvbXBvc2VyPlxuICApO1xufTtcblxuU3VnZ2VzdGVkQWN0aW9ucy5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG5cblN1Z2dlc3RlZEFjdGlvbnMucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLy8gVHlwZVNjcmlwdCBjbGFzcyBpcyBub3QgbWFwcGFibGUgdG8gUHJvcFR5cGVzLmZ1bmNcbiAgLy8gQHRzLWlnbm9yZVxuICBzdWdnZXN0ZWRBY3Rpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihcbiAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZGlzcGxheVRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICBpbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIGltYWdlQWx0VGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55XG4gICAgfSlcbiAgKS5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0U3VnZ2VzdGVkQWN0aW9ucygpKFN1Z2dlc3RlZEFjdGlvbnMpO1xuXG5leHBvcnQgeyBjb25uZWN0U3VnZ2VzdGVkQWN0aW9ucyB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFRQSxZQUFSLEdBQXdEQyw2QkFBeEQsQ0FBUUQsWUFBUjtBQUFBLElBQXNCRSxZQUF0QixHQUF3REQsNkJBQXhELENBQXNCQyxZQUF0QjtBQUFBLElBQW9DQyxlQUFwQyxHQUF3REYsNkJBQXhELENBQW9DRSxlQUFwQztBQUVBLElBQU1DLFVBQVUsR0FBRztFQUNqQixnQ0FBZ0M7SUFDOUIsbUZBQW1GO01BQ2pGQyxPQUFPLEVBQUUsTUFEd0U7TUFFakZDLFFBQVEsRUFBRTtJQUZ1RSxDQURyRDtJQU05QixpRkFBaUY7TUFDL0VELE9BQU8sRUFBRSxNQURzRTtNQUUvRUUsYUFBYSxF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