"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
exports.getEarliestUpdateNotBefore = getEarliestUpdateNotBefore;

var _react = require("react");

var _simpleUpdateIn = _interopRequireDefault(require("simple-update-in"));

var _findMin = _interopRequireDefault(require("../utils/findMin"));

var _useForceRender = _interopRequireDefault(require("./internal/useForceRender"));

var _useNotifications3 = _interopRequireDefault(require("./useNotifications"));

var _usePonyfill3 = _interopRequireDefault(require("./usePonyfill"));

var _useStyleOptions3 = _interopRequireDefault(require("./useStyleOptions"));

var _useTimer = _interopRequireDefault(require("./internal/useTimer"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function getEarliestUpdateNotBefore(notificationMap) {
  return (0, _findMin.default)(Object.values(notificationMap).filter(function (_ref) {
    var outOfDate = _ref.outOfDate;
    return outOfDate;
  }).map(function (_ref2) {
    var updateNotBefore = _ref2.updateNotBefore;
    return updateNotBefore;
  }));
}

function useDebouncedNotifications() {
  var _usePonyfill = (0, _usePonyfill3.default)(),
      _usePonyfill2 = _slicedToArray(_usePonyfill, 1),
      Date = _usePonyfill2[0].Date;

  var _useStyleOptions = (0, _useStyleOptions3.default)(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      notificationDebounceTimeout = _useStyleOptions2[0].notificationDebounceTimeout;

  var _useNotifications = (0, _useNotifications3.default)(),
      _useNotifications2 = _slicedToArray(_useNotifications, 1),
      notifications = _useNotifications2[0];

  var debouncedNotificationsRef = (0, _react.useRef)({});
  var forceRender = (0, _useForceRender.default)();
  var now = Date.now(); // Delete notifications or mark them to be deleted if debouncing.

  var _iterator = _createForOfIteratorHelper(Object.keys(debouncedNotificationsRef.current).filter(function (id) {
    return !(id in notifications);
  })),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var _id = _step.value;
      debouncedNotificationsRef.current = (0, _simpleUpdateIn.default)(debouncedNotificationsRef.current, [_id], function (debouncedNotification) {
        if (now < debouncedNotification.updateNotBefore) {
          // The update need to be postponed.
          return _objectSpread(_objectSpread({}, debouncedNotification), {}, {
            outOfDate: true
          });
        } // Otherwise, return undefined will remove it.

      });
    } // For any changes, update notifications or mark them to be updated if debouncing.

  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  var _loop = function _loop() {
    var _Object$entries$_i = _slicedToArray(_Object$entries[_i2], 2),
        _Object$entries$_i$ = _Object$entries$_i[1],
        alt = _Object$entries$_i$.alt,
        data = _Object$entries$_i$.data,
        id = _Object$entries$_i$.id,
        level = _Object$entries$_i$.level,
        message = _Object$entries$_i$.message,
        timestamp = _Object$entries$_i$.timestamp;

    debouncedNotificationsRef.current = (0, _simpleUpdateIn.default)(debouncedNotificationsRef.current, [id], function (debouncedNotification) {
      if (debouncedNotification && alt === debouncedNotification.alt && Object.is(data, debouncedNotification.data) && level === debouncedNotification.level && message === debouncedNotification.message && timestamp === debouncedNotification.timestamp) {
        // If nothing changed, return as-is.
        return debouncedNotification;
      }

      if (debouncedNotification && now < debouncedNotification.updateNotBefore) {
        // The update need to be postponed.
        return _objectSpread(_objectSpread({}, debouncedNotification), {}, {
          outOfDate: true
        });
      } // Update the notification.


      return _objectSpread(_objectSpread({}, debouncedNotification), {}, {
        alt: alt,
        data: data,
        id: id,
        level: level,
        message: message,
        outOfDate: false,
        timestamp: timestamp,
        updateNotBefore: now + notificationDebounceTimeout
      });
    });
  };

  for (var _i2 = 0, _Object$entries = Object.entries(notifications); _i2 < _Object$entries.length; _i2++) {
    _loop();
  }

  (0, _useTimer.default)(getEarliestUpdateNotBefore(debouncedNotificationsRef.current), forceRender);
  return [debouncedNotificationsRef.current];
}

var _default = useDebouncedNotifications;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRFYXJsaWVzdFVwZGF0ZU5vdEJlZm9yZSIsIm5vdGlmaWNhdGlvbk1hcCIsImZpbmRNaW4iLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJvdXRPZkRhdGUiLCJtYXAiLCJ1cGRhdGVOb3RCZWZvcmUiLCJ1c2VEZWJvdW5jZWROb3RpZmljYXRpb25zIiwidXNlUG9ueWZpbGwiLCJEYXRlIiwidXNlU3R5bGVPcHRpb25zIiwibm90aWZpY2F0aW9uRGVib3VuY2VUaW1lb3V0IiwidXNlTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJkZWJvdW5jZWROb3RpZmljYXRpb25zUmVmIiwidXNlUmVmIiwiZm9yY2VSZW5kZXIiLCJ1c2VGb3JjZVJlbmRlciIsIm5vdyIsImtleXMiLCJjdXJyZW50IiwiaWQiLCJ1cGRhdGVJbiIsImRlYm91bmNlZE5vdGlmaWNhdGlvbiIsImFsdCIsImRhdGEiLCJsZXZlbCIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJpcyIsImVudHJpZXMiLCJ1c2VUaW1lciJdLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hvb2tzL3VzZURlYm91bmNlZE5vdGlmaWNhdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVwZGF0ZUluIGZyb20gJ3NpbXBsZS11cGRhdGUtaW4nO1xuXG5pbXBvcnQgZmluZE1pbiBmcm9tICcuLi91dGlscy9maW5kTWluJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vdHlwZXMvTm90aWZpY2F0aW9uJztcbmltcG9ydCB1c2VGb3JjZVJlbmRlciBmcm9tICcuL2ludGVybmFsL3VzZUZvcmNlUmVuZGVyJztcbmltcG9ydCB1c2VOb3RpZmljYXRpb25zIGZyb20gJy4vdXNlTm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgdXNlUG9ueWZpbGwgZnJvbSAnLi91c2VQb255ZmlsbCc7XG5pbXBvcnQgdXNlU3R5bGVPcHRpb25zIGZyb20gJy4vdXNlU3R5bGVPcHRpb25zJztcbmltcG9ydCB1c2VUaW1lciBmcm9tICcuL2ludGVybmFsL3VzZVRpbWVyJztcblxudHlwZSBEZWJvdW5jZWROb3RpZmljYXRpb24gPSBOb3RpZmljYXRpb24gJiB7XG4gIG91dE9mRGF0ZTogYm9vbGVhbjtcbiAgdXBkYXRlTm90QmVmb3JlOiBudW1iZXI7XG59O1xuXG50eXBlIERlYm91bmNlZE5vdGlmaWNhdGlvbnMgPSB7IFtpZDogc3RyaW5nXTogRGVib3VuY2VkTm90aWZpY2F0aW9uIH07XG5cbmZ1bmN0aW9uIGdldEVhcmxpZXN0VXBkYXRlTm90QmVmb3JlKG5vdGlmaWNhdGlvbk1hcDogRGVib3VuY2VkTm90aWZpY2F0aW9ucykge1xuICByZXR1cm4gZmluZE1pbihcbiAgICBPYmplY3QudmFsdWVzKG5vdGlmaWNhdGlvbk1hcClcbiAgICAgIC5maWx0ZXIoKHsgb3V0T2ZEYXRlIH0pID0+IG91dE9mRGF0ZSlcbiAgICAgIC5tYXAoKHsgdXBkYXRlTm90QmVmb3JlIH0pID0+IHVwZGF0ZU5vdEJlZm9yZSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gdXNlRGVib3VuY2VkTm90aWZpY2F0aW9ucygpOiBbRGVib3VuY2VkTm90aWZpY2F0aW9uc10ge1xuICBjb25zdCBbeyBEYXRlIH1dID0gdXNlUG9ueWZpbGwoKTtcbiAgY29uc3QgW3sgbm90aWZpY2F0aW9uRGVib3VuY2VUaW1lb3V0IH1dID0gdXNlU3R5bGVPcHRpb25zKCk7XG4gIGNvbnN0IFtub3RpZmljYXRpb25zXSA9IHVzZU5vdGlmaWNhdGlvbnMoKTtcbiAgY29uc3QgZGVib3VuY2VkTm90aWZpY2F0aW9uc1JlZiA9IHVzZVJlZih7fSk7XG4gIGNvbnN0IGZvcmNlUmVuZGVyID0gdXNlRm9yY2VSZW5kZXIoKTtcblxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gIC8vIERlbGV0ZSBub3RpZmljYXRpb25zIG9yIG1hcmsgdGhlbSB0byBiZSBkZWxldGVkIGlmIGRlYm91bmNpbmcuXG4gIGZvciAoY29uc3QgaWQgb2YgT2JqZWN0LmtleXMoZGVib3VuY2VkTm90aWZpY2F0aW9uc1JlZi5jdXJyZW50KS5maWx0ZXIoaWQgPT4gIShpZCBpbiBub3RpZmljYXRpb25zKSkpIHtcbiAgICBkZWJvdW5jZWROb3RpZmljYXRpb25zUmVmLmN1cnJlbnQgPSB1cGRhdGVJbihkZWJvdW5jZWROb3RpZmljYXRpb25zUmVmLmN1cnJlbnQsIFtpZF0sIGRlYm91bmNlZE5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICBpZiAobm93IDwgZGVib3VuY2VkTm90aWZpY2F0aW9uLnVwZGF0ZU5vdEJlZm9yZSkge1xuICAgICAgICAvLyBUaGUgdXBkYXRlIG5lZWQgdG8gYmUgcG9zdHBvbmVkLlxuICAgICAgICByZXR1cm4geyAuLi5kZWJvdW5jZWROb3RpZmljYXRpb24sIG91dE9mRGF0ZTogdHJ1ZSB9O1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIHJldHVybiB1bmRlZmluZWQgd2lsbCByZW1vdmUgaXQuXG4gICAgfSk7XG4gIH1cblxuICAvLyBGb3IgYW55IGNoYW5nZXMsIHVwZGF0ZSBub3RpZmljYXRpb25zIG9yIG1hcmsgdGhlbSB0byBiZSB1cGRhdGVkIGlmIGRlYm91bmNpbmcuXG4gIGZvciAoY29uc3QgWywgeyBhbHQsIGRhdGEsIGlkLCBsZXZlbCwgbWVzc2FnZSwgdGltZXN0YW1wIH1dIG9mIE9iamVjdC5lbnRyaWVzKG5vdGlmaWNhdGlvbnMpKSB7XG4gICAgZGVib3VuY2VkTm90aWZpY2F0aW9uc1JlZi5jdXJyZW50ID0gdXBkYXRlSW4oZGVib3VuY2VkTm90aWZpY2F0aW9uc1JlZi5jdXJyZW50LCBbaWRdLCBkZWJvdW5jZWROb3RpZmljYXRpb24gPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBkZWJvdW5jZWROb3RpZmljYXRpb24gJiZcbiAgICAgICAgYWx0ID09PSBkZWJvdW5jZWROb3RpZmljYXRpb24uYWx0ICYmXG4gICAgICAgIE9iamVjdC5pcyhkYXRhLCBkZWJvdW5jZWROb3RpZmljYXRpb24uZGF0YSkgJiZcbiAgICAgICAgbGV2ZWwgPT09IGRlYm91bmNlZE5vdGlmaWNhdGlvbi5sZXZlbCAmJlxuICAgICAgICBtZXNzYWdlID09PSBkZWJvdW5jZWROb3RpZmljYXRpb24ubWVzc2FnZSAmJlxuICAgICAgICB0aW1lc3RhbXAgPT09IGRlYm91bmNlZE5vdGlmaWNhdGlvbi50aW1lc3RhbXBcbiAgICAgICkge1xuICAgICAgICAvLyBJZiBub3RoaW5nIGNoYW5nZWQsIHJldHVybiBhcy1pcy5cbiAgICAgICAgcmV0dXJuIGRlYm91bmNlZE5vdGlmaWNhdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlYm91bmNlZE5vdGlmaWNhdGlvbiAmJiBub3cgPCBkZWJvdW5jZWROb3RpZmljYXRpb24udXBkYXRlTm90QmVmb3JlKSB7XG4gICAgICAgIC8vIFRoZSB1cGRhdGUgbmVlZCB0byBiZSBwb3N0cG9uZWQuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZGVib3VuY2VkTm90aWZpY2F0aW9uLFxuICAgICAgICAgIG91dE9mRGF0ZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIG5vdGlmaWNhdGlvbi5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlYm91bmNlZE5vdGlmaWNhdGlvbixcbiAgICAgICAgYWx0LFxuICAgICAgICBkYXRhLFxuICAgICAgICBpZCxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG91dE9mRGF0ZTogZmFsc2UsXG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgdXBkYXRlTm90QmVmb3JlOiBub3cgKyBub3RpZmljYXRpb25EZWJvdW5jZVRpbWVvdXRcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICB1c2VUaW1lcihnZXRFYXJsaWVzdFVwZGF0ZU5vdEJlZm9yZShkZWJvdW5jZWROb3RpZmljYXRpb25zUmVmLmN1cnJlbnQpLCBmb3JjZVJlbmRlcik7XG5cbiAgcmV0dXJuIFtkZWJvdW5jZWROb3RpZmljYXRpb25zUmVmLmN1cnJlbnRdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VEZWJvdW5jZWROb3RpZmljYXRpb25zO1xuXG5leHBvcnQgeyBnZXRFYXJsaWVzdFVwZGF0ZU5vdEJlZm9yZSB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxTQUFTQSwwQkFBVCxDQUFvQ0MsZUFBcEMsRUFBNkU7RUFDM0UsT0FBTyxJQUFBQyxnQkFBQSxFQUNMQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0gsZUFBZCxFQUNHSSxNQURILENBQ1U7SUFBQSxJQUFHQyxTQUFILFFBQUdBLFNBQUg7SUFBQSxPQUFtQkEsU0FBbkI7RUFBQSxDQURWLEVBRUdDLEdBRkgsQ0FFTztJQUFBLElBQUdDLGVBQUgsU0FBR0EsZUFBSDtJQUFBLE9BQXlCQSxlQUF6QjtFQUFBLENBRlAsQ0FESyxDQUFQO0FBS0Q7O0FBRUQsU0FBU0MseUJBQVQsR0FBK0Q7RUFDN0QsbUJBQW1CLElBQUFDLHFCQUFBLEdBQW5CO0VBQUE7RUFBQSxJQUFTQyxJQUFULG9CQUFTQSxJQUFUOztFQUNBLHVCQUEwQyxJQUFBQyx5QkFBQSxHQUExQztFQUFBO0VBQUEsSUFBU0MsMkJBQVQsd0JBQVNBLDJCQUFUOztFQUNBLHdCQUF3QixJQUFBQywwQkFBQSxHQUF4QjtFQUFBO0VBQUEsSUFBT0MsYUFBUDs7RUFDQSxJQUFNQyx5QkFBeUIsR0FBRyxJQUFBQyxhQUFBLEVBQU8sRUFBUCxDQUFsQztFQUNBLElBQU1DLFdBQVcsR0FBRyxJQUFBQyx1QkFBQSxHQUFwQjtFQUVBLElBQU1DLEdBQUcsR0FBR1QsSUFBSSxDQUFDUyxHQUFMLEVBQVosQ0FQNkQsQ0FTN0Q7O0VBVDZELDJDQVU1Q2pCLE1BQU0sQ0FBQ2tCLElBQVAsQ0FB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