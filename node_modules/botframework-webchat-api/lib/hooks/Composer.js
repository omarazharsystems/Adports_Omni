"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _reactRedux = require("react-redux");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _simpleUpdateIn = _interopRequireDefault(require("simple-update-in"));

var _botframeworkWebchatCore = require("botframework-webchat-core");

var _WebChatAPIContext = _interopRequireDefault(require("./internal/WebChatAPIContext"));

var _ActivityAcknowledgementComposer = _interopRequireDefault(require("../providers/ActivityAcknowledgement/ActivityAcknowledgementComposer"));

var _ActivityKeyerComposer = _interopRequireDefault(require("../providers/ActivityKeyer/ActivityKeyerComposer"));

var _ActivitySendStatusComposer = _interopRequireDefault(require("../providers/ActivitySendStatus/ActivitySendStatusComposer"));

var _ActivitySendStatusTelemetryComposer = _interopRequireDefault(require("../providers/ActivitySendStatusTelemetry/ActivitySendStatusTelemetryComposer"));

var _createCustomEvent = _interopRequireDefault(require("../utils/createCustomEvent"));

var _createDefaultCardActionMiddleware = _interopRequireDefault(require("./middleware/createDefaultCardActionMiddleware"));

var _createDefaultGroupActivitiesMiddleware = _interopRequireDefault(require("./middleware/createDefaultGroupActivitiesMiddleware"));

var _defaultSelectVoice = _interopRequireDefault(require("./internal/defaultSelectVoice"));

var _ErrorBoundary = _interopRequireDefault(require("./utils/ErrorBoundary"));

var _getAllLocalizedStrings = _interopRequireDefault(require("../localization/getAllLocalizedStrings"));

var _isObject = _interopRequireDefault(require("../utils/isObject"));

var _mapMap = _interopRequireDefault(require("../utils/mapMap"));

var _normalizeLanguage = _interopRequireDefault(require("../utils/normalizeLanguage"));

var _normalizeStyleOptions = _interopRequireDefault(require("../normalizeStyleOptions"));

var _observableToPromise = _interopRequireDefault(require("./utils/observableToPromise"));

var _patchStyleOptionsFromDeprecatedProps = _interopRequireDefault(require("../patchStyleOptionsFromDeprecatedProps"));

var _PonyfillComposer = _interopRequireDefault(require("../providers/Ponyfill/PonyfillComposer"));

var _Tracker = _interopRequireDefault(require("./internal/Tracker"));

var _useMarkAllAsAcknowledged = _interopRequireDefault(require("./useMarkAllAsAcknowledged"));

var _usePonyfill5 = _interopRequireDefault(require("../hooks/usePonyfill"));

var _WebChatReduxContext = _interopRequireWildcard(require("./internal/WebChatReduxContext"));

var _applyMiddleware = _interopRequireWildcard(require("./middleware/applyMiddleware"));

var _PrecompiledGlobalize = _interopRequireDefault(require("../external/PrecompiledGlobalize"));

var _excluded = ["onTelemetry", "store"],
    _excluded2 = ["internalRenderErrorBox", "onTelemetry", "ponyfill"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

// List of Redux actions factory we are hoisting as Web Chat functions
var DISPATCHERS = {
  clearSuggestedActions: _botframeworkWebchatCore.clearSuggestedActions,
  dismissNotification: _botframeworkWebchatCore.dismissNotification,
  emitTypingIndicator: _botframeworkWebchatCore.emitTypingIndicator,
  markActivity: _botframeworkWebchatCore.markActivity,
  postActivity: _botframeworkWebchatCore.postActivity,
  sendEvent: _botframeworkWebchatCore.sendEvent,
  sendFiles: _botframeworkWebchatCore.sendFiles,
  sendMessage: _botframeworkWebchatCore.sendMessage,
  sendMessageBack: _botframeworkWebchatCore.sendMessageBack,
  sendPostBack: _botframeworkWebchatCore.sendPostBack,
  setDictateInterims: _botframeworkWebchatCore.setDictateInterims,
  setDictateState: _botframeworkWebchatCore.setDictateState,
  setNotification: _botframeworkWebchatCore.setNotification,
  setSendBox: _botframeworkWebchatCore.setSendBox,
  setSendTimeout: _botframeworkWebchatCore.setSendTimeout,
  startDictate: _botframeworkWebchatCore.startDictate,
  startSpeakingActivity: _botframeworkWebchatCore.startSpeakingActivity,
  stopDictate: _botframeworkWebchatCore.stopDictate,
  stopSpeakingActivity: _botframeworkWebchatCore.stopSpeakingActivity,
  submitSendBox: _botframeworkWebchatCore.submitSendBox
};

function createCardActionContext(_ref) {
  var cardActionMiddleware = _ref.cardActionMiddleware,
      directLine = _ref.directLine,
      dispatch = _ref.dispatch,
      markAllAsAcknowledged = _ref.markAllAsAcknowledged,
      ponyfill = _ref.ponyfill;

  var runMiddleware = _applyMiddleware.default.apply(void 0, ['card action'].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(cardActionMiddleware)), [(0, _createDefaultCardActionMiddleware.default)()]))({
    dispatch: dispatch
  });

  return {
    onCardAction: function onCardAction(cardAction) {
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          target = _ref2.target;

      markAllAsAcknowledged();
      return runMiddleware({
        cardAction: cardAction,
        getSignInUrl: cardAction.type === 'signin' ? function () {
          var value = cardAction.value;

          if (directLine.getSessionId) {
            /**
             * @todo TODO: [P3] We should change this one to async/await.
             *       This is the first place in this project to use async.
             *       Thus, we need to add @babel/plugin-transform-runtime and @babel/runtime.
             */
            return (0, _observableToPromise.default)(directLine.getSessionId(), ponyfill).then(function (sessionId) {
              return "".concat(value).concat(encodeURIComponent("&code_challenge=".concat(sessionId)));
            });
          }

          console.warn('botframework-webchat: OAuth is not supported on this Direct Line adapter.');
          return value;
        } : null,
        target: target
      });
    }
  };
}

function createGroupActivitiesContext(_ref3) {
  var groupActivitiesMiddleware = _ref3.groupActivitiesMiddleware,
      groupTimestamp = _ref3.groupTimestamp,
      ponyfill = _ref3.ponyfill;

  var runMiddleware = _applyMiddleware.default.apply(void 0, ['group activities'].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(groupActivitiesMiddleware)), [(0, _createDefaultGroupActivitiesMiddleware.default)({
    groupTimestamp: groupTimestamp,
    ponyfill: ponyfill
  })]));

  return {
    groupActivities: runMiddleware({})
  };
}

function mergeStringsOverrides(localizedStrings, language, overrideLocalizedStrings) {
  if (!overrideLocalizedStrings) {
    return localizedStrings;
  } else if (typeof overrideLocalizedStrings === 'function') {
    var merged = overrideLocalizedStrings(localizedStrings, language);

    if (!(0, _isObject.default)(merged)) {
      throw new Error('botframework-webchat: overrideLocalizedStrings function must return an object.');
    }

    return merged;
  }

  if (!(0, _isObject.default)(overrideLocalizedStrings)) {
    throw new Error('botframework-webchat: overrideLocalizedStrings must be either a function, an object, or falsy.');
  }

  return _objectSpread(_objectSpread({}, localizedStrings), overrideLocalizedStrings);
} // It seems "react/require-default-props" did not pick up `ComposerCore.defaultProps`.
// And it falsely complaint `optional?: string` must have a corresponding `ComposerCore.defaultProps.optional = undefined`, even we already set it below.
// Since we set both TypeScript `Props` class and `ComposerCore.propTypes`, this check will be done there as well.
// Ignoring it in TypeScript version should be safe, as we have `propTypes` version to protect us.

/* eslint-disable react/require-default-props */


/* eslint-enable react/require-default-props */
var ComposerCore = function ComposerCore(_ref4) {
  var activityMiddleware = _ref4.activityMiddleware,
      activityRenderer = _ref4.activityRenderer,
      activityStatusMiddleware = _ref4.activityStatusMiddleware,
      activityStatusRenderer = _ref4.activityStatusRenderer,
      attachmentForScreenReaderMiddleware = _ref4.attachmentForScreenReaderMiddleware,
      attachmentMiddleware = _ref4.attachmentMiddleware,
      attachmentRenderer = _ref4.attachmentRenderer,
      avatarMiddleware = _ref4.avatarMiddleware,
      avatarRenderer = _ref4.avatarRenderer,
      cardActionMiddleware = _ref4.cardActionMiddleware,
      children = _ref4.children,
      dir = _ref4.dir,
      directLine = _ref4.directLine,
      disabled = _ref4.disabled,
      downscaleImageToDataURL = _ref4.downscaleImageToDataURL,
      grammars = _ref4.grammars,
      groupActivitiesMiddleware = _ref4.groupActivitiesMiddleware,
      groupTimestamp = _ref4.groupTimestamp,
      internalErrorBoxClass = _ref4.internalErrorBoxClass,
      locale = _ref4.locale,
      onTelemetry = _ref4.onTelemetry,
      overrideLocalizedStrings = _ref4.overrideLocalizedStrings,
      renderMarkdown = _ref4.renderMarkdown,
      scrollToEndButtonMiddleware = _ref4.scrollToEndButtonMiddleware,
      selectVoice = _ref4.selectVoice,
      sendTimeout = _ref4.sendTimeout,
      sendTypingIndicator = _ref4.sendTypingIndicator,
      styleOptions = _ref4.styleOptions,
      toastMiddleware = _ref4.toastMiddleware,
      toastRenderer = _ref4.toastRenderer,
      typingIndicatorMiddleware = _ref4.typingIndicatorMiddleware,
      typingIndicatorRenderer = _ref4.typingIndicatorRenderer,
      userID = _ref4.userID,
      username = _ref4.username;

  var _usePonyfill = (0, _usePonyfill5.default)(),
      _usePonyfill2 = _slicedToArray(_usePonyfill, 1),
      ponyfill = _usePonyfill2[0];

  var dispatch = (0, _WebChatReduxContext.useDispatch)();
  var telemetryDimensionsRef = (0, _react.useRef)({});
  var patchedDir = (0, _react.useMemo)(function () {
    return dir === 'ltr' || dir === 'rtl' ? dir : 'auto';
  }, [dir]);
  var patchedGrammars = (0, _react.useMemo)(function () {
    return grammars || [];
  }, [grammars]);
  var patchedStyleOptions = (0, _react.useMemo)(function () {
    return (0, _normalizeStyleOptions.default)((0, _patchStyleOptionsFromDeprecatedProps.default)(styleOptions, {
      groupTimestamp: groupTimestamp,
      sendTimeout: sendTimeout
    }));
  }, [groupTimestamp, sendTimeout, styleOptions]);
  (0, _react.useEffect)(function () {
    dispatch((0, _botframeworkWebchatCore.setLanguage)(locale));
  }, [dispatch, locale]);
  (0, _react.useEffect)(function () {
    typeof sendTimeout === 'number' && dispatch((0, _botframeworkWebchatCore.setSendTimeout)(sendTimeout));
  }, [dispatch, sendTimeout]);
  (0, _react.useEffect)(function () {
    dispatch((0, _botframeworkWebchatCore.setSendTypingIndicator)(!!sendTypingIndicator));
  }, [dispatch, sendTypingIndicator]);
  (0, _react.useEffect)(function () {
    dispatch((0, _botframeworkWebchatCore.connect)({
      directLine: directLine,
      userID: userID,
      username: username
    }));
    return function () {
      /**
       * @todo TODO: [P3] disconnect() is an async call (pending -> fulfilled), we need to wait, or change it to reconnect()
       */
      dispatch((0, _botframeworkWebchatCore.disconnect)());
    };
  }, [dispatch, directLine, userID, username]);
  var markAllAsAcknowledged = (0, _useMarkAllAsAcknowledged.default)();
  var cardActionContext = (0, _react.useMemo)(function () {
    return createCardActionContext({
      cardActionMiddleware: cardActionMiddleware,
      directLine: directLine,
      dispatch: dispatch,
      markAllAsAcknowledged: markAllAsAcknowledged,
      ponyfill: ponyfill
    });
  }, [cardActionMiddleware, directLine, dispatch, markAllAsAcknowledged, ponyfill]);
  var patchedSelectVoice = (0, _react.useMemo)(function () {
    return selectVoice || _defaultSelectVoice.default.bind(null, {
      language: locale
    });
  }, [locale, selectVoice]);
  var groupActivitiesContext = (0, _react.useMemo)(function () {
    return createGroupActivitiesContext({
      groupActivitiesMiddleware: groupActivitiesMiddleware,
      groupTimestamp: patchedStyleOptions.groupTimestamp,
      ponyfill: ponyfill
    });
  }, [groupActivitiesMiddleware, patchedStyleOptions.groupTimestamp, ponyfill]);
  var hoistedDispatchers = (0, _react.useMemo)(function () {
    return (0, _mapMap.default)(DISPATCHERS, function (dispatcher) {
      return function () {
        return dispatch(dispatcher.apply(void 0, arguments));
      };
    });
  }, [dispatch]);
  var patchedLocalizedStrings = (0, _react.useMemo)(function () {
    return mergeStringsOverrides((0, _getAllLocalizedStrings.default)()[(0, _normalizeLanguage.default)(locale)], locale, overrideLocalizedStrings);
  }, [locale, overrideLocalizedStrings]);
  var localizedGlobalize = (0, _react.useMemo)(function () {
    var _ref5 = patchedLocalizedStrings || {},
        GLOBALIZE = _ref5.GLOBALIZE,
        GLOBALIZE_LANGUAGE = _ref5.GLOBALIZE_LANGUAGE;

    return GLOBALIZE || GLOBALIZE_LANGUAGE && (0, _PrecompiledGlobalize.default)(GLOBALIZE_LANGUAGE) || (0, _PrecompiledGlobalize.default)('en');
  }, [patchedLocalizedStrings]);
  var trackDimension = (0, _react.useCallback)(function (name, data) {
    if (!name || typeof name !== 'string') {
      return console.warn('botframework-webchat: Telemetry dimension name must be a string.');
    }

    var type = _typeof(data);

    if (type !== 'string' && type !== 'undefined') {
      return console.warn('botframework-webchat: Telemetry dimension data must be a string or undefined.');
    }

    telemetryDimensionsRef.current = (0, _simpleUpdateIn.default)(telemetryDimensionsRef.current, [name], type === 'undefined' ? data : function () {
      return data;
    });
  }, [telemetryDimensionsRef]);
  var patchedActivityRenderer = (0, _react.useMemo)(function () {
    activityRenderer && console.warn('Web Chat: "activityRenderer" is deprecated and will be removed on 2022-06-15, please use "activityMiddleware" instead.');
    return activityRenderer || _applyMiddleware.forRenderer.apply(void 0, ['activity', {
      strict: false
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityMiddleware)), [function () {
      return function () {
        return function (_ref6) {
          var activity = _ref6.activity;

          if (activity) {
            throw new Error("No renderer for activity of type \"".concat(activity.type, "\""));
          } else {
            throw new Error('No activity to render');
          }
        };
      };
    }]))({});
  }, [activityMiddleware, activityRenderer]);
  var patchedActivityStatusRenderer = (0, _react.useMemo)(function () {
    activityStatusRenderer && console.warn('Web Chat: "activityStatusRenderer" is deprecated and will be removed on 2022-06-15, please use "activityStatusMiddleware" instead.');
    return activityStatusRenderer || _applyMiddleware.forRenderer.apply(void 0, ['activity status', {
      strict: false
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(activityStatusMiddleware)), [function () {
      return function () {
        return function () {
          return false;
        };
      };
    }]))({});
  }, [activityStatusMiddleware, activityStatusRenderer]);
  var patchedAttachmentForScreenReaderRenderer = (0, _react.useMemo)(function () {
    return _applyMiddleware.forRenderer.apply(void 0, ['attachment for screen reader', {
      strict: true
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentForScreenReaderMiddleware)), [function () {
      return function () {
        return function (_ref7) {
          var attachment = _ref7.attachment;

          if (attachment) {
            console.warn("No renderer for attachment for screen reader of type \"".concat(attachment.contentType, "\""));
            return false;
          }

          return function () {
            /**
             * @todo TODO: [P4] Might be able to throw without returning a function -- investigate and possibly fix
             */
            throw new Error('No attachment to render');
          };
        };
      };
    }]))({});
  }, [attachmentForScreenReaderMiddleware]);
  var patchedAttachmentRenderer = (0, _react.useMemo)(function () {
    if (attachmentRenderer) {
      console.warn('Web Chat: "attachmentRenderer" is deprecated and will be removed on 2022-06-15, please use "attachmentMiddleware" instead.');
      return attachmentRenderer;
    } // Attachment renderer


    return _applyMiddleware.forLegacyRenderer.apply(void 0, ['attachment'].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(attachmentMiddleware)), [function () {
      return function () {
        return function (_ref8) {
          var attachment = _ref8.attachment;

          if (attachment) {
            throw new Error("No renderer for attachment of type \"".concat(attachment.contentType, "\""));
          } else {
            throw new Error('No attachment to render');
          }
        };
      };
    }]))({});
  }, [attachmentMiddleware, attachmentRenderer]);
  var patchedAvatarRenderer = (0, _react.useMemo)(function () {
    avatarRenderer && console.warn('Web Chat: "avatarRenderer" is deprecated and will be removed on 2022-06-15, please use "avatarMiddleware" instead.');
    return avatarRenderer || _applyMiddleware.forRenderer.apply(void 0, ['avatar', {
      strict: false
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(avatarMiddleware)), [function () {
      return function () {
        return function () {
          return false;
        };
      };
    }]))({});
  }, [avatarMiddleware, avatarRenderer]);
  var patchedToastRenderer = (0, _react.useMemo)(function () {
    toastRenderer && console.warn('Web Chat: "toastRenderer" is deprecated and will be removed on 2022-06-15, please use "toastMiddleware" instead.');
    return toastRenderer || _applyMiddleware.forRenderer.apply(void 0, ['toast', {
      strict: false
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(toastMiddleware)), [function () {
      return function () {
        return function (_ref9) {
          var notification = _ref9.notification;

          if (notification) {
            throw new Error("No renderer for notification of type \"".concat(notification.contentType, "\""));
          } else {
            throw new Error('No notification to render');
          }
        };
      };
    }]))({});
  }, [toastMiddleware, toastRenderer]);
  var patchedTypingIndicatorRenderer = (0, _react.useMemo)(function () {
    typingIndicatorRenderer && console.warn('Web Chat: "typingIndicatorRenderer" is deprecated and will be removed on 2022-06-15, please use "typingIndicatorMiddleware" instead.');
    return typingIndicatorRenderer || _applyMiddleware.forRenderer.apply(void 0, ['typing indicator', {
      strict: false
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(typingIndicatorMiddleware)), [function () {
      return function () {
        return function () {
          return false;
        };
      };
    }]))({});
  }, [typingIndicatorMiddleware, typingIndicatorRenderer]);
  var scrollToEndButtonRenderer = (0, _react.useMemo)(function () {
    return _applyMiddleware.forRenderer.apply(void 0, ['scroll to end button', {
      strict: true
    }].concat(_toConsumableArray((0, _botframeworkWebchatCore.singleToArray)(scrollToEndButtonMiddleware)), [function () {
      return function () {
        return function () {
          return false;
        };
      };
    }]))();
  }, [scrollToEndButtonMiddleware]);
  /**
   * This is a heavy function, and it is expected to be only called when there is a need to recreate business logic, e.g.
   * - User ID changed, causing all send* functions to be updated
   * - send
   * @todo TODO: [P3] We should think about if we allow the user to change onSendBoxValueChanged/sendBoxValue, e.g.
   * 1. Turns text into UPPERCASE
   * 2. Filter out profanity
   * @todo TODO: [P4] Revisit all members of context
   *       This context should consist of members that are not in the Redux store
   *       i.e. members that are not interested in other types of UIs
   */

  var context = (0, _react.useMemo)(function () {
    return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, cardActionContext), groupActivitiesContext), hoistedDispatchers), {}, {
      activityRenderer: patchedActivityRenderer,
      activityStatusRenderer: patchedActivityStatusRenderer,
      attachmentForScreenReaderRenderer: patchedAttachmentForScreenReaderRenderer,
      attachmentRenderer: patchedAttachmentRenderer,
      avatarRenderer: patchedAvatarRenderer,
      dir: patchedDir,
      directLine: directLine,
      disabled: disabled,
      downscaleImageToDataURL: downscaleImageToDataURL,
      grammars: patchedGrammars,
      internalErrorBoxClass: internalErrorBoxClass,
      language: locale,
      localizedGlobalizeState: [localizedGlobalize],
      localizedStrings: patchedLocalizedStrings,
      onTelemetry: onTelemetry,
      renderMarkdown: renderMarkdown,
      scrollToEndButtonRenderer: scrollToEndButtonRenderer,
      selectVoice: patchedSelectVoice,
      sendTypingIndicator: sendTypingIndicator,
      styleOptions: patchedStyleOptions,
      telemetryDimensionsRef: telemetryDimensionsRef,
      toastRenderer: patchedToastRenderer,
      trackDimension: trackDimension,
      typingIndicatorRenderer: patchedTypingIndicatorRenderer,
      userID: userID,
      username: username
    });
  }, [cardActionContext, directLine, disabled, downscaleImageToDataURL, groupActivitiesContext, hoistedDispatchers, internalErrorBoxClass, locale, localizedGlobalize, onTelemetry, patchedActivityRenderer, patchedActivityStatusRenderer, patchedAttachmentForScreenReaderRenderer, patchedAttachmentRenderer, patchedAvatarRenderer, patchedDir, patchedGrammars, patchedLocalizedStrings, patchedSelectVoice, patchedStyleOptions, patchedToastRenderer, patchedTypingIndicatorRenderer, renderMarkdown, scrollToEndButtonRenderer, sendTypingIndicator, telemetryDimensionsRef, trackDimension, userID, username]);
  return /*#__PURE__*/_react.default.createElement(_WebChatAPIContext.default.Provider, {
    value: context
  }, /*#__PURE__*/_react.default.createElement(_ActivitySendStatusComposer.default, null, typeof children === 'function' ? children(context) : children, /*#__PURE__*/_react.default.createElement(_ActivitySendStatusTelemetryComposer.default, null)), onTelemetry && /*#__PURE__*/_react.default.createElement(_Tracker.default, null));
};
/**
 * @todo TODO: [P3] We should consider moving some data from Redux store to props
 *       Although we use `connectToWebChat` to hide the details of accessor of Redux store,
 *       we should clean up the responsibility between Context and Redux store
 *       We should decide which data is needed for React but not in other environment such as CLI/VSCode
 */


ComposerCore.defaultProps = {
  activityMiddleware: undefined,
  activityRenderer: undefined,
  activityStatusMiddleware: undefined,
  activityStatusRenderer: undefined,
  attachmentForScreenReaderMiddleware: undefined,
  attachmentMiddleware: undefined,
  attachmentRenderer: undefined,
  avatarMiddleware: undefined,
  avatarRenderer: undefined,
  cardActionMiddleware: undefined,
  children: undefined,
  dir: 'auto',
  disabled: false,
  downscaleImageToDataURL: undefined,
  grammars: [],
  groupActivitiesMiddleware: undefined,
  groupTimestamp: undefined,
  internalErrorBoxClass: undefined,
  locale: window.navigator.language || 'en-US',
  onTelemetry: undefined,
  overrideLocalizedStrings: undefined,
  renderMarkdown: undefined,
  scrollToEndButtonMiddleware: undefined,
  selectVoice: undefined,
  sendTimeout: undefined,
  sendTypingIndicator: false,
  styleOptions: {},
  toastMiddleware: undefined,
  toastRenderer: undefined,
  typingIndicatorMiddleware: undefined,
  typingIndicatorRenderer: undefined,
  userID: '',
  username: ''
};
ComposerCore.propTypes = {
  activityMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  activityRenderer: _propTypes.default.func,
  activityStatusMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  activityStatusRenderer: _propTypes.default.func,
  attachmentForScreenReaderMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  attachmentMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  attachmentRenderer: _propTypes.default.func,
  avatarMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  avatarRenderer: _propTypes.default.func,
  cardActionMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  children: _propTypes.default.any,
  dir: _propTypes.default.oneOf(['auto', 'ltr', 'rtl']),
  // PropTypes.shape({ ... }) did not honor isRequired for its members.
  // @ts-ignore
  directLine: _propTypes.default.shape({
    activity$: _propTypes.default.shape({
      subscribe: _propTypes.default.func.isRequired
    }).isRequired,
    connectionStatus$: _propTypes.default.shape({
      subscribe: _propTypes.default.func.isRequired
    }).isRequired,
    end: _propTypes.default.func,
    getSessionId: _propTypes.default.func,
    postActivity: _propTypes.default.func.isRequired,
    referenceGrammarID: _propTypes.default.string,
    token: _propTypes.default.string
  }).isRequired,
  disabled: _propTypes.default.bool,
  downscaleImageToDataURL: _propTypes.default.func,
  grammars: _propTypes.default.arrayOf(_propTypes.default.string),
  groupActivitiesMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  groupTimestamp: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.number]),
  internalErrorBoxClass: _propTypes.default.func,
  // This is for internal use only. We don't allow customization of error box.
  locale: _propTypes.default.string,
  onTelemetry: _propTypes.default.func,
  overrideLocalizedStrings: _propTypes.default.oneOfType([_propTypes.default.any, _propTypes.default.func]),
  renderMarkdown: _propTypes.default.func,
  scrollToEndButtonMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  selectVoice: _propTypes.default.func,
  sendTimeout: _propTypes.default.number,
  sendTypingIndicator: _propTypes.default.bool,
  styleOptions: _propTypes.default.any,
  toastMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  toastRenderer: _propTypes.default.func,
  typingIndicatorMiddleware: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.func), _propTypes.default.func]),
  typingIndicatorRenderer: _propTypes.default.func,
  userID: _propTypes.default.string,
  username: _propTypes.default.string
};

// We will create a Redux store if it was not passed in
var ComposerWithStore = function ComposerWithStore(_ref10) {
  var onTelemetry = _ref10.onTelemetry,
      store = _ref10.store,
      props = _objectWithoutProperties(_ref10, _excluded);

  var _usePonyfill3 = (0, _usePonyfill5.default)(),
      _usePonyfill4 = _slicedToArray(_usePonyfill3, 1),
      ponyfill = _usePonyfill4[0];

  var memoizedStore = (0, _react.useMemo)(function () {
    var _nextStore$getState$i;

    var nextStore = store || (0, _botframeworkWebchatCore.createStoreWithOptions)({
      ponyfill: ponyfill
    });
    var storePonyfill = ((_nextStore$getState$i = nextStore.getState().internal) === null || _nextStore$getState$i === void 0 ? void 0 : _nextStore$getState$i.ponyfill) || {};
    var keys = new Set([].concat(_toConsumableArray(Object.keys(storePonyfill)), _toConsumableArray(Object.keys(ponyfill)))); // Filter out forbidden properties.

    keys.delete('prototype');
    Object.getOwnPropertyNames(Object.prototype).forEach(function (key) {
      keys.delete(key);
    });

    var nativeFunction = function nativeFunction(fn) {
      return typeof fn === 'function' && ('' + fn).endsWith('() { [native code] }');
    };

    var ponyfillFunctionEquals = function ponyfillFunctionEquals(x, y) {
      return nativeFunction(x) && nativeFunction(y) || x === y;
    }; // We have filtered out all forbidden properties.
    // eslint-disable-next-line security/detect-object-injection


    var differentKeys = Array.from(keys).filter(function (key) {
      return !ponyfillFunctionEquals(storePonyfill[key], ponyfill[key]);
    });

    if (differentKeys.length) {
      console.warn("botframework-webchat: Ponyfill used in store should match the ponyfill passed in props: ".concat(differentKeys.join(', ')));
    }

    return nextStore;
  }, [ponyfill, store]);
  return /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    context: _WebChatReduxContext.default,
    store: memoizedStore
  }, /*#__PURE__*/_react.default.createElement(_ActivityKeyerComposer.default, null, /*#__PURE__*/_react.default.createElement(_ActivityAcknowledgementComposer.default, null, /*#__PURE__*/_react.default.createElement(ComposerCore, _extends({
    onTelemetry: onTelemetry
  }, props)))));
};

ComposerWithStore.defaultProps = {
  onTelemetry: undefined,
  store: undefined
};
ComposerWithStore.propTypes = {
  onTelemetry: _propTypes.default.func,
  store: _propTypes.default.any
};

var Composer = function Composer(_ref11) {
  var internalRenderErrorBox = _ref11.internalRenderErrorBox,
      onTelemetry = _ref11.onTelemetry,
      ponyfill = _ref11.ponyfill,
      props = _objectWithoutProperties(_ref11, _excluded2);

  var _useState = (0, _react.useState)(),
      _useState2 = _slicedToArray(_useState, 2),
      error = _useState2[0],
      setError = _useState2[1];

  var handleError = (0, _react.useCallback)(function (error) {
    console.error('botframework-webchat: Uncaught exception', {
      error: error
    });
    onTelemetry && onTelemetry((0, _createCustomEvent.default)('exception', {
      error: error,
      fatal: true
    }));
    setError(error);
  }, [onTelemetry, setError]);
  return error ? !!internalRenderErrorBox && internalRenderErrorBox({
    error: error,
    type: 'uncaught exception'
  }) : /*#__PURE__*/_react.default.createElement(_ErrorBoundary.default, {
    onError: handleError
  }, /*#__PURE__*/_react.default.createElement(_PonyfillComposer.default, {
    ponyfill: ponyfill
  }, /*#__PURE__*/_react.default.createElement(ComposerWithStore, _extends({
    onTelemetry: onTelemetry
  }, props))));
};

Composer.defaultProps = _objectSpread(_objectSpread({}, ComposerWithStore.defaultProps), {}, {
  internalRenderErrorBox: undefined,
  onTelemetry: undefined,
  ponyfill: undefined
});
Composer.propTypes = _objectSpread(_objectSpread({}, ComposerWithStore.propTypes), {}, {
  internalRenderErrorBox: _propTypes.default.any,
  onTelemetry: _propTypes.default.func,
  ponyfill: _propTypes.default.any
});
var _default = Composer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJESVNQQVRDSEVSUyIsImNsZWFyU3VnZ2VzdGVkQWN0aW9ucyIsImRpc21pc3NOb3RpZmljYXRpb24iLCJlbWl0VHlwaW5nSW5kaWNhdG9yIiwibWFya0FjdGl2aXR5IiwicG9zdEFjdGl2aXR5Iiwic2VuZEV2ZW50Iiwic2VuZEZpbGVzIiwic2VuZE1lc3NhZ2UiLCJzZW5kTWVzc2FnZUJhY2siLCJzZW5kUG9zdEJhY2siLCJzZXREaWN0YXRlSW50ZXJpbXMiLCJzZXREaWN0YXRlU3RhdGUiLCJzZXROb3RpZmljYXRpb24iLCJzZXRTZW5kQm94Iiwic2V0U2VuZFRpbWVvdXQiLCJzdGFydERpY3RhdGUiLCJzdGFydFNwZWFraW5nQWN0aXZpdHkiLCJzdG9wRGljdGF0ZSIsInN0b3BTcGVha2luZ0FjdGl2aXR5Iiwic3VibWl0U2VuZEJveCIsImNyZWF0ZUNhcmRBY3Rpb25Db250ZXh0IiwiY2FyZEFjdGlvbk1pZGRsZXdhcmUiLCJkaXJlY3RMaW5lIiwiZGlzcGF0Y2giLCJtYXJrQWxsQXNBY2tub3dsZWRnZWQiLCJwb255ZmlsbCIsInJ1bk1pZGRsZXdhcmUiLCJhcHBseU1pZGRsZXdhcmUiLCJzaW5nbGVUb0FycmF5IiwiY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlIiwib25DYXJkQWN0aW9uIiwiY2FyZEFjdGlvbiIsInRhcmdldCIsImdldFNpZ25JblVybCIsInR5cGUiLCJ2YWx1ZSIsImdldFNlc3Npb25JZCIsIm9ic2VydmFibGVUb1Byb21pc2UiLCJ0aGVuIiwic2Vzc2lvbklkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY29uc29sZSIsIndhcm4iLCJjcmVhdGVHcm91cEFjdGl2aXRpZXNDb250ZXh0IiwiZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSIsImdyb3VwVGltZXN0YW1wIiwiY3JlYXRlRGVmYXVsdEdyb3VwQWN0aXZpdGllc01pZGRsZXdhcmUiLCJncm91cEFjdGl2aXRpZXMiLCJtZXJnZVN0cmluZ3NPdmVycmlkZXMiLCJsb2NhbGl6ZWRTdHJpbmdzIiwibGFuZ3VhZ2UiLCJvdmVycmlkZUxvY2FsaXplZFN0cmluZ3MiLCJtZXJnZWQiLCJpc09iamVjdCIsIkVycm9yIiwiQ29tcG9zZXJDb3JlIiwiYWN0aXZpdHlNaWRkbGV3YXJlIiwiYWN0aXZpdHlSZW5kZXJlciIsImFjdGl2aXR5U3RhdHVzTWlkZGxld2FyZSIsImFjdGl2aXR5U3RhdHVzUmVuZGVyZXIiLCJhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZSIsImF0dGFjaG1lbnRNaWRkbGV3YXJlIiwiYXR0YWNobWVudFJlbmRlcmVyIiwiYXZhdGFyTWlkZGxld2FyZSIsImF2YXRhclJlbmRlcmVyIiwiY2hpbGRyZW4iLCJkaXIiLCJkaXNhYmxlZCIsImRvd25zY2FsZUltYWdlVG9EYXRhVVJMIiwiZ3JhbW1hcnMiLCJpbnRlcm5hbEVycm9yQm94Q2xhc3MiLCJsb2NhbGUiLCJvblRlbGVtZXRyeSIsInJlbmRlck1hcmtkb3duIiwic2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlIiwic2VsZWN0Vm9pY2UiLCJzZW5kVGltZW91dCIsInNlbmRUeXBpbmdJbmRpY2F0b3IiLCJzdHlsZU9wdGlvbnMiLCJ0b2FzdE1pZGRsZXdhcmUiLCJ0b2FzdFJlbmRlcmVyIiwidHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSIsInR5cGluZ0luZGljYXRvclJlbmRlcmVyIiwidXNlcklEIiwidXNlcm5hbWUiLCJ1c2VQb255ZmlsbCIsInVzZURpc3BhdGNoIiwidGVsZW1ldHJ5RGltZW5zaW9uc1JlZiIsInVzZVJlZiIsInBhdGNoZWREaXIiLCJ1c2VNZW1vIiwicGF0Y2hlZEdyYW1tYXJzIiwicGF0Y2hlZFN0eWxlT3B0aW9ucyIsIm5vcm1hbGl6ZVN0eWxlT3B0aW9ucyIsInBhdGNoU3R5bGVPcHRpb25zRnJvbURlcHJlY2F0ZWRQcm9wcyIsInVzZUVmZmVjdCIsInNldExhbmd1YWdlIiwic2V0U2VuZFR5cGluZ0luZGljYXRvciIsImNyZWF0ZUNvbm5lY3RBY3Rpb24iLCJkaXNjb25uZWN0IiwidXNlTWFya0FsbEFzQWNrbm93bGVkZ2VkIiwiY2FyZEFjdGlvbkNvbnRleHQiLCJwYXRjaGVkU2VsZWN0Vm9pY2UiLCJkZWZhdWx0U2VsZWN0Vm9pY2UiLCJiaW5kIiwiZ3JvdXBBY3Rpdml0aWVzQ29udGV4dCIsImhvaXN0ZWREaXNwYXRjaGVycyIsIm1hcE1hcCIsImRpc3BhdGNoZXIiLCJwYXRjaGVkTG9jYWxpemVkU3RyaW5ncyIsImdldEFsbExvY2FsaXplZFN0cmluZ3MiLCJub3JtYWxpemVMYW5ndWFnZSIsImxvY2FsaXplZEdsb2JhbGl6ZSIsIkdMT0JBTElaRSIsIkdMT0JBTElaRV9MQU5HVUFHRSIsIlByZWNvbXBpbGVkR2xvYmFsaXplIiwidHJhY2tEaW1lbnNpb24iLCJ1c2VDYWxsYmFjayIsIm5hbWUiLCJkYXRhIiwiY3VycmVudCIsInVwZGF0ZUluIiwicGF0Y2hlZEFjdGl2aXR5UmVuZGVyZXIiLCJhcHBseU1pZGRsZXdhcmVGb3JSZW5kZXJlciIsInN0cmljdCIsImFjdGl2aXR5IiwicGF0Y2hlZEFjdGl2aXR5U3RhdHVzUmVuZGVyZXIiLCJwYXRjaGVkQXR0YWNobWVudEZvclNjcmVlblJlYWRlclJlbmRlcmVyIiwiYXR0YWNobWVudCIsImNvbnRlbnRUeXBlIiwicGF0Y2hlZEF0dGFjaG1lbnRSZW5kZXJlciIsImFwcGx5TWlkZGxld2FyZUZvckxlZ2FjeVJlbmRlcmVyIiwicGF0Y2hlZEF2YXRhclJlbmRlcmVyIiwicGF0Y2hlZFRvYXN0UmVuZGVyZXIiLCJub3RpZmljYXRpb24iLCJwYXRjaGVkVHlwaW5nSW5kaWNhdG9yUmVuZGVyZXIiLCJzY3JvbGxUb0VuZEJ1dHRvblJlbmRlcmVyIiwiY29udGV4dCIsImF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJSZW5kZXJlciIsImxvY2FsaXplZEdsb2JhbGl6ZVN0YXRlIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwid2luZG93IiwibmF2aWdhdG9yIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwib25lT2ZUeXBlIiwiYXJyYXlPZiIsImZ1bmMiLCJhbnkiLCJvbmVPZiIsInNoYXBlIiwiYWN0aXZpdHkkIiwic3Vic2NyaWJlIiwiaXNSZXF1aXJlZCIsImNvbm5lY3Rpb25TdGF0dXMkIiwiZW5kIiwicmVmZXJlbmNlR3JhbW1hcklEIiwic3RyaW5nIiwidG9rZW4iLCJib29sIiwibnVtYmVyIiwiQ29tcG9zZXJXaXRoU3RvcmUiLCJzdG9yZSIsInByb3BzIiwibWVtb2l6ZWRTdG9yZSIsIm5leHRTdG9yZSIsImNyZWF0ZVN0b3JlV2l0aE9wdGlvbnMiLCJzdG9yZVBvbnlmaWxsIiwiZ2V0U3RhdGUiLCJpbnRlcm5hbCIsImtleXMiLCJTZXQiLCJPYmplY3QiLCJkZWxldGUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImtleSIsIm5hdGl2ZUZ1bmN0aW9uIiwiZm4iLCJlbmRzV2l0aCIsInBvbnlmaWxsRnVuY3Rpb25FcXVhbHMiLCJ4IiwieSIsImRpZmZlcmVudEtleXMiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJsZW5ndGgiLCJqb2luIiwiV2ViQ2hhdFJlZHV4Q29udGV4dCIsIkNvbXBvc2VyIiwiaW50ZXJuYWxSZW5kZXJFcnJvckJveCIsInVzZVN0YXRlIiwiZXJyb3IiLCJzZXRFcnJvciIsImhhbmRsZUVycm9yIiwiY3JlYXRlQ3VzdG9tRXZlbnQiLCJmYXRhbCJdLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hvb2tzL0NvbXBvc2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1cGRhdGVJbiBmcm9tICdzaW1wbGUtdXBkYXRlLWluJztcbmltcG9ydCB7XG4gIGNsZWFyU3VnZ2VzdGVkQWN0aW9ucyxcbiAgY29ubmVjdCBhcyBjcmVhdGVDb25uZWN0QWN0aW9uLFxuICBjcmVhdGVTdG9yZVdpdGhPcHRpb25zLFxuICBkaXNjb25uZWN0LFxuICBkaXNtaXNzTm90aWZpY2F0aW9uLFxuICBlbWl0VHlwaW5nSW5kaWNhdG9yLFxuICBtYXJrQWN0aXZpdHksXG4gIHBvc3RBY3Rpdml0eSxcbiAgc2VuZEV2ZW50LFxuICBzZW5kRmlsZXMsXG4gIHNlbmRNZXNzYWdlLFxuICBzZW5kTWVzc2FnZUJhY2ssXG4gIHNlbmRQb3N0QmFjayxcbiAgc2V0RGljdGF0ZUludGVyaW1zLFxuICBzZXREaWN0YXRlU3RhdGUsXG4gIHNldExhbmd1YWdlLFxuICBzZXROb3RpZmljYXRpb24sXG4gIHNldFNlbmRCb3gsXG4gIHNldFNlbmRUaW1lb3V0LFxuICBzZXRTZW5kVHlwaW5nSW5kaWNhdG9yLFxuICBzaW5nbGVUb0FycmF5LFxuICBzdGFydERpY3RhdGUsXG4gIHN0YXJ0U3BlYWtpbmdBY3Rpdml0eSxcbiAgc3RvcERpY3RhdGUsXG4gIHN0b3BTcGVha2luZ0FjdGl2aXR5LFxuICBzdWJtaXRTZW5kQm94XG59IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWNvcmUnO1xuXG5pbXBvcnQgeyBkZWZhdWx0IGFzIFdlYkNoYXRBUElDb250ZXh0IH0gZnJvbSAnLi9pbnRlcm5hbC9XZWJDaGF0QVBJQ29udGV4dCc7XG5pbXBvcnQgQWN0aXZpdHlBY2tub3dsZWRnZW1lbnRDb21wb3NlciBmcm9tICcuLi9wcm92aWRlcnMvQWN0aXZpdHlBY2tub3dsZWRnZW1lbnQvQWN0aXZpdHlBY2tub3dsZWRnZW1lbnRDb21wb3Nlcic7XG5pbXBvcnQgQWN0aXZpdHlLZXllckNvbXBvc2VyIGZyb20gJy4uL3Byb3ZpZGVycy9BY3Rpdml0eUtleWVyL0FjdGl2aXR5S2V5ZXJDb21wb3Nlcic7XG5pbXBvcnQgQWN0aXZpdHlNaWRkbGV3YXJlIGZyb20gJy4uL3R5cGVzL0FjdGl2aXR5TWlkZGxld2FyZSc7XG5pbXBvcnQgQWN0aXZpdHlTZW5kU3RhdHVzQ29tcG9zZXIgZnJvbSAnLi4vcHJvdmlkZXJzL0FjdGl2aXR5U2VuZFN0YXR1cy9BY3Rpdml0eVNlbmRTdGF0dXNDb21wb3Nlcic7XG5pbXBvcnQgQWN0aXZpdHlTZW5kU3RhdHVzVGVsZW1ldHJ5Q29tcG9zZXIgZnJvbSAnLi4vcHJvdmlkZXJzL0FjdGl2aXR5U2VuZFN0YXR1c1RlbGVtZXRyeS9BY3Rpdml0eVNlbmRTdGF0dXNUZWxlbWV0cnlDb21wb3Nlcic7XG5pbXBvcnQgQXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUgZnJvbSAnLi4vdHlwZXMvQXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUnO1xuaW1wb3J0IEF0dGFjaG1lbnRNaWRkbGV3YXJlIGZyb20gJy4uL3R5cGVzL0F0dGFjaG1lbnRNaWRkbGV3YXJlJztcbmltcG9ydCBBdmF0YXJNaWRkbGV3YXJlIGZyb20gJy4uL3R5cGVzL0F2YXRhck1pZGRsZXdhcmUnO1xuaW1wb3J0IENhcmRBY3Rpb25NaWRkbGV3YXJlIGZyb20gJy4uL3R5cGVzL0NhcmRBY3Rpb25NaWRkbGV3YXJlJztcbmltcG9ydCBjcmVhdGVDdXN0b21FdmVudCBmcm9tICcuLi91dGlscy9jcmVhdGVDdXN0b21FdmVudCc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZS9jcmVhdGVEZWZhdWx0Q2FyZEFjdGlvbk1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZURlZmF1bHRHcm91cEFjdGl2aXRpZXNNaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZS9jcmVhdGVEZWZhdWx0R3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSc7XG5pbXBvcnQgZGVmYXVsdFNlbGVjdFZvaWNlIGZyb20gJy4vaW50ZXJuYWwvZGVmYXVsdFNlbGVjdFZvaWNlJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4vdXRpbHMvRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgZ2V0QWxsTG9jYWxpemVkU3RyaW5ncyBmcm9tICcuLi9sb2NhbGl6YXRpb24vZ2V0QWxsTG9jYWxpemVkU3RyaW5ncyc7XG5pbXBvcnQgR3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSBmcm9tICcuLi90eXBlcy9Hcm91cEFjdGl2aXRpZXNNaWRkbGV3YXJlJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuLi91dGlscy9pc09iamVjdCc7XG5pbXBvcnQgTG9jYWxpemVkU3RyaW5ncyBmcm9tICcuLi90eXBlcy9Mb2NhbGl6ZWRTdHJpbmdzJztcbmltcG9ydCBtYXBNYXAgZnJvbSAnLi4vdXRpbHMvbWFwTWFwJztcbmltcG9ydCBub3JtYWxpemVMYW5ndWFnZSBmcm9tICcuLi91dGlscy9ub3JtYWxpemVMYW5ndWFnZSc7XG5pbXBvcnQgbm9ybWFsaXplU3R5bGVPcHRpb25zIGZyb20gJy4uL25vcm1hbGl6ZVN0eWxlT3B0aW9ucyc7XG5pbXBvcnQgb2JzZXJ2YWJsZVRvUHJvbWlzZSBmcm9tICcuL3V0aWxzL29ic2VydmFibGVUb1Byb21pc2UnO1xuaW1wb3J0IHBhdGNoU3R5bGVPcHRpb25zRnJvbURlcHJlY2F0ZWRQcm9wcyBmcm9tICcuLi9wYXRjaFN0eWxlT3B0aW9uc0Zyb21EZXByZWNhdGVkUHJvcHMnO1xuaW1wb3J0IFBvbnlmaWxsQ29tcG9zZXIgZnJvbSAnLi4vcHJvdmlkZXJzL1BvbnlmaWxsL1BvbnlmaWxsQ29tcG9zZXInO1xuaW1wb3J0IFByZWNvbXBpbGVkR2xvYmFsaXplVHlwZSBmcm9tICcuLi90eXBlcy9QcmVjb21waWxlZEdsb2JhbGl6ZSc7XG5pbXBvcnQgU2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlLCB7IFNjcm9sbFRvRW5kQnV0dG9uQ29tcG9uZW50RmFjdG9yeSB9IGZyb20gJy4uL3R5cGVzL1Njcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSc7XG5pbXBvcnQgU3R5bGVPcHRpb25zIGZyb20gJy4uL1N0eWxlT3B0aW9ucyc7XG5pbXBvcnQgVGVsZW1ldHJ5TWVhc3VyZW1lbnRFdmVudCwgeyBUZWxlbWV0cnlFeGNlcHRpb25NZWFzdXJlbWVudEV2ZW50IH0gZnJvbSAnLi4vdHlwZXMvVGVsZW1ldHJ5TWVhc3VyZW1lbnRFdmVudCc7XG5pbXBvcnQgVG9hc3RNaWRkbGV3YXJlIGZyb20gJy4uL3R5cGVzL1RvYXN0TWlkZGxld2FyZSc7XG5pbXBvcnQgVHJhY2tlciBmcm9tICcuL2ludGVybmFsL1RyYWNrZXInO1xuaW1wb3J0IFR5cGluZ0luZGljYXRvck1pZGRsZXdhcmUgZnJvbSAnLi4vdHlwZXMvVHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSc7XG5pbXBvcnQgdXNlTWFya0FsbEFzQWNrbm93bGVkZ2VkIGZyb20gJy4vdXNlTWFya0FsbEFzQWNrbm93bGVkZ2VkJztcbmltcG9ydCB1c2VQb255ZmlsbCBmcm9tICcuLi9ob29rcy91c2VQb255ZmlsbCc7XG5pbXBvcnQgV2ViQ2hhdFJlZHV4Q29udGV4dCwgeyB1c2VEaXNwYXRjaCB9IGZyb20gJy4vaW50ZXJuYWwvV2ViQ2hhdFJlZHV4Q29udGV4dCc7XG5cbmltcG9ydCBhcHBseU1pZGRsZXdhcmUsIHtcbiAgZm9yTGVnYWN5UmVuZGVyZXIgYXMgYXBwbHlNaWRkbGV3YXJlRm9yTGVnYWN5UmVuZGVyZXIsXG4gIGZvclJlbmRlcmVyIGFzIGFwcGx5TWlkZGxld2FyZUZvclJlbmRlcmVyXG59IGZyb20gJy4vbWlkZGxld2FyZS9hcHBseU1pZGRsZXdhcmUnO1xuXG4vLyBQcmVjb21waWxlR2xvYmFsaXplIGlzIGEgZ2VuZXJhdGVkIGZpbGUgYW5kIGlzIG5vdCBFUyBtb2R1bGUuIFR5cGVTY3JpcHQgZG9uJ3Qgd29yayB3aXRoIFVNRC5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBQcmVjb21waWxlZEdsb2JhbGl6ZSBmcm9tICcuLi9leHRlcm5hbC9QcmVjb21waWxlZEdsb2JhbGl6ZSc7XG5cbmltcG9ydCB0eXBlIHsgQWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlLCBSZW5kZXJBY3Rpdml0eVN0YXR1cyB9IGZyb20gJy4uL3R5cGVzL0FjdGl2aXR5U3RhdHVzTWlkZGxld2FyZSc7XG5pbXBvcnQgdHlwZSB7IENvbnRleHRPZiB9IGZyb20gJy4uL3R5cGVzL2ludGVybmFsL0NvbnRleHRPZic7XG5pbXBvcnQgdHlwZSB7XG4gIERpcmVjdExpbmVKU0JvdENvbm5lY3Rpb24sXG4gIE9uZU9yTWFueSxcbiAgR2xvYmFsU2NvcGVQb255ZmlsbCxcbiAgV2ViQ2hhdEFjdGl2aXR5XG59IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWNvcmUnO1xuaW1wb3J0IHR5cGUgeyBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5cbi8vIExpc3Qgb2YgUmVkdXggYWN0aW9ucyBmYWN0b3J5IHdlIGFyZSBob2lzdGluZyBhcyBXZWIgQ2hhdCBmdW5jdGlvbnNcbmNvbnN0IERJU1BBVENIRVJTID0ge1xuICBjbGVhclN1Z2dlc3RlZEFjdGlvbnMsXG4gIGRpc21pc3NOb3RpZmljYXRpb24sXG4gIGVtaXRUeXBpbmdJbmRpY2F0b3IsXG4gIG1hcmtBY3Rpdml0eSxcbiAgcG9zdEFjdGl2aXR5LFxuICBzZW5kRXZlbnQsXG4gIHNlbmRGaWxlcyxcbiAgc2VuZE1lc3NhZ2UsXG4gIHNlbmRNZXNzYWdlQmFjayxcbiAgc2VuZFBvc3RCYWNrLFxuICBzZXREaWN0YXRlSW50ZXJpbXMsXG4gIHNldERpY3RhdGVTdGF0ZSxcbiAgc2V0Tm90aWZpY2F0aW9uLFxuICBzZXRTZW5kQm94LFxuICBzZXRTZW5kVGltZW91dCxcbiAgc3RhcnREaWN0YXRlLFxuICBzdGFydFNwZWFraW5nQWN0aXZpdHksXG4gIHN0b3BEaWN0YXRlLFxuICBzdG9wU3BlYWtpbmdBY3Rpdml0eSxcbiAgc3VibWl0U2VuZEJveFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZEFjdGlvbkNvbnRleHQoeyBjYXJkQWN0aW9uTWlkZGxld2FyZSwgZGlyZWN0TGluZSwgZGlzcGF0Y2gsIG1hcmtBbGxBc0Fja25vd2xlZGdlZCwgcG9ueWZpbGwgfSkge1xuICBjb25zdCBydW5NaWRkbGV3YXJlID0gYXBwbHlNaWRkbGV3YXJlKFxuICAgICdjYXJkIGFjdGlvbicsXG4gICAgLi4uc2luZ2xlVG9BcnJheShjYXJkQWN0aW9uTWlkZGxld2FyZSksXG4gICAgY3JlYXRlRGVmYXVsdENhcmRBY3Rpb25NaWRkbGV3YXJlKClcbiAgKSh7IGRpc3BhdGNoIH0pO1xuXG4gIHJldHVybiB7XG4gICAgb25DYXJkQWN0aW9uOiAoY2FyZEFjdGlvbiwgeyB0YXJnZXQgfTogeyB0YXJnZXQ/OiBhbnkgfSA9IHt9KSA9PiB7XG4gICAgICBtYXJrQWxsQXNBY2tub3dsZWRnZWQoKTtcblxuICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmUoe1xuICAgICAgICBjYXJkQWN0aW9uLFxuICAgICAgICBnZXRTaWduSW5Vcmw6XG4gICAgICAgICAgY2FyZEFjdGlvbi50eXBlID09PSAnc2lnbmluJ1xuICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gY2FyZEFjdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3RMaW5lLmdldFNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgKiBAdG9kbyBUT0RPOiBbUDNdIFdlIHNob3VsZCBjaGFuZ2UgdGhpcyBvbmUgdG8gYXN5bmMvYXdhaXQuXG4gICAgICAgICAgICAgICAgICAgKiAgICAgICBUaGlzIGlzIHRoZSBmaXJzdCBwbGFjZSBpbiB0aGlzIHByb2plY3QgdG8gdXNlIGFzeW5jLlxuICAgICAgICAgICAgICAgICAgICogICAgICAgVGh1cywgd2UgbmVlZCB0byBhZGQgQGJhYmVsL3BsdWdpbi10cmFuc2Zvcm0tcnVudGltZSBhbmQgQGJhYmVsL3J1bnRpbWUuXG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlVG9Qcm9taXNlKGRpcmVjdExpbmUuZ2V0U2Vzc2lvbklkKCksIHBvbnlmaWxsKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQgPT4gYCR7dmFsdWV9JHtlbmNvZGVVUklDb21wb25lbnQoYCZjb2RlX2NoYWxsZW5nZT0ke3Nlc3Npb25JZH1gKX1gXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYm90ZnJhbWV3b3JrLXdlYmNoYXQ6IE9BdXRoIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBEaXJlY3QgTGluZSBhZGFwdGVyLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHRhcmdldFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHcm91cEFjdGl2aXRpZXNDb250ZXh0KHsgZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSwgZ3JvdXBUaW1lc3RhbXAsIHBvbnlmaWxsIH0pIHtcbiAgY29uc3QgcnVuTWlkZGxld2FyZSA9IGFwcGx5TWlkZGxld2FyZShcbiAgICAnZ3JvdXAgYWN0aXZpdGllcycsXG4gICAgLi4uc2luZ2xlVG9BcnJheShncm91cEFjdGl2aXRpZXNNaWRkbGV3YXJlKSxcbiAgICBjcmVhdGVEZWZhdWx0R3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSh7IGdyb3VwVGltZXN0YW1wLCBwb255ZmlsbCB9KVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgZ3JvdXBBY3Rpdml0aWVzOiBydW5NaWRkbGV3YXJlKHt9KVxuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZVN0cmluZ3NPdmVycmlkZXMobG9jYWxpemVkU3RyaW5ncywgbGFuZ3VhZ2UsIG92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncykge1xuICBpZiAoIW92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncykge1xuICAgIHJldHVybiBsb2NhbGl6ZWRTdHJpbmdzO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvdmVycmlkZUxvY2FsaXplZFN0cmluZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zdCBtZXJnZWQgPSBvdmVycmlkZUxvY2FsaXplZFN0cmluZ3MobG9jYWxpemVkU3RyaW5ncywgbGFuZ3VhZ2UpO1xuXG4gICAgaWYgKCFpc09iamVjdChtZXJnZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JvdGZyYW1ld29yay13ZWJjaGF0OiBvdmVycmlkZUxvY2FsaXplZFN0cmluZ3MgZnVuY3Rpb24gbXVzdCByZXR1cm4gYW4gb2JqZWN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cblxuICBpZiAoIWlzT2JqZWN0KG92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JvdGZyYW1ld29yay13ZWJjaGF0OiBvdmVycmlkZUxvY2FsaXplZFN0cmluZ3MgbXVzdCBiZSBlaXRoZXIgYSBmdW5jdGlvbiwgYW4gb2JqZWN0LCBvciBmYWxzeS4nKTtcbiAgfVxuXG4gIHJldHVybiB7IC4uLmxvY2FsaXplZFN0cmluZ3MsIC4uLm92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncyB9O1xufVxuXG4vLyBJdCBzZWVtcyBcInJlYWN0L3JlcXVpcmUtZGVmYXVsdC1wcm9wc1wiIGRpZCBub3QgcGljayB1cCBgQ29tcG9zZXJDb3JlLmRlZmF1bHRQcm9wc2AuXG4vLyBBbmQgaXQgZmFsc2VseSBjb21wbGFpbnQgYG9wdGlvbmFsPzogc3RyaW5nYCBtdXN0IGhhdmUgYSBjb3JyZXNwb25kaW5nIGBDb21wb3NlckNvcmUuZGVmYXVsdFByb3BzLm9wdGlvbmFsID0gdW5kZWZpbmVkYCwgZXZlbiB3ZSBhbHJlYWR5IHNldCBpdCBiZWxvdy5cbi8vIFNpbmNlIHdlIHNldCBib3RoIFR5cGVTY3JpcHQgYFByb3BzYCBjbGFzcyBhbmQgYENvbXBvc2VyQ29yZS5wcm9wVHlwZXNgLCB0aGlzIGNoZWNrIHdpbGwgYmUgZG9uZSB0aGVyZSBhcyB3ZWxsLlxuLy8gSWdub3JpbmcgaXQgaW4gVHlwZVNjcmlwdCB2ZXJzaW9uIHNob3VsZCBiZSBzYWZlLCBhcyB3ZSBoYXZlIGBwcm9wVHlwZXNgIHZlcnNpb24gdG8gcHJvdGVjdCB1cy5cblxuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzICovXG50eXBlIENvbXBvc2VyQ29yZVByb3BzID0ge1xuICBhY3Rpdml0eU1pZGRsZXdhcmU/OiBPbmVPck1hbnk8QWN0aXZpdHlNaWRkbGV3YXJlPjtcbiAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlPzogT25lT3JNYW55PEFjdGl2aXR5U3RhdHVzTWlkZGxld2FyZT47XG4gIGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlPzogT25lT3JNYW55PEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJNaWRkbGV3YXJlPjtcbiAgYXR0YWNobWVudE1pZGRsZXdhcmU/OiBPbmVPck1hbnk8QXR0YWNobWVudE1pZGRsZXdhcmU+O1xuICBhdmF0YXJNaWRkbGV3YXJlPzogT25lT3JNYW55PEF2YXRhck1pZGRsZXdhcmU+O1xuICBjYXJkQWN0aW9uTWlkZGxld2FyZT86IE9uZU9yTWFueTxDYXJkQWN0aW9uTWlkZGxld2FyZT47XG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlIHwgKChjb250ZXh0OiBDb250ZXh0T2Y8dHlwZW9mIFdlYkNoYXRBUElDb250ZXh0PikgPT4gUmVhY3ROb2RlKTtcbiAgZGlyPzogc3RyaW5nO1xuICBkaXJlY3RMaW5lOiBEaXJlY3RMaW5lSlNCb3RDb25uZWN0aW9uO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGRvd25zY2FsZUltYWdlVG9EYXRhVVJMPzogKGJsb2I6IEJsb2IsIG1heFdpZHRoOiBudW1iZXIsIG1heEhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIHF1YWxpdHk6IG51bWJlcikgPT4gc3RyaW5nO1xuICBncmFtbWFycz86IGFueTtcbiAgZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZT86IE9uZU9yTWFueTxHcm91cEFjdGl2aXRpZXNNaWRkbGV3YXJlPjtcbiAgaW50ZXJuYWxFcnJvckJveENsYXNzPzogUmVhY3QuQ29tcG9uZW50IHwgRnVuY3Rpb247XG4gIGxvY2FsZT86IHN0cmluZztcbiAgb25UZWxlbWV0cnk/OiAoZXZlbnQ6IFRlbGVtZXRyeU1lYXN1cmVtZW50RXZlbnQpID0+IHZvaWQ7XG4gIG92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncz86IExvY2FsaXplZFN0cmluZ3MgfCAoKHN0cmluZ3M6IExvY2FsaXplZFN0cmluZ3MsIGxhbmd1YWdlOiBzdHJpbmcpID0+IExvY2FsaXplZFN0cmluZ3MpO1xuICByZW5kZXJNYXJrZG93bj86IChcbiAgICBtYXJrZG93bjogc3RyaW5nLFxuICAgIG5ld0xpbmVPcHRpb25zOiB7IG1hcmtkb3duUmVzcGVjdENSTEY6IGJvb2xlYW4gfSxcbiAgICBsaW5rT3B0aW9uczogeyBleHRlcm5hbExpbmtBbHQ6IHN0cmluZyB9XG4gICkgPT4gc3RyaW5nO1xuICBzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmU/OiBPbmVPck1hbnk8U2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlPjtcbiAgc2VsZWN0Vm9pY2U/OiAodm9pY2VzOiAodHlwZW9mIHdpbmRvdy5TcGVlY2hTeW50aGVzaXNWb2ljZSlbXSwgYWN0aXZpdHk6IFdlYkNoYXRBY3Rpdml0eSkgPT4gdm9pZDtcbiAgc2VuZFR5cGluZ0luZGljYXRvcj86IGJvb2xlYW47XG4gIHN0eWxlT3B0aW9ucz86IFN0eWxlT3B0aW9ucztcbiAgdG9hc3RNaWRkbGV3YXJlPzogT25lT3JNYW55PFRvYXN0TWlkZGxld2FyZT47XG4gIHR5cGluZ0luZGljYXRvck1pZGRsZXdhcmU/OiBPbmVPck1hbnk8VHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZT47XG4gIHVzZXJJRD86IHN0cmluZztcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgXCJhY3Rpdml0eU1pZGRsZXdhcmVcIiBpbnN0ZWFkLiAqL1xuICBhY3Rpdml0eVJlbmRlcmVyPzogYW55OyAvLyBUT0RPOiBbUDRdIFJlbW92ZSBvbiBvciBhZnRlciAyMDIyLTA2LTE1LlxuICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBcImFjdGl2aXR5U3RhdHVzTWlkZGxld2FyZVwiIGluc3RlYWQuICovXG4gIGFjdGl2aXR5U3RhdHVzUmVuZGVyZXI/OiBhbnk7IC8vIFRPRE86IFtQNF0gUmVtb3ZlIG9uIG9yIGFmdGVyIDIwMjItMDYtMTUuXG4gIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIFwiYXR0YWNobWVudE1pZGRsZXdhcmVcIiBpbnN0ZWFkLiAqL1xuICBhdHRhY2htZW50UmVuZGVyZXI/OiBhbnk7IC8vIFRPRE86IFtQNF0gUmVtb3ZlIG9uIG9yIGFmdGVyIDIwMjItMDYtMTUuXG4gIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIFwiYXZhdGFyTWlkZGxld2FyZVwiIGluc3RlYWQuICovXG4gIGF2YXRhclJlbmRlcmVyPzogYW55OyAvLyBUT0RPOiBbUDRdIFJlbW92ZSBvbiBvciBhZnRlciAyMDIyLTA2LTE1LlxuICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBcInN0eWxlT3B0aW9ucy5ncm91cFRpbWVzdGFtcFwiIGluc3RlYWQuICovXG4gIGdyb3VwVGltZXN0YW1wPzogYm9vbGVhbiB8IG51bWJlcjsgLy8gVE9ETzogW1A0XSBSZW1vdmUgb24gb3IgYWZ0ZXIgMjAyMi0wMS0wMVxuICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBcInN0eWxlT3B0aW9ucy5zZW5kVGltZW91dFwiIGluc3RlYWQuICovXG4gIHNlbmRUaW1lb3V0PzogbnVtYmVyOyAvLyBUT0RPOiBbUDRdIFJlbW92ZSBvbiBvciBhZnRlciAyMDIyLTAxLTAxLlxuICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBcInRvYXN0TWlkZGxld2FyZVwiIGluc3RlYWQuICovXG4gIHRvYXN0UmVuZGVyZXI/OiBhbnk7IC8vIFRPRE86IFtQNF0gUmVtb3ZlIG9uIG9yIGFmdGVyIDIwMjItMDYtMTUuXG4gIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIFwidHlwaW5nSW5kaWNhdG9yUmVuZGVyZXJcIiBpbnN0ZWFkLiAqL1xuICB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlcj86IGFueTsgLy8gVE9ETzogW1A0XSBSZW1vdmUgb24gb3IgYWZ0ZXIgMjAyMi0wNi0xNS5cbn07XG4vKiBlc2xpbnQtZW5hYmxlIHJlYWN0L3JlcXVpcmUtZGVmYXVsdC1wcm9wcyAqL1xuXG5jb25zdCBDb21wb3NlckNvcmUgPSAoe1xuICBhY3Rpdml0eU1pZGRsZXdhcmUsXG4gIGFjdGl2aXR5UmVuZGVyZXIsXG4gIGFjdGl2aXR5U3RhdHVzTWlkZGxld2FyZSxcbiAgYWN0aXZpdHlTdGF0dXNSZW5kZXJlcixcbiAgYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUsXG4gIGF0dGFjaG1lbnRNaWRkbGV3YXJlLFxuICBhdHRhY2htZW50UmVuZGVyZXIsXG4gIGF2YXRhck1pZGRsZXdhcmUsXG4gIGF2YXRhclJlbmRlcmVyLFxuICBjYXJkQWN0aW9uTWlkZGxld2FyZSxcbiAgY2hpbGRyZW4sXG4gIGRpcixcbiAgZGlyZWN0TGluZSxcbiAgZGlzYWJsZWQsXG4gIGRvd25zY2FsZUltYWdlVG9EYXRhVVJMLFxuICBncmFtbWFycyxcbiAgZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSxcbiAgZ3JvdXBUaW1lc3RhbXAsXG4gIGludGVybmFsRXJyb3JCb3hDbGFzcyxcbiAgbG9jYWxlLFxuICBvblRlbGVtZXRyeSxcbiAgb3ZlcnJpZGVMb2NhbGl6ZWRTdHJpbmdzLFxuICByZW5kZXJNYXJrZG93bixcbiAgc2Nyb2xsVG9FbmRCdXR0b25NaWRkbGV3YXJlLFxuICBzZWxlY3RWb2ljZSxcbiAgc2VuZFRpbWVvdXQsXG4gIHNlbmRUeXBpbmdJbmRpY2F0b3IsXG4gIHN0eWxlT3B0aW9ucyxcbiAgdG9hc3RNaWRkbGV3YXJlLFxuICB0b2FzdFJlbmRlcmVyLFxuICB0eXBpbmdJbmRpY2F0b3JNaWRkbGV3YXJlLFxuICB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlcixcbiAgdXNlcklELFxuICB1c2VybmFtZVxufTogQ29tcG9zZXJDb3JlUHJvcHMpID0+IHtcbiAgY29uc3QgW3BvbnlmaWxsXSA9IHVzZVBvbnlmaWxsKCk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgdGVsZW1ldHJ5RGltZW5zaW9uc1JlZiA9IHVzZVJlZih7fSk7XG5cbiAgY29uc3QgcGF0Y2hlZERpciA9IHVzZU1lbW8oKCkgPT4gKGRpciA9PT0gJ2x0cicgfHwgZGlyID09PSAncnRsJyA/IGRpciA6ICdhdXRvJyksIFtkaXJdKTtcbiAgY29uc3QgcGF0Y2hlZEdyYW1tYXJzID0gdXNlTWVtbygoKSA9PiBncmFtbWFycyB8fCBbXSwgW2dyYW1tYXJzXSk7XG4gIGNvbnN0IHBhdGNoZWRTdHlsZU9wdGlvbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IG5vcm1hbGl6ZVN0eWxlT3B0aW9ucyhwYXRjaFN0eWxlT3B0aW9uc0Zyb21EZXByZWNhdGVkUHJvcHMoc3R5bGVPcHRpb25zLCB7IGdyb3VwVGltZXN0YW1wLCBzZW5kVGltZW91dCB9KSksXG4gICAgW2dyb3VwVGltZXN0YW1wLCBzZW5kVGltZW91dCwgc3R5bGVPcHRpb25zXVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0TGFuZ3VhZ2UobG9jYWxlKSk7XG4gIH0sIFtkaXNwYXRjaCwgbG9jYWxlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0eXBlb2Ygc2VuZFRpbWVvdXQgPT09ICdudW1iZXInICYmIGRpc3BhdGNoKHNldFNlbmRUaW1lb3V0KHNlbmRUaW1lb3V0KSk7XG4gIH0sIFtkaXNwYXRjaCwgc2VuZFRpbWVvdXRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRpc3BhdGNoKHNldFNlbmRUeXBpbmdJbmRpY2F0b3IoISFzZW5kVHlwaW5nSW5kaWNhdG9yKSk7XG4gIH0sIFtkaXNwYXRjaCwgc2VuZFR5cGluZ0luZGljYXRvcl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBjcmVhdGVDb25uZWN0QWN0aW9uKHtcbiAgICAgICAgZGlyZWN0TGluZSxcbiAgICAgICAgdXNlcklELFxuICAgICAgICB1c2VybmFtZVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogQHRvZG8gVE9ETzogW1AzXSBkaXNjb25uZWN0KCkgaXMgYW4gYXN5bmMgY2FsbCAocGVuZGluZyAtPiBmdWxmaWxsZWQpLCB3ZSBuZWVkIHRvIHdhaXQsIG9yIGNoYW5nZSBpdCB0byByZWNvbm5lY3QoKVxuICAgICAgICovXG4gICAgICBkaXNwYXRjaChkaXNjb25uZWN0KCkpO1xuICAgIH07XG4gIH0sIFtkaXNwYXRjaCwgZGlyZWN0TGluZSwgdXNlcklELCB1c2VybmFtZV0pO1xuXG4gIGNvbnN0IG1hcmtBbGxBc0Fja25vd2xlZGdlZCA9IHVzZU1hcmtBbGxBc0Fja25vd2xlZGdlZCgpO1xuXG4gIGNvbnN0IGNhcmRBY3Rpb25Db250ZXh0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVDYXJkQWN0aW9uQ29udGV4dCh7IGNhcmRBY3Rpb25NaWRkbGV3YXJlLCBkaXJlY3RMaW5lLCBkaXNwYXRjaCwgbWFya0FsbEFzQWNrbm93bGVkZ2VkLCBwb255ZmlsbCB9KSxcbiAgICBbY2FyZEFjdGlvbk1pZGRsZXdhcmUsIGRpcmVjdExpbmUsIGRpc3BhdGNoLCBtYXJrQWxsQXNBY2tub3dsZWRnZWQsIHBvbnlmaWxsXVxuICApO1xuXG4gIGNvbnN0IHBhdGNoZWRTZWxlY3RWb2ljZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc2VsZWN0Vm9pY2UgfHwgZGVmYXVsdFNlbGVjdFZvaWNlLmJpbmQobnVsbCwgeyBsYW5ndWFnZTogbG9jYWxlIH0pLFxuICAgIFtsb2NhbGUsIHNlbGVjdFZvaWNlXVxuICApO1xuXG4gIGNvbnN0IGdyb3VwQWN0aXZpdGllc0NvbnRleHQgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBjcmVhdGVHcm91cEFjdGl2aXRpZXNDb250ZXh0KHtcbiAgICAgICAgZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSxcbiAgICAgICAgZ3JvdXBUaW1lc3RhbXA6IHBhdGNoZWRTdHlsZU9wdGlvbnMuZ3JvdXBUaW1lc3RhbXAsXG4gICAgICAgIHBvbnlmaWxsXG4gICAgICB9KSxcbiAgICBbZ3JvdXBBY3Rpdml0aWVzTWlkZGxld2FyZSwgcGF0Y2hlZFN0eWxlT3B0aW9ucy5ncm91cFRpbWVzdGFtcCwgcG9ueWZpbGxdXG4gICk7XG5cbiAgY29uc3QgaG9pc3RlZERpc3BhdGNoZXJzID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgbWFwTWFwKFxuICAgICAgICBESVNQQVRDSEVSUyxcbiAgICAgICAgZGlzcGF0Y2hlciA9PlxuICAgICAgICAgICguLi5hcmdzKSA9PlxuICAgICAgICAgICAgZGlzcGF0Y2goZGlzcGF0Y2hlciguLi5hcmdzKSlcbiAgICAgICksXG4gICAgW2Rpc3BhdGNoXVxuICApO1xuXG4gIGNvbnN0IHBhdGNoZWRMb2NhbGl6ZWRTdHJpbmdzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBtZXJnZVN0cmluZ3NPdmVycmlkZXMoZ2V0QWxsTG9jYWxpemVkU3RyaW5ncygpW25vcm1hbGl6ZUxhbmd1YWdlKGxvY2FsZSldLCBsb2NhbGUsIG92ZXJyaWRlTG9jYWxpemVkU3RyaW5ncyksXG4gICAgW2xvY2FsZSwgb3ZlcnJpZGVMb2NhbGl6ZWRTdHJpbmdzXVxuICApO1xuXG4gIGNvbnN0IGxvY2FsaXplZEdsb2JhbGl6ZSA9IHVzZU1lbW88UHJlY29tcGlsZWRHbG9iYWxpemVUeXBlPigoKSA9PiB7XG4gICAgY29uc3QgeyBHTE9CQUxJWkUsIEdMT0JBTElaRV9MQU5HVUFHRSB9ID0gcGF0Y2hlZExvY2FsaXplZFN0cmluZ3MgfHwge307XG5cbiAgICByZXR1cm4gR0xPQkFMSVpFIHx8IChHTE9CQUxJWkVfTEFOR1VBR0UgJiYgUHJlY29tcGlsZWRHbG9iYWxpemUoR0xPQkFMSVpFX0xBTkdVQUdFKSkgfHwgUHJlY29tcGlsZWRHbG9iYWxpemUoJ2VuJyk7XG4gIH0sIFtwYXRjaGVkTG9jYWxpemVkU3RyaW5nc10pO1xuXG4gIGNvbnN0IHRyYWNrRGltZW5zaW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKG5hbWU6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XG4gICAgICBpZiAoIW5hbWUgfHwgdHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oJ2JvdGZyYW1ld29yay13ZWJjaGF0OiBUZWxlbWV0cnkgZGltZW5zaW9uIG5hbWUgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBkYXRhO1xuXG4gICAgICBpZiAodHlwZSAhPT0gJ3N0cmluZycgJiYgdHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybignYm90ZnJhbWV3b3JrLXdlYmNoYXQ6IFRlbGVtZXRyeSBkaW1lbnNpb24gZGF0YSBtdXN0IGJlIGEgc3RyaW5nIG9yIHVuZGVmaW5lZC4nKTtcbiAgICAgIH1cblxuICAgICAgdGVsZW1ldHJ5RGltZW5zaW9uc1JlZi5jdXJyZW50ID0gdXBkYXRlSW4oXG4gICAgICAgIHRlbGVtZXRyeURpbWVuc2lvbnNSZWYuY3VycmVudCxcbiAgICAgICAgW25hbWVdLFxuICAgICAgICB0eXBlID09PSAndW5kZWZpbmVkJyA/IGRhdGEgOiAoKSA9PiBkYXRhXG4gICAgICApO1xuICAgIH0sXG4gICAgW3RlbGVtZXRyeURpbWVuc2lvbnNSZWZdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEFjdGl2aXR5UmVuZGVyZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBhY3Rpdml0eVJlbmRlcmVyICYmXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdXZWIgQ2hhdDogXCJhY3Rpdml0eVJlbmRlcmVyXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIG9uIDIwMjItMDYtMTUsIHBsZWFzZSB1c2UgXCJhY3Rpdml0eU1pZGRsZXdhcmVcIiBpbnN0ZWFkLidcbiAgICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aXZpdHlSZW5kZXJlciB8fFxuICAgICAgYXBwbHlNaWRkbGV3YXJlRm9yUmVuZGVyZXIoXG4gICAgICAgICdhY3Rpdml0eScsXG4gICAgICAgIHsgc3RyaWN0OiBmYWxzZSB9LFxuICAgICAgICAuLi5zaW5nbGVUb0FycmF5KGFjdGl2aXR5TWlkZGxld2FyZSksXG4gICAgICAgICgpID0+XG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAoeyBhY3Rpdml0eSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoYWN0aXZpdHkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyByZW5kZXJlciBmb3IgYWN0aXZpdHkgb2YgdHlwZSBcIiR7YWN0aXZpdHkudHlwZX1cImApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY3Rpdml0eSB0byByZW5kZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICApKHt9KVxuICAgICk7XG4gIH0sIFthY3Rpdml0eU1pZGRsZXdhcmUsIGFjdGl2aXR5UmVuZGVyZXJdKTtcblxuICBjb25zdCBwYXRjaGVkQWN0aXZpdHlTdGF0dXNSZW5kZXJlciA9IHVzZU1lbW88UmVuZGVyQWN0aXZpdHlTdGF0dXM+KCgpID0+IHtcbiAgICBhY3Rpdml0eVN0YXR1c1JlbmRlcmVyICYmXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdXZWIgQ2hhdDogXCJhY3Rpdml0eVN0YXR1c1JlbmRlcmVyXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIG9uIDIwMjItMDYtMTUsIHBsZWFzZSB1c2UgXCJhY3Rpdml0eVN0YXR1c01pZGRsZXdhcmVcIiBpbnN0ZWFkLidcbiAgICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aXZpdHlTdGF0dXNSZW5kZXJlciB8fFxuICAgICAgYXBwbHlNaWRkbGV3YXJlRm9yUmVuZGVyZXIoXG4gICAgICAgICdhY3Rpdml0eSBzdGF0dXMnLFxuICAgICAgICB7IHN0cmljdDogZmFsc2UgfSxcbiAgICAgICAgLi4uc2luZ2xlVG9BcnJheShhY3Rpdml0eVN0YXR1c01pZGRsZXdhcmUpLFxuICAgICAgICAoKSA9PiAoKSA9PiAoKSA9PiBmYWxzZVxuICAgICAgKSh7fSlcbiAgICApO1xuICB9LCBbYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlLCBhY3Rpdml0eVN0YXR1c1JlbmRlcmVyXSk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJSZW5kZXJlciA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGFwcGx5TWlkZGxld2FyZUZvclJlbmRlcmVyKFxuICAgICAgICAnYXR0YWNobWVudCBmb3Igc2NyZWVuIHJlYWRlcicsXG4gICAgICAgIHsgc3RyaWN0OiB0cnVlIH0sXG4gICAgICAgIC4uLnNpbmdsZVRvQXJyYXkoYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmUpLFxuICAgICAgICAoKSA9PlxuICAgICAgICAgICgpID0+XG4gICAgICAgICAgKHsgYXR0YWNobWVudCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE5vIHJlbmRlcmVyIGZvciBhdHRhY2htZW50IGZvciBzY3JlZW4gcmVhZGVyIG9mIHR5cGUgXCIke2F0dGFjaG1lbnQuY29udGVudFR5cGV9XCJgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogQHRvZG8gVE9ETzogW1A0XSBNaWdodCBiZSBhYmxlIHRvIHRocm93IHdpdGhvdXQgcmV0dXJuaW5nIGEgZnVuY3Rpb24gLS0gaW52ZXN0aWdhdGUgYW5kIHBvc3NpYmx5IGZpeFxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhdHRhY2htZW50IHRvIHJlbmRlcicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICApKHt9KSxcbiAgICBbYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmVdXG4gICk7XG5cbiAgY29uc3QgcGF0Y2hlZEF0dGFjaG1lbnRSZW5kZXJlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChhdHRhY2htZW50UmVuZGVyZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1dlYiBDaGF0OiBcImF0dGFjaG1lbnRSZW5kZXJlclwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbiAyMDIyLTA2LTE1LCBwbGVhc2UgdXNlIFwiYXR0YWNobWVudE1pZGRsZXdhcmVcIiBpbnN0ZWFkLidcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBhdHRhY2htZW50UmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLy8gQXR0YWNobWVudCByZW5kZXJlclxuICAgIHJldHVybiBhcHBseU1pZGRsZXdhcmVGb3JMZWdhY3lSZW5kZXJlcihcbiAgICAgICdhdHRhY2htZW50JyxcbiAgICAgIC4uLnNpbmdsZVRvQXJyYXkoYXR0YWNobWVudE1pZGRsZXdhcmUpLFxuICAgICAgKCkgPT5cbiAgICAgICAgKCkgPT5cbiAgICAgICAgKHsgYXR0YWNobWVudCB9KSA9PiB7XG4gICAgICAgICAgaWYgKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcmVuZGVyZXIgZm9yIGF0dGFjaG1lbnQgb2YgdHlwZSBcIiR7YXR0YWNobWVudC5jb250ZW50VHlwZX1cImApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF0dGFjaG1lbnQgdG8gcmVuZGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKSh7fSk7XG4gIH0sIFthdHRhY2htZW50TWlkZGxld2FyZSwgYXR0YWNobWVudFJlbmRlcmVyXSk7XG5cbiAgY29uc3QgcGF0Y2hlZEF2YXRhclJlbmRlcmVyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgYXZhdGFyUmVuZGVyZXIgJiZcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1dlYiBDaGF0OiBcImF2YXRhclJlbmRlcmVyXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIG9uIDIwMjItMDYtMTUsIHBsZWFzZSB1c2UgXCJhdmF0YXJNaWRkbGV3YXJlXCIgaW5zdGVhZC4nXG4gICAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIGF2YXRhclJlbmRlcmVyIHx8XG4gICAgICBhcHBseU1pZGRsZXdhcmVGb3JSZW5kZXJlcihcbiAgICAgICAgJ2F2YXRhcicsXG4gICAgICAgIHsgc3RyaWN0OiBmYWxzZSB9LFxuICAgICAgICAuLi5zaW5nbGVUb0FycmF5KGF2YXRhck1pZGRsZXdhcmUpLFxuICAgICAgICAoKSA9PiAoKSA9PiAoKSA9PiBmYWxzZVxuICAgICAgKSh7fSlcbiAgICApO1xuICB9LCBbYXZhdGFyTWlkZGxld2FyZSwgYXZhdGFyUmVuZGVyZXJdKTtcblxuICBjb25zdCBwYXRjaGVkVG9hc3RSZW5kZXJlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHRvYXN0UmVuZGVyZXIgJiZcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1dlYiBDaGF0OiBcInRvYXN0UmVuZGVyZXJcIiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgb24gMjAyMi0wNi0xNSwgcGxlYXNlIHVzZSBcInRvYXN0TWlkZGxld2FyZVwiIGluc3RlYWQuJ1xuICAgICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICB0b2FzdFJlbmRlcmVyIHx8XG4gICAgICBhcHBseU1pZGRsZXdhcmVGb3JSZW5kZXJlcihcbiAgICAgICAgJ3RvYXN0JyxcbiAgICAgICAgeyBzdHJpY3Q6IGZhbHNlIH0sXG4gICAgICAgIC4uLnNpbmdsZVRvQXJyYXkodG9hc3RNaWRkbGV3YXJlKSxcbiAgICAgICAgKCkgPT5cbiAgICAgICAgICAoKSA9PlxuICAgICAgICAgICh7IG5vdGlmaWNhdGlvbiB9KSA9PiB7XG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcmVuZGVyZXIgZm9yIG5vdGlmaWNhdGlvbiBvZiB0eXBlIFwiJHtub3RpZmljYXRpb24uY29udGVudFR5cGV9XCJgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbm90aWZpY2F0aW9uIHRvIHJlbmRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICkoe30pXG4gICAgKTtcbiAgfSwgW3RvYXN0TWlkZGxld2FyZSwgdG9hc3RSZW5kZXJlcl0pO1xuXG4gIGNvbnN0IHBhdGNoZWRUeXBpbmdJbmRpY2F0b3JSZW5kZXJlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHR5cGluZ0luZGljYXRvclJlbmRlcmVyICYmXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdXZWIgQ2hhdDogXCJ0eXBpbmdJbmRpY2F0b3JSZW5kZXJlclwiIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbiAyMDIyLTA2LTE1LCBwbGVhc2UgdXNlIFwidHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZVwiIGluc3RlYWQuJ1xuICAgICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlciB8fFxuICAgICAgYXBwbHlNaWRkbGV3YXJlRm9yUmVuZGVyZXIoXG4gICAgICAgICd0eXBpbmcgaW5kaWNhdG9yJyxcbiAgICAgICAgeyBzdHJpY3Q6IGZhbHNlIH0sXG4gICAgICAgIC4uLnNpbmdsZVRvQXJyYXkodHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZSksXG4gICAgICAgICgpID0+ICgpID0+ICgpID0+IGZhbHNlXG4gICAgICApKHt9KVxuICAgICk7XG4gIH0sIFt0eXBpbmdJbmRpY2F0b3JNaWRkbGV3YXJlLCB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlcl0pO1xuXG4gIGNvbnN0IHNjcm9sbFRvRW5kQnV0dG9uUmVuZGVyZXI6IFNjcm9sbFRvRW5kQnV0dG9uQ29tcG9uZW50RmFjdG9yeSA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGFwcGx5TWlkZGxld2FyZUZvclJlbmRlcmVyKFxuICAgICAgICAnc2Nyb2xsIHRvIGVuZCBidXR0b24nLFxuICAgICAgICB7IHN0cmljdDogdHJ1ZSB9LFxuICAgICAgICAuLi5zaW5nbGVUb0FycmF5KHNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZSksXG4gICAgICAgICgpID0+ICgpID0+ICgpID0+IGZhbHNlXG4gICAgICApKCkgYXMgYW55LFxuICAgIFtzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmVdXG4gICk7XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoZWF2eSBmdW5jdGlvbiwgYW5kIGl0IGlzIGV4cGVjdGVkIHRvIGJlIG9ubHkgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBuZWVkIHRvIHJlY3JlYXRlIGJ1c2luZXNzIGxvZ2ljLCBlLmcuXG4gICAqIC0gVXNlciBJRCBjaGFuZ2VkLCBjYXVzaW5nIGFsbCBzZW5kKiBmdW5jdGlvbnMgdG8gYmUgdXBkYXRlZFxuICAgKiAtIHNlbmRcbiAgICogQHRvZG8gVE9ETzogW1AzXSBXZSBzaG91bGQgdGhpbmsgYWJvdXQgaWYgd2UgYWxsb3cgdGhlIHVzZXIgdG8gY2hhbmdlIG9uU2VuZEJveFZhbHVlQ2hhbmdlZC9zZW5kQm94VmFsdWUsIGUuZy5cbiAgICogMS4gVHVybnMgdGV4dCBpbnRvIFVQUEVSQ0FTRVxuICAgKiAyLiBGaWx0ZXIgb3V0IHByb2Zhbml0eVxuICAgKiBAdG9kbyBUT0RPOiBbUDRdIFJldmlzaXQgYWxsIG1lbWJlcnMgb2YgY29udGV4dFxuICAgKiAgICAgICBUaGlzIGNvbnRleHQgc2hvdWxkIGNvbnNpc3Qgb2YgbWVtYmVycyB0aGF0IGFyZSBub3QgaW4gdGhlIFJlZHV4IHN0b3JlXG4gICAqICAgICAgIGkuZS4gbWVtYmVycyB0aGF0IGFyZSBub3QgaW50ZXJlc3RlZCBpbiBvdGhlciB0eXBlcyBvZiBVSXNcbiAgICovXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vPENvbnRleHRPZjx0eXBlb2YgV2ViQ2hhdEFQSUNvbnRleHQ+PihcbiAgICAoKSA9PiAoe1xuICAgICAgLi4uY2FyZEFjdGlvbkNvbnRleHQsXG4gICAgICAuLi5ncm91cEFjdGl2aXRpZXNDb250ZXh0LFxuICAgICAgLi4uaG9pc3RlZERpc3BhdGNoZXJzLFxuICAgICAgYWN0aXZpdHlSZW5kZXJlcjogcGF0Y2hlZEFjdGl2aXR5UmVuZGVyZXIsXG4gICAgICBhY3Rpdml0eVN0YXR1c1JlbmRlcmVyOiBwYXRjaGVkQWN0aXZpdHlTdGF0dXNSZW5kZXJlcixcbiAgICAgIGF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJSZW5kZXJlcjogcGF0Y2hlZEF0dGFjaG1lbnRGb3JTY3JlZW5SZWFkZXJSZW5kZXJlcixcbiAgICAgIGF0dGFjaG1lbnRSZW5kZXJlcjogcGF0Y2hlZEF0dGFjaG1lbnRSZW5kZXJlcixcbiAgICAgIGF2YXRhclJlbmRlcmVyOiBwYXRjaGVkQXZhdGFyUmVuZGVyZXIsXG4gICAgICBkaXI6IHBhdGNoZWREaXIsXG4gICAgICBkaXJlY3RMaW5lLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBkb3duc2NhbGVJbWFnZVRvRGF0YVVSTCxcbiAgICAgIGdyYW1tYXJzOiBwYXRjaGVkR3JhbW1hcnMsXG4gICAgICBpbnRlcm5hbEVycm9yQm94Q2xhc3MsXG4gICAgICBsYW5ndWFnZTogbG9jYWxlLFxuICAgICAgbG9jYWxpemVkR2xvYmFsaXplU3RhdGU6IFtsb2NhbGl6ZWRHbG9iYWxpemVdLFxuICAgICAgbG9jYWxpemVkU3RyaW5nczogcGF0Y2hlZExvY2FsaXplZFN0cmluZ3MsXG4gICAgICBvblRlbGVtZXRyeSxcbiAgICAgIHJlbmRlck1hcmtkb3duLFxuICAgICAgc2Nyb2xsVG9FbmRCdXR0b25SZW5kZXJlcixcbiAgICAgIHNlbGVjdFZvaWNlOiBwYXRjaGVkU2VsZWN0Vm9pY2UsXG4gICAgICBzZW5kVHlwaW5nSW5kaWNhdG9yLFxuICAgICAgc3R5bGVPcHRpb25zOiBwYXRjaGVkU3R5bGVPcHRpb25zLFxuICAgICAgdGVsZW1ldHJ5RGltZW5zaW9uc1JlZixcbiAgICAgIHRvYXN0UmVuZGVyZXI6IHBhdGNoZWRUb2FzdFJlbmRlcmVyLFxuICAgICAgdHJhY2tEaW1lbnNpb24sXG4gICAgICB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlcjogcGF0Y2hlZFR5cGluZ0luZGljYXRvclJlbmRlcmVyLFxuICAgICAgdXNlcklELFxuICAgICAgdXNlcm5hbWVcbiAgICB9KSxcbiAgICBbXG4gICAgICBjYXJkQWN0aW9uQ29udGV4dCxcbiAgICAgIGRpcmVjdExpbmUsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGRvd25zY2FsZUltYWdlVG9EYXRhVVJMLFxuICAgICAgZ3JvdXBBY3Rpdml0aWVzQ29udGV4dCxcbiAgICAgIGhvaXN0ZWREaXNwYXRjaGVycyxcbiAgICAgIGludGVybmFsRXJyb3JCb3hDbGFzcyxcbiAgICAgIGxvY2FsZSxcbiAgICAgIGxvY2FsaXplZEdsb2JhbGl6ZSxcbiAgICAgIG9uVGVsZW1ldHJ5LFxuICAgICAgcGF0Y2hlZEFjdGl2aXR5UmVuZGVyZXIsXG4gICAgICBwYXRjaGVkQWN0aXZpdHlTdGF0dXNSZW5kZXJlcixcbiAgICAgIHBhdGNoZWRBdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyUmVuZGVyZXIsXG4gICAgICBwYXRjaGVkQXR0YWNobWVudFJlbmRlcmVyLFxuICAgICAgcGF0Y2hlZEF2YXRhclJlbmRlcmVyLFxuICAgICAgcGF0Y2hlZERpcixcbiAgICAgIHBhdGNoZWRHcmFtbWFycyxcbiAgICAgIHBhdGNoZWRMb2NhbGl6ZWRTdHJpbmdzLFxuICAgICAgcGF0Y2hlZFNlbGVjdFZvaWNlLFxuICAgICAgcGF0Y2hlZFN0eWxlT3B0aW9ucyxcbiAgICAgIHBhdGNoZWRUb2FzdFJlbmRlcmVyLFxuICAgICAgcGF0Y2hlZFR5cGluZ0luZGljYXRvclJlbmRlcmVyLFxuICAgICAgcmVuZGVyTWFya2Rvd24sXG4gICAgICBzY3JvbGxUb0VuZEJ1dHRvblJlbmRlcmVyLFxuICAgICAgc2VuZFR5cGluZ0luZGljYXRvcixcbiAgICAgIHRlbGVtZXRyeURpbWVuc2lvbnNSZWYsXG4gICAgICB0cmFja0RpbWVuc2lvbixcbiAgICAgIHVzZXJJRCxcbiAgICAgIHVzZXJuYW1lXG4gICAgXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFdlYkNoYXRBUElDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgIDxBY3Rpdml0eVNlbmRTdGF0dXNDb21wb3Nlcj5cbiAgICAgICAge3R5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKGNvbnRleHQpIDogY2hpbGRyZW59XG4gICAgICAgIDxBY3Rpdml0eVNlbmRTdGF0dXNUZWxlbWV0cnlDb21wb3NlciAvPlxuICAgICAgPC9BY3Rpdml0eVNlbmRTdGF0dXNDb21wb3Nlcj5cbiAgICAgIHtvblRlbGVtZXRyeSAmJiA8VHJhY2tlciAvPn1cbiAgICA8L1dlYkNoYXRBUElDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuLyoqXG4gKiBAdG9kbyBUT0RPOiBbUDNdIFdlIHNob3VsZCBjb25zaWRlciBtb3Zpbmcgc29tZSBkYXRhIGZyb20gUmVkdXggc3RvcmUgdG8gcHJvcHNcbiAqICAgICAgIEFsdGhvdWdoIHdlIHVzZSBgY29ubmVjdFRvV2ViQ2hhdGAgdG8gaGlkZSB0aGUgZGV0YWlscyBvZiBhY2Nlc3NvciBvZiBSZWR1eCBzdG9yZSxcbiAqICAgICAgIHdlIHNob3VsZCBjbGVhbiB1cCB0aGUgcmVzcG9uc2liaWxpdHkgYmV0d2VlbiBDb250ZXh0IGFuZCBSZWR1eCBzdG9yZVxuICogICAgICAgV2Ugc2hvdWxkIGRlY2lkZSB3aGljaCBkYXRhIGlzIG5lZWRlZCBmb3IgUmVhY3QgYnV0IG5vdCBpbiBvdGhlciBlbnZpcm9ubWVudCBzdWNoIGFzIENMSS9WU0NvZGVcbiAqL1xuQ29tcG9zZXJDb3JlLmRlZmF1bHRQcm9wcyA9IHtcbiAgYWN0aXZpdHlNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIGFjdGl2aXR5UmVuZGVyZXI6IHVuZGVmaW5lZCxcbiAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIGFjdGl2aXR5U3RhdHVzUmVuZGVyZXI6IHVuZGVmaW5lZCxcbiAgYXR0YWNobWVudEZvclNjcmVlblJlYWRlck1pZGRsZXdhcmU6IHVuZGVmaW5lZCxcbiAgYXR0YWNobWVudE1pZGRsZXdhcmU6IHVuZGVmaW5lZCxcbiAgYXR0YWNobWVudFJlbmRlcmVyOiB1bmRlZmluZWQsXG4gIGF2YXRhck1pZGRsZXdhcmU6IHVuZGVmaW5lZCxcbiAgYXZhdGFyUmVuZGVyZXI6IHVuZGVmaW5lZCxcbiAgY2FyZEFjdGlvbk1pZGRsZXdhcmU6IHVuZGVmaW5lZCxcbiAgY2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgZGlyOiAnYXV0bycsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkw6IHVuZGVmaW5lZCxcbiAgZ3JhbW1hcnM6IFtdLFxuICBncm91cEFjdGl2aXRpZXNNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIGdyb3VwVGltZXN0YW1wOiB1bmRlZmluZWQsXG4gIGludGVybmFsRXJyb3JCb3hDbGFzczogdW5kZWZpbmVkLFxuICBsb2NhbGU6IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJ2VuLVVTJyxcbiAgb25UZWxlbWV0cnk6IHVuZGVmaW5lZCxcbiAgb3ZlcnJpZGVMb2NhbGl6ZWRTdHJpbmdzOiB1bmRlZmluZWQsXG4gIHJlbmRlck1hcmtkb3duOiB1bmRlZmluZWQsXG4gIHNjcm9sbFRvRW5kQnV0dG9uTWlkZGxld2FyZTogdW5kZWZpbmVkLFxuICBzZWxlY3RWb2ljZTogdW5kZWZpbmVkLFxuICBzZW5kVGltZW91dDogdW5kZWZpbmVkLFxuICBzZW5kVHlwaW5nSW5kaWNhdG9yOiBmYWxzZSxcbiAgc3R5bGVPcHRpb25zOiB7fSxcbiAgdG9hc3RNaWRkbGV3YXJlOiB1bmRlZmluZWQsXG4gIHRvYXN0UmVuZGVyZXI6IHVuZGVmaW5lZCxcbiAgdHlwaW5nSW5kaWNhdG9yTWlkZGxld2FyZTogdW5kZWZpbmVkLFxuICB0eXBpbmdJbmRpY2F0b3JSZW5kZXJlcjogdW5kZWZpbmVkLFxuICB1c2VySUQ6ICcnLFxuICB1c2VybmFtZTogJydcbn07XG5cbkNvbXBvc2VyQ29yZS5wcm9wVHlwZXMgPSB7XG4gIGFjdGl2aXR5TWlkZGxld2FyZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmZ1bmMpLCBQcm9wVHlwZXMuZnVuY10pLFxuICBhY3Rpdml0eVJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgYWN0aXZpdHlTdGF0dXNNaWRkbGV3YXJlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksIFByb3BUeXBlcy5mdW5jXSksXG4gIGFjdGl2aXR5U3RhdHVzUmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuICBhdHRhY2htZW50Rm9yU2NyZWVuUmVhZGVyTWlkZGxld2FyZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmZ1bmMpLCBQcm9wVHlwZXMuZnVuY10pLFxuICBhdHRhY2htZW50TWlkZGxld2FyZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmZ1bmMpLCBQcm9wVHlwZXMuZnVuY10pLFxuICBhdHRhY2htZW50UmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuICBhdmF0YXJNaWRkbGV3YXJlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksIFByb3BUeXBlcy5mdW5jXSksXG4gIGF2YXRhclJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2FyZEFjdGlvbk1pZGRsZXdhcmU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5mdW5jKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gIGRpcjogUHJvcFR5cGVzLm9uZU9mKFsnYXV0bycsICdsdHInLCAncnRsJ10pLFxuICAvLyBQcm9wVHlwZXMuc2hhcGUoeyAuLi4gfSkgZGlkIG5vdCBob25vciBpc1JlcXVpcmVkIGZvciBpdHMgbWVtYmVycy5cbiAgLy8gQHRzLWlnbm9yZVxuICBkaXJlY3RMaW5lOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGFjdGl2aXR5JDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHN1YnNjcmliZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgY29ubmVjdGlvblN0YXR1cyQ6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIGVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZ2V0U2Vzc2lvbklkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwb3N0QWN0aXZpdHk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgcmVmZXJlbmNlR3JhbW1hcklEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRva2VuOiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgZG93bnNjYWxlSW1hZ2VUb0RhdGFVUkw6IFByb3BUeXBlcy5mdW5jLFxuICBncmFtbWFyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIGdyb3VwQWN0aXZpdGllc01pZGRsZXdhcmU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5mdW5jKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgZ3JvdXBUaW1lc3RhbXA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMubnVtYmVyXSksXG4gIGludGVybmFsRXJyb3JCb3hDbGFzczogUHJvcFR5cGVzLmZ1bmMsIC8vIFRoaXMgaXMgZm9yIGludGVybmFsIHVzZSBvbmx5LiBXZSBkb24ndCBhbGxvdyBjdXN0b21pemF0aW9uIG9mIGVycm9yIGJveC5cbiAgbG9jYWxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvblRlbGVtZXRyeTogUHJvcFR5cGVzLmZ1bmMsXG4gIG92ZXJyaWRlTG9jYWxpemVkU3RyaW5nczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFueSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgcmVuZGVyTWFya2Rvd246IFByb3BUeXBlcy5mdW5jLFxuICBzY3JvbGxUb0VuZEJ1dHRvbk1pZGRsZXdhcmU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5mdW5jKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgc2VsZWN0Vm9pY2U6IFByb3BUeXBlcy5mdW5jLFxuICBzZW5kVGltZW91dDogUHJvcFR5cGVzLm51bWJlcixcbiAgc2VuZFR5cGluZ0luZGljYXRvcjogUHJvcFR5cGVzLmJvb2wsXG4gIHN0eWxlT3B0aW9uczogUHJvcFR5cGVzLmFueSxcbiAgdG9hc3RNaWRkbGV3YXJlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksIFByb3BUeXBlcy5mdW5jXSksXG4gIHRvYXN0UmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuICB0eXBpbmdJbmRpY2F0b3JNaWRkbGV3YXJlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZnVuYyksIFByb3BUeXBlcy5mdW5jXSksXG4gIHR5cGluZ0luZGljYXRvclJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgdXNlcklEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB1c2VybmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxudHlwZSBDb21wb3NlcldpdGhTdG9yZVByb3BzID0gQ29tcG9zZXJDb3JlUHJvcHMgJiB7XG4gIHN0b3JlPzogYW55O1xufTtcblxudHlwZSBDb21wb3NlclByb3BzID0gQ29tcG9zZXJXaXRoU3RvcmVQcm9wcyAmIHtcbiAgaW50ZXJuYWxSZW5kZXJFcnJvckJveD86IGFueTtcblxuICAvKipcbiAgICogUG9ueWZpbGwgdG8gb3ZlcnJpZGVzIHNwZWNpZmljIGdsb2JhbCBzY29wZSBtZW1iZXJzLiBUaGlzIHByb3AgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgaW5pdGlhbCByZW5kZXIuXG4gICAqXG4gICAqIFRoaXMgb3B0aW9uIGlzIGZvciBkZXZlbG9wbWVudCB1c2Ugb25seS4gTm90IGFsbCBmZWF0dXJlcyBpbiBXZWIgQ2hhdCBhcmUgcG9ueWZpbGxlZC5cbiAgICpcbiAgICogVG8gZmFrZSB0aW1lcnMsIGBzZXRUaW1lb3V0YCBhbmQgcmVsYXRlZCBmdW5jdGlvbnMgY2FuIGJlIHBhc3NlZCB0byBvdmVycmlkZXMgdGhlIG9yaWdpbmFsIGdsb2JhbCBzY29wZSBtZW1iZXJzLlxuICAgKlxuICAgKiBQbGVhc2Ugc2VlIFsjNDY2Ml0oaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9Cb3RGcmFtZXdvcmstV2ViQ2hhdC9wdWxsLzQ2NjIpIGZvciBkZXRhaWxzLlxuICAgKi9cbiAgcG9ueWZpbGw/OiBQYXJ0aWFsPEdsb2JhbFNjb3BlUG9ueWZpbGw+O1xufTtcblxuLy8gV2Ugd2lsbCBjcmVhdGUgYSBSZWR1eCBzdG9yZSBpZiBpdCB3YXMgbm90IHBhc3NlZCBpblxuY29uc3QgQ29tcG9zZXJXaXRoU3RvcmUgPSAoeyBvblRlbGVtZXRyeSwgc3RvcmUsIC4uLnByb3BzIH06IENvbXBvc2VyV2l0aFN0b3JlUHJvcHMpID0+IHtcbiAgY29uc3QgW3BvbnlmaWxsXSA9IHVzZVBvbnlmaWxsKCk7XG5cbiAgY29uc3QgbWVtb2l6ZWRTdG9yZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG5leHRTdG9yZSA9IHN0b3JlIHx8IGNyZWF0ZVN0b3JlV2l0aE9wdGlvbnMoeyBwb255ZmlsbCB9KTtcblxuICAgIGNvbnN0IHN0b3JlUG9ueWZpbGwgPSBuZXh0U3RvcmUuZ2V0U3RhdGUoKS5pbnRlcm5hbD8ucG9ueWZpbGwgfHwge307XG5cbiAgICBjb25zdCBrZXlzID0gbmV3IFNldChbLi4uT2JqZWN0LmtleXMoc3RvcmVQb255ZmlsbCksIC4uLk9iamVjdC5rZXlzKHBvbnlmaWxsKV0pO1xuXG4gICAgLy8gRmlsdGVyIG91dCBmb3JiaWRkZW4gcHJvcGVydGllcy5cbiAgICBrZXlzLmRlbGV0ZSgncHJvdG90eXBlJyk7XG5cbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QucHJvdG90eXBlKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbmF0aXZlRnVuY3Rpb24gPSAoZm46ICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24pOiBib29sZWFuID0+XG4gICAgICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgKCcnICsgZm4pLmVuZHNXaXRoKCcoKSB7IFtuYXRpdmUgY29kZV0gfScpO1xuXG4gICAgY29uc3QgcG9ueWZpbGxGdW5jdGlvbkVxdWFscyA9ICh4OiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duLCB5OiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duKSA9PlxuICAgICAgKG5hdGl2ZUZ1bmN0aW9uKHgpICYmIG5hdGl2ZUZ1bmN0aW9uKHkpKSB8fCB4ID09PSB5O1xuXG4gICAgLy8gV2UgaGF2ZSBmaWx0ZXJlZCBvdXQgYWxsIGZvcmJpZGRlbiBwcm9wZXJ0aWVzLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzZWN1cml0eS9kZXRlY3Qtb2JqZWN0LWluamVjdGlvblxuICAgIGNvbnN0IGRpZmZlcmVudEtleXMgPSBBcnJheS5mcm9tKGtleXMpLmZpbHRlcihrZXkgPT4gIXBvbnlmaWxsRnVuY3Rpb25FcXVhbHMoc3RvcmVQb255ZmlsbFtrZXldLCBwb255ZmlsbFtrZXldKSk7XG5cbiAgICBpZiAoZGlmZmVyZW50S2V5cy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGJvdGZyYW1ld29yay13ZWJjaGF0OiBQb255ZmlsbCB1c2VkIGluIHN0b3JlIHNob3VsZCBtYXRjaCB0aGUgcG9ueWZpbGwgcGFzc2VkIGluIHByb3BzOiAke2RpZmZlcmVudEtleXMuam9pbihcbiAgICAgICAgICAnLCAnXG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFN0b3JlO1xuICB9LCBbcG9ueWZpbGwsIHN0b3JlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UHJvdmlkZXIgY29udGV4dD17V2ViQ2hhdFJlZHV4Q29udGV4dH0gc3RvcmU9e21lbW9pemVkU3RvcmV9PlxuICAgICAgPEFjdGl2aXR5S2V5ZXJDb21wb3Nlcj5cbiAgICAgICAgPEFjdGl2aXR5QWNrbm93bGVkZ2VtZW50Q29tcG9zZXI+XG4gICAgICAgICAgPENvbXBvc2VyQ29yZSBvblRlbGVtZXRyeT17b25UZWxlbWV0cnl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9BY3Rpdml0eUFja25vd2xlZGdlbWVudENvbXBvc2VyPlxuICAgICAgPC9BY3Rpdml0eUtleWVyQ29tcG9zZXI+XG4gICAgPC9Qcm92aWRlcj5cbiAgKTtcbn07XG5cbkNvbXBvc2VyV2l0aFN0b3JlLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25UZWxlbWV0cnk6IHVuZGVmaW5lZCxcbiAgc3RvcmU6IHVuZGVmaW5lZFxufTtcblxuQ29tcG9zZXJXaXRoU3RvcmUucHJvcFR5cGVzID0ge1xuICBvblRlbGVtZXRyeTogUHJvcFR5cGVzLmZ1bmMsXG4gIHN0b3JlOiBQcm9wVHlwZXMuYW55XG59O1xuXG5jb25zdCBDb21wb3NlciA9ICh7IGludGVybmFsUmVuZGVyRXJyb3JCb3gsIG9uVGVsZW1ldHJ5LCBwb255ZmlsbCwgLi4ucHJvcHMgfTogQ29tcG9zZXJQcm9wcykgPT4ge1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCk7XG5cbiAgY29uc3QgaGFuZGxlRXJyb3IgPSB1c2VDYWxsYmFjayhcbiAgICBlcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdib3RmcmFtZXdvcmstd2ViY2hhdDogVW5jYXVnaHQgZXhjZXB0aW9uJywgeyBlcnJvciB9KTtcblxuICAgICAgb25UZWxlbWV0cnkgJiZcbiAgICAgICAgb25UZWxlbWV0cnkoY3JlYXRlQ3VzdG9tRXZlbnQoJ2V4Y2VwdGlvbicsIHsgZXJyb3IsIGZhdGFsOiB0cnVlIH0pIGFzIFRlbGVtZXRyeUV4Y2VwdGlvbk1lYXN1cmVtZW50RXZlbnQpO1xuICAgICAgc2V0RXJyb3IoZXJyb3IpO1xuICAgIH0sXG4gICAgW29uVGVsZW1ldHJ5LCBzZXRFcnJvcl1cbiAgKTtcblxuICByZXR1cm4gZXJyb3IgPyAoXG4gICAgISFpbnRlcm5hbFJlbmRlckVycm9yQm94ICYmIGludGVybmFsUmVuZGVyRXJyb3JCb3goeyBlcnJvciwgdHlwZTogJ3VuY2F1Z2h0IGV4Y2VwdGlvbicgfSlcbiAgKSA6IChcbiAgICA8RXJyb3JCb3VuZGFyeSBvbkVycm9yPXtoYW5kbGVFcnJvcn0+XG4gICAgICA8UG9ueWZpbGxDb21wb3NlciBwb255ZmlsbD17cG9ueWZpbGx9PlxuICAgICAgICA8Q29tcG9zZXJXaXRoU3RvcmUgb25UZWxlbWV0cnk9e29uVGVsZW1ldHJ5fSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L1BvbnlmaWxsQ29tcG9zZXI+XG4gICAgPC9FcnJvckJvdW5kYXJ5PlxuICApO1xufTtcblxuQ29tcG9zZXIuZGVmYXVsdFByb3BzID0ge1xuICAuLi5Db21wb3NlcldpdGhTdG9yZS5kZWZhdWx0UHJvcHMsXG4gIGludGVybmFsUmVuZGVyRXJyb3JCb3g6IHVuZGVmaW5lZCxcbiAgb25UZWxlbWV0cnk6IHVuZGVmaW5lZCxcbiAgcG9ueWZpbGw6IHVuZGVmaW5lZFxufTtcblxuQ29tcG9zZXIucHJvcFR5cGVzID0ge1xuICAuLi5Db21wb3NlcldpdGhTdG9yZS5wcm9wVHlwZXMsXG4gIGludGVybmFsUmVuZGVyRXJyb3JCb3g6IFByb3BUeXBlcy5hbnksXG4gIG9uVGVsZW1ldHJ5OiBQcm9wVHlwZXMuZnVuYyxcbiAgcG9ueWZpbGw6IFByb3BUeXBlcy5hbnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvc2VyO1xuXG5leHBvcnQgdHlwZSB7IENvbXBvc2VyUHJvcHMgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQTZCQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFLQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFNQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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