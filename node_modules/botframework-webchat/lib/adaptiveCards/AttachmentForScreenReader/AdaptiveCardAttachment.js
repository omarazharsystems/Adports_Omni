"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof = require("@babel/runtime/helpers/typeof");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _botframeworkWebchatComponent = require("botframework-webchat-component");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _useAdaptiveCardsPackage = _interopRequireDefault(require("../hooks/useAdaptiveCardsPackage"));

var _useParseAdaptiveCardJSON = _interopRequireDefault(require("../hooks/internal/useParseAdaptiveCardJSON"));

var _useUniqueId = _interopRequireDefault(require("../hooks/internal/useUniqueId"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/* eslint-disable react/no-array-index-key */

/* eslint-disable react/forbid-dom-props */
var useLocalizer = _botframeworkWebchatComponent.hooks.useLocalizer; // Perform a depth-first search of the Adaptive Card tree.

function walkAllItems(node, fn) {
  fn(node);

  if (node.getItemAt && node.getItemCount) {
    for (var count = node.getItemCount(), index = 0; index < count; index++) {
      walkAllItems(node.getItemAt(index), fn);
    }
  }

  if (node.getActionAt && node.getActionCount) {
    for (var _count = node.getActionCount(), _index = 0; _index < _count; _index++) {
      fn(node.getActionAt(_index));
    }
  }
}

var AdaptiveCardChoiceSetInput = function AdaptiveCardChoiceSetInput(_ref) {
  var _ref$input = _ref.input,
      choices = _ref$input.choices,
      defaultValue = _ref$input.defaultValue,
      label = _ref$input.label;
  var labelId = (0, _useUniqueId.default)('webchat__id');
  var defaultChoice = choices.find(function (_ref2) {
    var value = _ref2.value;
    return defaultValue === value || !defaultValue && !value;
  });
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("select", {
    "aria-label": label,
    "aria-labelledby": !label && defaultChoice ? labelId : undefined,
    defaultValue: defaultValue,
    tabIndex: -1
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      id: !label && choice === defaultChoice ? labelId : undefined,
      key: choice.value,
      value: choice.value
    }, choice.title);
  })));
};

AdaptiveCardChoiceSetInput.propTypes = {
  input: _propTypes.default.shape({
    choices: _propTypes.default.arrayOf(_propTypes.default.shape({
      title: _propTypes.default.string,
      value: _propTypes.default.any
    })),
    defaultValue: _propTypes.default.any,
    label: _propTypes.default.string,
    value: _propTypes.default.any
  }).isRequired
};

var AdaptiveCardAttachment = function AdaptiveCardAttachment(_ref3) {
  var content = _ref3.content;
  var localize = useLocalizer();
  var parseAdaptiveCardJSON = (0, _useParseAdaptiveCardJSON.default)();

  var _useAdaptiveCardsPack = (0, _useAdaptiveCardsPackage.default)(),
      _useAdaptiveCardsPack2 = (0, _slicedToArray2.default)(_useAdaptiveCardsPack, 1),
      _useAdaptiveCardsPack3 = _useAdaptiveCardsPack2[0],
      ChoiceSetInput = _useAdaptiveCardsPack3.ChoiceSetInput,
      DateInput = _useAdaptiveCardsPack3.DateInput,
      NumberInput = _useAdaptiveCardsPack3.NumberInput,
      OpenUrlAction = _useAdaptiveCardsPack3.OpenUrlAction,
      ShowCardAction = _useAdaptiveCardsPack3.ShowCardAction,
      SubmitAction = _useAdaptiveCardsPack3.SubmitAction,
      TextInput = _useAdaptiveCardsPack3.TextInput,
      TimeInput = _useAdaptiveCardsPack3.TimeInput,
      ToggleInput = _useAdaptiveCardsPack3.ToggleInput;

  var card = (0, _react.useMemo)(function () {
    return parseAdaptiveCardJSON(content, {
      ignoreErrors: true
    });
  }, [content, parseAdaptiveCardJSON]);
  var inputs = (0, _react.useMemo)(function () {
    var inputs = [];
    walkAllItems(card, function (node) {
      if (node instanceof ChoiceSetInput || node instanceof DateInput || node instanceof NumberInput || node instanceof OpenUrlAction || node instanceof ShowCardAction || node instanceof SubmitAction || node instanceof TextInput || node instanceof TimeInput || node instanceof ToggleInput) {
        inputs.push(node);
      }
    });
    return inputs;
  }, [card, ChoiceSetInput, DateInput, NumberInput, OpenUrlAction, ShowCardAction, SubmitAction, TextInput, TimeInput, ToggleInput]);
  var cardLabel = localize('ATTACHMENT_CARD', card.speak || '', '', '');
  return /*#__PURE__*/_react.default.createElement("article", null, /*#__PURE__*/_react.default.createElement("div", null, cardLabel), inputs.map(function (input, index) {
    return input instanceof ChoiceSetInput ? /*#__PURE__*/_react.default.createElement(AdaptiveCardChoiceSetInput, {
      input: input,
      key: index
    }) : input instanceof DateInput ? /*#__PURE__*/_react.default.createElement("label", {
      key: index
    }, input.title, /*#__PURE__*/_react.default.createElement("input", {
      placeholder: input.placeholder,
      tabIndex: -1,
      type: "date"
    })) : input instanceof NumberInput ? /*#__PURE__*/_react.default.createElement("label", {
      key: index
    }, input.title, /*#__PURE__*/_react.default.createElement("input", {
      placeholder: input.placeholder,
      tabIndex: -1,
      type: "number"
    })) : input instanceof OpenUrlAction || input instanceof ShowCardAction || input instanceof SubmitAction ? /*#__PURE__*/_react.default.createElement("div", {
      key: index
    }, /*#__PURE__*/_react.default.createElement("button", {
      tabIndex: -1,
      type: "button"
    }, input.title)) : input instanceof TextInput ? /*#__PURE__*/_react.default.createElement("label", {
      key: index
    }, input.title, /*#__PURE__*/_react.default.createElement("input", {
      placeholder: input.placeholder,
      tabIndex: -1,
      type: "text"
    })) : input instanceof TimeInput ? /*#__PURE__*/_react.default.createElement("label", {
      key: index
    }, input.title, /*#__PURE__*/_react.default.createElement("input", {
      placeholder: input.placeholder,
      tabIndex: -1,
      type: "time"
    })) : input instanceof ToggleInput ? /*#__PURE__*/_react.default.createElement("label", {
      key: index
    }, input.title, /*#__PURE__*/_react.default.createElement("input", {
      defaultChecked: input.value === input.valueOn,
      tabIndex: -1,
      type: "checkbox"
    })) : false;
  }));
};

AdaptiveCardAttachment.propTypes = {
  content: _propTypes.default.any.isRequired
};
var _default = AdaptiveCardAttachment;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VMb2NhbGl6ZXIiLCJob29rcyIsIndhbGtBbGxJdGVtcyIsIm5vZGUiLCJmbiIsImdldEl0ZW1BdCIsImdldEl0ZW1Db3VudCIsImNvdW50IiwiaW5kZXgiLCJnZXRBY3Rpb25BdCIsImdldEFjdGlvbkNvdW50IiwiQWRhcHRpdmVDYXJkQ2hvaWNlU2V0SW5wdXQiLCJpbnB1dCIsImNob2ljZXMiLCJkZWZhdWx0VmFsdWUiLCJsYWJlbCIsImxhYmVsSWQiLCJ1c2VVbmlxdWVJZCIsImRlZmF1bHRDaG9pY2UiLCJmaW5kIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJtYXAiLCJjaG9pY2UiLCJ0aXRsZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInNoYXBlIiwiYXJyYXlPZiIsInN0cmluZyIsImFueSIsImlzUmVxdWlyZWQiLCJBZGFwdGl2ZUNhcmRBdHRhY2htZW50IiwiY29udGVudCIsImxvY2FsaXplIiwicGFyc2VBZGFwdGl2ZUNhcmRKU09OIiwidXNlUGFyc2VBZGFwdGl2ZUNhcmRKU09OIiwidXNlQWRhcHRpdmVDYXJkc1BhY2thZ2UiLCJDaG9pY2VTZXRJbnB1dCIsIkRhdGVJbnB1dCIsIk51bWJlcklucHV0IiwiT3BlblVybEFjdGlvbiIsIlNob3dDYXJkQWN0aW9uIiwiU3VibWl0QWN0aW9uIiwiVGV4dElucHV0IiwiVGltZUlucHV0IiwiVG9nZ2xlSW5wdXQiLCJjYXJkIiwidXNlTWVtbyIsImlnbm9yZUVycm9ycyIsImlucHV0cyIsInB1c2giLCJjYXJkTGFiZWwiLCJzcGVhayIsInBsYWNlaG9sZGVyIiwidmFsdWVPbiJdLCJzb3VyY2VSb290IjoiYnVuZGxlOi8vLyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FkYXB0aXZlQ2FyZHMvQXR0YWNobWVudEZvclNjcmVlblJlYWRlci9BZGFwdGl2ZUNhcmRBdHRhY2htZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L25vLWFycmF5LWluZGV4LWtleSAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZm9yYmlkLWRvbS1wcm9wcyAqL1xuaW1wb3J0IHsgaG9va3MgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb21wb25lbnQnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdXNlQWRhcHRpdmVDYXJkc1BhY2thZ2UgZnJvbSAnLi4vaG9va3MvdXNlQWRhcHRpdmVDYXJkc1BhY2thZ2UnO1xuaW1wb3J0IHVzZVBhcnNlQWRhcHRpdmVDYXJkSlNPTiBmcm9tICcuLi9ob29rcy9pbnRlcm5hbC91c2VQYXJzZUFkYXB0aXZlQ2FyZEpTT04nO1xuaW1wb3J0IHVzZVVuaXF1ZUlkIGZyb20gJy4uL2hvb2tzL2ludGVybmFsL3VzZVVuaXF1ZUlkJztcblxuY29uc3QgeyB1c2VMb2NhbGl6ZXIgfSA9IGhvb2tzO1xuXG4vLyBQZXJmb3JtIGEgZGVwdGgtZmlyc3Qgc2VhcmNoIG9mIHRoZSBBZGFwdGl2ZSBDYXJkIHRyZWUuXG5mdW5jdGlvbiB3YWxrQWxsSXRlbXMobm9kZSwgZm4pIHtcbiAgZm4obm9kZSk7XG5cbiAgaWYgKG5vZGUuZ2V0SXRlbUF0ICYmIG5vZGUuZ2V0SXRlbUNvdW50KSB7XG4gICAgZm9yIChsZXQgY291bnQgPSBub2RlLmdldEl0ZW1Db3VudCgpLCBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcbiAgICAgIHdhbGtBbGxJdGVtcyhub2RlLmdldEl0ZW1BdChpbmRleCksIGZuKTtcbiAgICB9XG4gIH1cblxuICBpZiAobm9kZS5nZXRBY3Rpb25BdCAmJiBub2RlLmdldEFjdGlvbkNvdW50KSB7XG4gICAgZm9yIChsZXQgY291bnQgPSBub2RlLmdldEFjdGlvbkNvdW50KCksIGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXgrKykge1xuICAgICAgZm4obm9kZS5nZXRBY3Rpb25BdChpbmRleCkpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBBZGFwdGl2ZUNhcmRDaG9pY2VTZXRJbnB1dCA9ICh7IGlucHV0OiB7IGNob2ljZXMsIGRlZmF1bHRWYWx1ZSwgbGFiZWwgfSB9KSA9PiB7XG4gIGNvbnN0IGxhYmVsSWQgPSB1c2VVbmlxdWVJZCgnd2ViY2hhdF9faWQnKTtcbiAgY29uc3QgZGVmYXVsdENob2ljZSA9IGNob2ljZXMuZmluZCgoeyB2YWx1ZSB9KSA9PiBkZWZhdWx0VmFsdWUgPT09IHZhbHVlIHx8ICghZGVmYXVsdFZhbHVlICYmICF2YWx1ZSkpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgYXJpYS1sYWJlbD17bGFiZWx9XG4gICAgICAgIGFyaWEtbGFiZWxsZWRieT17IWxhYmVsICYmIGRlZmF1bHRDaG9pY2UgPyBsYWJlbElkIDogdW5kZWZpbmVkfVxuICAgICAgICBkZWZhdWx0VmFsdWU9e2RlZmF1bHRWYWx1ZX1cbiAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgPlxuICAgICAgICB7Y2hvaWNlcy5tYXAoY2hvaWNlID0+IChcbiAgICAgICAgICA8b3B0aW9uIGlkPXshbGFiZWwgJiYgY2hvaWNlID09PSBkZWZhdWx0Q2hvaWNlID8gbGFiZWxJZCA6IHVuZGVmaW5lZH0ga2V5PXtjaG9pY2UudmFsdWV9IHZhbHVlPXtjaG9pY2UudmFsdWV9PlxuICAgICAgICAgICAge2Nob2ljZS50aXRsZX1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbkFkYXB0aXZlQ2FyZENob2ljZVNldElucHV0LnByb3BUeXBlcyA9IHtcbiAgaW5wdXQ6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY2hvaWNlczogUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgdmFsdWU6IFByb3BUeXBlcy5hbnlcbiAgICAgIH0pXG4gICAgKSxcbiAgICBkZWZhdWx0VmFsdWU6IFByb3BUeXBlcy5hbnksXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5hbnlcbiAgfSkuaXNSZXF1aXJlZFxufTtcblxuY29uc3QgQWRhcHRpdmVDYXJkQXR0YWNobWVudCA9ICh7IGNvbnRlbnQgfSkgPT4ge1xuICBjb25zdCBsb2NhbGl6ZSA9IHVzZUxvY2FsaXplcigpO1xuICBjb25zdCBwYXJzZUFkYXB0aXZlQ2FyZEpTT04gPSB1c2VQYXJzZUFkYXB0aXZlQ2FyZEpTT04oKTtcbiAgY29uc3QgW1xuICAgIHtcbiAgICAgIENob2ljZVNldElucHV0LFxuICAgICAgRGF0ZUlucHV0LFxuICAgICAgTnVtYmVySW5wdXQsXG4gICAgICBPcGVuVXJsQWN0aW9uLFxuICAgICAgU2hvd0NhcmRBY3Rpb24sXG4gICAgICBTdWJtaXRBY3Rpb24sXG4gICAgICBUZXh0SW5wdXQsXG4gICAgICBUaW1lSW5wdXQsXG4gICAgICBUb2dnbGVJbnB1dFxuICAgIH1cbiAgXSA9IHVzZUFkYXB0aXZlQ2FyZHNQYWNrYWdlKCk7XG5cbiAgY29uc3QgY2FyZCA9IHVzZU1lbW8oKCkgPT4gcGFyc2VBZGFwdGl2ZUNhcmRKU09OKGNvbnRlbnQsIHsgaWdub3JlRXJyb3JzOiB0cnVlIH0pLCBbY29udGVudCwgcGFyc2VBZGFwdGl2ZUNhcmRKU09OXSk7XG4gIGNvbnN0IGlucHV0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0cyA9IFtdO1xuXG4gICAgd2Fsa0FsbEl0ZW1zKGNhcmQsIG5vZGUgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgQ2hvaWNlU2V0SW5wdXQgfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIERhdGVJbnB1dCB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgTnVtYmVySW5wdXQgfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIE9wZW5VcmxBY3Rpb24gfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIFNob3dDYXJkQWN0aW9uIHx8XG4gICAgICAgIG5vZGUgaW5zdGFuY2VvZiBTdWJtaXRBY3Rpb24gfHxcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIFRleHRJbnB1dCB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgVGltZUlucHV0IHx8XG4gICAgICAgIG5vZGUgaW5zdGFuY2VvZiBUb2dnbGVJbnB1dFxuICAgICAgKSB7XG4gICAgICAgIGlucHV0cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlucHV0cztcbiAgfSwgW1xuICAgIGNhcmQsXG4gICAgQ2hvaWNlU2V0SW5wdXQsXG4gICAgRGF0ZUlucHV0LFxuICAgIE51bWJlcklucHV0LFxuICAgIE9wZW5VcmxBY3Rpb24sXG4gICAgU2hvd0NhcmRBY3Rpb24sXG4gICAgU3VibWl0QWN0aW9uLFxuICAgIFRleHRJbnB1dCxcbiAgICBUaW1lSW5wdXQsXG4gICAgVG9nZ2xlSW5wdXRcbiAgXSk7XG5cbiAgY29uc3QgY2FyZExhYmVsID0gbG9jYWxpemUoJ0FUVEFDSE1FTlRfQ0FSRCcsIGNhcmQuc3BlYWsgfHwgJycsICcnLCAnJyk7XG5cbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cbiAgICAgIDxkaXY+e2NhcmRMYWJlbH08L2Rpdj5cbiAgICAgIHtpbnB1dHMubWFwKChpbnB1dCwgaW5kZXgpID0+XG4gICAgICAgIGlucHV0IGluc3RhbmNlb2YgQ2hvaWNlU2V0SW5wdXQgPyAoXG4gICAgICAgICAgPEFkYXB0aXZlQ2FyZENob2ljZVNldElucHV0IGlucHV0PXtpbnB1dH0ga2V5PXtpbmRleH0gLz5cbiAgICAgICAgKSA6IGlucHV0IGluc3RhbmNlb2YgRGF0ZUlucHV0ID8gKFxuICAgICAgICAgIDxsYWJlbCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIHtpbnB1dC50aXRsZX1cbiAgICAgICAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj17aW5wdXQucGxhY2Vob2xkZXJ9IHRhYkluZGV4PXstMX0gdHlwZT1cImRhdGVcIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICkgOiBpbnB1dCBpbnN0YW5jZW9mIE51bWJlcklucHV0ID8gKFxuICAgICAgICAgIDxsYWJlbCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIHtpbnB1dC50aXRsZX1cbiAgICAgICAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj17aW5wdXQucGxhY2Vob2xkZXJ9IHRhYkluZGV4PXstMX0gdHlwZT1cIm51bWJlclwiIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgKSA6IGlucHV0IGluc3RhbmNlb2YgT3BlblVybEFjdGlvbiB8fCBpbnB1dCBpbnN0YW5jZW9mIFNob3dDYXJkQWN0aW9uIHx8IGlucHV0IGluc3RhbmNlb2YgU3VibWl0QWN0aW9uID8gKFxuICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XG4gICAgICAgICAgICA8YnV0dG9uIHRhYkluZGV4PXstMX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICB7aW5wdXQudGl0bGV9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IGlucHV0IGluc3RhbmNlb2YgVGV4dElucHV0ID8gKFxuICAgICAgICAgIDxsYWJlbCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIHtpbnB1dC50aXRsZX1cbiAgICAgICAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj17aW5wdXQucGxhY2Vob2xkZXJ9IHRhYkluZGV4PXstMX0gdHlwZT1cInRleHRcIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICkgOiBpbnB1dCBpbnN0YW5jZW9mIFRpbWVJbnB1dCA/IChcbiAgICAgICAgICA8bGFiZWwga2V5PXtpbmRleH0+XG4gICAgICAgICAgICB7aW5wdXQudGl0bGV9XG4gICAgICAgICAgICA8aW5wdXQgcGxhY2Vob2xkZXI9e2lucHV0LnBsYWNlaG9sZGVyfSB0YWJJbmRleD17LTF9IHR5cGU9XCJ0aW1lXCIgLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICApIDogaW5wdXQgaW5zdGFuY2VvZiBUb2dnbGVJbnB1dCA/IChcbiAgICAgICAgICA8bGFiZWwga2V5PXtpbmRleH0+XG4gICAgICAgICAgICB7aW5wdXQudGl0bGV9XG4gICAgICAgICAgICA8aW5wdXQgZGVmYXVsdENoZWNrZWQ9e2lucHV0LnZhbHVlID09PSBpbnB1dC52YWx1ZU9ufSB0YWJJbmRleD17LTF9IHR5cGU9XCJjaGVja2JveFwiIC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApXG4gICAgICApfVxuICAgIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cbkFkYXB0aXZlQ2FyZEF0dGFjaG1lbnQucHJvcFR5cGVzID0ge1xuICBjb250ZW50OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFkYXB0aXZlQ2FyZEF0dGFjaG1lbnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7Ozs7O0FBUkE7O0FBQ0E7QUFTQSxJQUFRQSxZQUFSLEdBQXlCQyxtQ0FBekIsQ0FBUUQsWUFBUixDLENBRUE7O0FBQ0EsU0FBU0UsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLEVBQTVCLEVBQWdDO0VBQzlCQSxFQUFFLENBQUNELElBQUQsQ0FBRjs7RUFFQSxJQUFJQSxJQUFJLENBQUNFLFNBQUwsSUFBa0JGLElBQUksQ0FBQ0csWUFBM0IsRUFBeUM7SUFDdkMsS0FBSyxJQUFJQyxLQUFLLEdBQUdKLElBQUksQ0FBQ0csWUFBTCxFQUFaLEVBQWlDRSxLQUFLLEdBQUcsQ0FBOUMsRUFBaURBLEtBQUssR0FBR0QsS0FBekQsRUFBZ0VDLEtBQUssRUFBckUsRUFBeUU7TUFDdkVOLFlB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