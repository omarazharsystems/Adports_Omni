"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof = require("@babel/runtime/helpers/typeof");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _abortControllerEs = require("abort-controller-es5");

var _SpeechToText = require("web-speech-cognitive-services/lib/SpeechServices/SpeechToText");

var _createTaskQueue2 = _interopRequireDefault(require("./createTaskQueue"));

var _es = _interopRequireWildcard(require("event-target-shim/es5"));

var _playCognitiveServicesStream = _interopRequireDefault(require("./playCognitiveServicesStream"));

var _playWhiteNoise = _interopRequireDefault(require("./playWhiteNoise"));

var _SpeechSynthesisAudioStreamUtterance = _interopRequireDefault(require("./SpeechSynthesisAudioStreamUtterance"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _default(_ref) {
  var audioContext = _ref.audioContext,
      enableTelemetry = _ref.enableTelemetry,
      _ref$ponyfill = _ref.ponyfill,
      ponyfill = _ref$ponyfill === void 0 ? {
    AudioContext: window.AudioContext || window.webkitAudioContext
  } : _ref$ponyfill,
      recognizer = _ref.recognizer,
      textNormalization = _ref.textNormalization;

  if (!ponyfill.AudioContext) {
    console.warn('botframework-directlinespeech-sdk: This browser does not support Web Audio API. Speech support is disabled.');
    return function () {
      return {};
    };
  }

  return function () {
    var _createSpeechRecognit = (0, _SpeechToText.createSpeechRecognitionPonyfillFromRecognizer)({
      createRecognizer: function createRecognizer() {
        return recognizer;
      },
      enableTelemetry: enableTelemetry,
      looseEvents: true,
      textNormalization: textNormalization
    }),
        SpeechGrammarList = _createSpeechRecognit.SpeechGrammarList,
        SpeechRecognition = _createSpeechRecognit.SpeechRecognition;

    if (!audioContext) {
      audioContext = new ponyfill.AudioContext();
    }

    var _createTaskQueue = (0, _createTaskQueue2.default)(),
        cancelAll = _createTaskQueue.cancelAll,
        push = _createTaskQueue.push;

    var SpeechSynthesis = /*#__PURE__*/function (_EventTarget) {
      (0, _inherits2.default)(SpeechSynthesis, _EventTarget);

      var _super = _createSuper(SpeechSynthesis);

      function SpeechSynthesis() {
        (0, _classCallCheck2.default)(this, SpeechSynthesis);
        return _super.apply(this, arguments);
      }

      (0, _createClass2.default)(SpeechSynthesis, [{
        key: "cancel",
        value: function cancel() {
          cancelAll();
        } // Returns an empty array.
        // Synthesis is done on the bot side, the content of the voice list is not meaningful on the client side.

      }, {
        key: "getVoices",
        value: function getVoices() {
          return [];
        }
      }, {
        key: "speak",
        value: function speak(utterance) {
          var _push = push(function () {
            var controller = new _abortControllerEs.AbortController();
            var signal = controller.signal;
            return {
              abort: controller.abort.bind(controller),
              result: (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
                return _regenerator.default.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        utterance.dispatchEvent(new _es.Event('start'));
                        _context.prev = 1;

                        if (!utterance.audioStream) {
                          _context.next = 7;
                          break;
                        }

                        _context.next = 5;
                        return (0, _playCognitiveServicesStream.default)(audioContext, utterance.audioStream, {
                          signal: signal
                        });

                      case 5:
                        _context.next = 9;
                        break;

                      case 7:
                        _context.next = 9;
                        return (0, _playWhiteNoise.default)(audioContext);

                      case 9:
                        _context.next = 15;
                        break;

                      case 11:
                        _context.prev = 11;
                        _context.t0 = _context["catch"](1);

                        if (!(_context.t0.message !== 'aborted')) {
                          _context.next = 15;
                          break;
                        }

                        return _context.abrupt("return", utterance.dispatchEvent(new ErrorEvent(_context.t0)));

                      case 15:
                        utterance.dispatchEvent(new _es.Event('end'));

                      case 16:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee, null, [[1, 11]]);
              }))()
            };
          }),
              result = _push.result; // Catching the error to prevent uncaught promise error due to cancellation.


          result.catch(function (error) {
            if (!/^cancelled/i.test(error.message)) {
              throw error;
            }
          });
        }
      }, {
        key: "onvoiceschanged",
        get: function get() {
          return (0, _es.getEventAttributeValue)(this, 'voiceschanged');
        },
        set: function set(value) {
          (0, _es.setEventAttributeValue)(this, 'voiceschanged', value);
        }
      }]);
      return SpeechSynthesis;
    }(_es.default);

    return {
      SpeechGrammarList: SpeechGrammarList,
      SpeechRecognition: SpeechRecognition,
      speechSynthesis: new SpeechSynthesis(),
      SpeechSynthesisUtterance: _SpeechSynthesisAudioStreamUtterance.default
    };
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpb0NvbnRleHQiLCJlbmFibGVUZWxlbWV0cnkiLCJwb255ZmlsbCIsIkF1ZGlvQ29udGV4dCIsIndpbmRvdyIsIndlYmtpdEF1ZGlvQ29udGV4dCIsInJlY29nbml6ZXIiLCJ0ZXh0Tm9ybWFsaXphdGlvbiIsImNvbnNvbGUiLCJ3YXJuIiwiY3JlYXRlU3BlZWNoUmVjb2duaXRpb25Qb255ZmlsbEZyb21SZWNvZ25pemVyIiwiY3JlYXRlUmVjb2duaXplciIsImxvb3NlRXZlbnRzIiwiU3BlZWNoR3JhbW1hckxpc3QiLCJTcGVlY2hSZWNvZ25pdGlvbiIsImNyZWF0ZVRhc2tRdWV1ZSIsImNhbmNlbEFsbCIsInB1c2giLCJTcGVlY2hTeW50aGVzaXMiLCJ1dHRlcmFuY2UiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwiYWJvcnQiLCJiaW5kIiwicmVzdWx0IiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiYXVkaW9TdHJlYW0iLCJwbGF5Q29nbml0aXZlU2VydmljZXNTdHJlYW0iLCJwbGF5V2hpdGVOb2lzZSIsIm1lc3NhZ2UiLCJFcnJvckV2ZW50IiwiY2F0Y2giLCJlcnJvciIsInRlc3QiLCJnZXRFdmVudEF0dHJpYnV0ZVZhbHVlIiwidmFsdWUiLCJzZXRFdmVudEF0dHJpYnV0ZVZhbHVlIiwiRXZlbnRUYXJnZXQiLCJzcGVlY2hTeW50aGVzaXMiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJTcGVlY2hTeW50aGVzaXNBdWRpb1N0cmVhbVV0dGVyYW5jZSJdLCJzb3VyY2VSb290IjoiZGlyZWN0bGluZXNwZWVjaDovLy8iLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVXZWJTcGVlY2hQb255ZmlsbEZhY3RvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IFtcImVycm9yXCIsIHsgXCJleGNlcHRNZXRob2RzXCI6IFtcImNhbmNlbFwiLCBcImdldFZvaWNlc1wiLCBcInNwZWFrXCJdIH1dICovXG5cbmltcG9ydCB7IEFib3J0Q29udHJvbGxlciB9IGZyb20gJ2Fib3J0LWNvbnRyb2xsZXItZXM1JztcbmltcG9ydCB7IGNyZWF0ZVNwZWVjaFJlY29nbml0aW9uUG9ueWZpbGxGcm9tUmVjb2duaXplciB9IGZyb20gJ3dlYi1zcGVlY2gtY29nbml0aXZlLXNlcnZpY2VzL2xpYi9TcGVlY2hTZXJ2aWNlcy9TcGVlY2hUb1RleHQnO1xuXG5pbXBvcnQgY3JlYXRlVGFza1F1ZXVlIGZyb20gJy4vY3JlYXRlVGFza1F1ZXVlJztcbmltcG9ydCBFdmVudFRhcmdldCwgeyBFdmVudCwgZ2V0RXZlbnRBdHRyaWJ1dGVWYWx1ZSwgc2V0RXZlbnRBdHRyaWJ1dGVWYWx1ZSB9IGZyb20gJ2V2ZW50LXRhcmdldC1zaGltL2VzNSc7XG5pbXBvcnQgcGxheUNvZ25pdGl2ZVNlcnZpY2VzU3RyZWFtIGZyb20gJy4vcGxheUNvZ25pdGl2ZVNlcnZpY2VzU3RyZWFtJztcbmltcG9ydCBwbGF5V2hpdGVOb2lzZSBmcm9tICcuL3BsYXlXaGl0ZU5vaXNlJztcbmltcG9ydCBTcGVlY2hTeW50aGVzaXNBdWRpb1N0cmVhbVV0dGVyYW5jZSBmcm9tICcuL1NwZWVjaFN5bnRoZXNpc0F1ZGlvU3RyZWFtVXR0ZXJhbmNlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHtcbiAgYXVkaW9Db250ZXh0LFxuICBlbmFibGVUZWxlbWV0cnksXG4gIHBvbnlmaWxsID0ge1xuICAgIEF1ZGlvQ29udGV4dDogd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0XG4gIH0sXG4gIHJlY29nbml6ZXIsXG4gIHRleHROb3JtYWxpemF0aW9uXG59KSB7XG4gIGlmICghcG9ueWZpbGwuQXVkaW9Db250ZXh0KSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ2JvdGZyYW1ld29yay1kaXJlY3RsaW5lc3BlZWNoLXNkazogVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViIEF1ZGlvIEFQSS4gU3BlZWNoIHN1cHBvcnQgaXMgZGlzYWJsZWQuJ1xuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4gKHt9KTtcbiAgfVxuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgeyBTcGVlY2hHcmFtbWFyTGlzdCwgU3BlZWNoUmVjb2duaXRpb24gfSA9IGNyZWF0ZVNwZWVjaFJlY29nbml0aW9uUG9ueWZpbGxGcm9tUmVjb2duaXplcih7XG4gICAgICBjcmVhdGVSZWNvZ25pemVyOiAoKSA9PiByZWNvZ25pemVyLFxuICAgICAgZW5hYmxlVGVsZW1ldHJ5LFxuICAgICAgbG9vc2VFdmVudHM6IHRydWUsXG4gICAgICB0ZXh0Tm9ybWFsaXphdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKCFhdWRpb0NvbnRleHQpIHtcbiAgICAgIGF1ZGlvQ29udGV4dCA9IG5ldyBwb255ZmlsbC5BdWRpb0NvbnRleHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNhbmNlbEFsbCwgcHVzaCB9ID0gY3JlYXRlVGFza1F1ZXVlKCk7XG5cbiAgICBjbGFzcyBTcGVlY2hTeW50aGVzaXMgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gICAgICBjYW5jZWwoKSB7XG4gICAgICAgIGNhbmNlbEFsbCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm5zIGFuIGVtcHR5IGFycmF5LlxuICAgICAgLy8gU3ludGhlc2lzIGlzIGRvbmUgb24gdGhlIGJvdCBzaWRlLCB0aGUgY29udGVudCBvZiB0aGUgdm9pY2UgbGlzdCBpcyBub3QgbWVhbmluZ2Z1bCBvbiB0aGUgY2xpZW50IHNpZGUuXG4gICAgICBnZXRWb2ljZXMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgc3BlYWsodXR0ZXJhbmNlKSB7XG4gICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSBwdXNoKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBjb250cm9sbGVyO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFib3J0OiBjb250cm9sbGVyLmFib3J0LmJpbmQoY29udHJvbGxlciksXG4gICAgICAgICAgICByZXN1bHQ6IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIHV0dGVyYW5jZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc3RhcnQnKSk7XG5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodXR0ZXJhbmNlLmF1ZGlvU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBwbGF5Q29nbml0aXZlU2VydmljZXNTdHJlYW0oYXVkaW9Db250ZXh0LCB1dHRlcmFuY2UuYXVkaW9TdHJlYW0sIHsgc2lnbmFsIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBwbGF5V2hpdGVOb2lzZShhdWRpb0NvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBFaXRoZXIgZGlzcGF0Y2ggXCJlbmRcIiBvciBcImVycm9yXCIgZXZlbnQsIGJ1dCBub3QgYm90aFxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlICE9PSAnYWJvcnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1dHRlcmFuY2UuZGlzcGF0Y2hFdmVudChuZXcgRXJyb3JFdmVudChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHV0dGVyYW5jZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZW5kJykpO1xuICAgICAgICAgICAgfSkoKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhdGNoaW5nIHRoZSBlcnJvciB0byBwcmV2ZW50IHVuY2F1Z2h0IHByb21pc2UgZXJyb3IgZHVlIHRvIGNhbmNlbGxhdGlvbi5cbiAgICAgICAgcmVzdWx0LmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBpZiAoIS9eY2FuY2VsbGVkL2l1LnRlc3QoZXJyb3IubWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldCBvbnZvaWNlc2NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiBnZXRFdmVudEF0dHJpYnV0ZVZhbHVlKHRoaXMsICd2b2ljZXNjaGFuZ2VkJyk7XG4gICAgICB9XG5cbiAgICAgIHNldCBvbnZvaWNlc2NoYW5nZWQodmFsdWUpIHtcbiAgICAgICAgc2V0RXZlbnRBdHRyaWJ1dGVWYWx1ZSh0aGlzLCAndm9pY2VzY2hhbmdlZCcsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgU3BlZWNoR3JhbW1hckxpc3QsXG4gICAgICBTcGVlY2hSZWNvZ25pdGlvbixcbiAgICAgIHNwZWVjaFN5bnRoZXNpczogbmV3IFNwZWVjaFN5bnRoZXNpcygpLFxuICAgICAgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlOiBTcGVlY2hTeW50aGVzaXNBdWRpb1N0cmVhbVV0dGVyYW5jZVxuICAgIH07XG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7OztBQUVlLHdCQVFaO0VBQUEsSUFQREEsWUFPQyxRQVBEQSxZQU9DO0VBQUEsSUFOREMsZUFNQyxRQU5EQSxlQU1DO0VBQUEseUJBTERDLFFBS0M7RUFBQSxJQUxEQSxRQUtDLDhCQUxVO0lBQ1RDLFlBQVksRUFBRUMsTUFBTSxDQUFDRCxZQUFQLElBQXVCQyxNQUFNLENBQUNDO0VBRG5DLENBS1Y7RUFBQSxJQUZEQyxVQUVDLFFBRkRB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